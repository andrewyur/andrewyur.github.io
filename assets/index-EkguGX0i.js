(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))C(u);new MutationObserver(u=>{for(const e of u)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&C(l)}).observe(document,{childList:!0,subtree:!0});function p(u){const e={};return u.integrity&&(e.integrity=u.integrity),u.referrerPolicy&&(e.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?e.credentials="include":u.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function C(u){if(u.ep)return;u.ep=!0;const e=p(u);fetch(u.href,e)}})();const _t=!1;var Qt=Array.isArray,An=Array.prototype.indexOf,Tn=Array.from,rt=Object.defineProperty,Fe=Object.getOwnPropertyDescriptor,Bn=Object.prototype,kn=Array.prototype,bn=Object.getPrototypeOf,kt=Object.isExtensible;function Ln(c){for(var g=0;g<c.length;g++)c[g]()}function Rn(){var c,g,p=new Promise((C,u)=>{c=C,g=u});return{promise:p,resolve:c,reject:g}}const q=2,ft=4,Kt=8,Xe=16,ge=32,Be=64,Zt=128,j=256,_e=512,Q=1024,te=2048,Pe=4096,Ie=8192,ke=16384,ut=32768,Dn=65536,bt=1<<17,Fn=1<<18,ct=1<<19,Jt=1<<20,at=1<<21,vt=1<<22,me=1<<23,Ge=Symbol("$state"),ht=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Vn(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function On(c){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Hn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Nn(c){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Un(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Wn(c){throw new Error("https://svelte.dev/e/effect_orphan")}function $n(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Gn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function zn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function _n(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Qn=1,Kn=2,z=Symbol();function Yt(c){return c===this.v}let Zn=!1,ne=null;function Qe(c){ne=c}function dt(c,g=!1,p){ne={p:ne,c:null,e:null,s:c,x:null,l:null}}function pt(c){var g=ne,p=g.e;if(p!==null){g.e=null;for(var C of p)fn(C)}return c!==void 0&&(g.x=c),ne=g.p,c??{}}function Xt(){return!0}const Jn=new WeakMap;function Yn(c){var g=N;if(g===null)return O.f|=me,c;if((g.f&ut)===0){if((g.f&Zt)===0)throw!g.parent&&c instanceof Error&&jt(c),c;g.b.error(c)}else gt(c,g)}function gt(c,g){for(;g!==null;){if((g.f&Zt)!==0)try{g.b.error(c);return}catch(p){c=p}g=g.parent}throw c instanceof Error&&jt(c),c}function jt(c){const g=Jn.get(c);g&&(rt(c,"message",{value:g.message}),rt(c,"stack",{value:g.stack}))}let Ke=[];function Xn(){var c=Ke;Ke=[],Ln(c)}function jn(c){Ke.length===0&&queueMicrotask(Xn),Ke.push(c)}function qn(){for(var c=N.b;c!==null&&!c.has_pending_snippet();)c=c.parent;return c===null&&Vn(),c}function ei(c){var g=q|te,p=O!==null&&(O.f&q)!==0?O:null;return N===null||p!==null&&(p.f&j)!==0?g|=j:N.f|=ct,{ctx:ne,deps:null,effects:null,equals:Yt,f:g,fn:c,reactions:null,rv:0,v:z,wv:0,parent:p??N,ac:null}}function ti(c,g){let p=N;p===null&&Hn();var C=p.b,u=void 0,e=nn(z),l=null,a=!O;return pi(()=>{try{var n=c()}catch(t){n=Promise.reject(t)}var f=()=>n;u=l?.then(f,f)??Promise.resolve(n),l=u;var i=ae,h=C.pending;a&&(C.update_pending_count(1),h||i.increment());const o=(t,s=void 0)=>{l=null,h||i.activate(),s?s!==ht&&(e.f|=me,ot(e,s)):((e.f&me)!==0&&(e.f^=me),ot(e,t)),a&&(C.update_pending_count(-1),h||i.decrement()),tn()};if(u.then(o,t=>o(null,t||"unknown")),i)return()=>{queueMicrotask(()=>i.neuter())}}),new Promise(n=>{function f(i){function h(){i===u?n(e):f(u)}i.then(h,h)}f(u)})}function qt(c){var g=c.effects;if(g!==null){c.effects=null;for(var p=0;p<g.length;p+=1)Se(g[p])}}function ni(c){for(var g=c.parent;g!==null;){if((g.f&q)===0)return g;g=g.parent}return null}function mt(c){var g,p=N;Te(ni(c));try{qt(c),g=gn(c)}finally{Te(p)}return g}function en(c){var g=mt(c);if(c.equals(g)||(c.v=g,c.wv=dn()),!be)if(Ae!==null)Ae.set(c,c.v);else{var p=(he||(c.f&j)!==0)&&c.deps!==null?Pe:Q;J(c,p)}}function ii(c,g,p){const C=ei;if(g.length===0){p(c.map(C));return}var u=ae,e=N,l=ri(),a=qn();Promise.all(g.map(n=>ti(n))).then(n=>{u?.activate(),l();try{p([...c.map(C),...n])}catch(f){(e.f&ke)===0&&gt(f,e)}u?.deactivate(),tn()}).catch(n=>{a.error(n)})}function ri(){var c=N,g=O,p=ne;return function(){Te(c),pe(g),Qe(p)}}function tn(){Te(null),pe(null),Qe(null)}const We=new Set;let ae=null,Ae=null,Lt=new Set,Re=[],xt=null,st=!1;class je{#l=new Map;#a=new Map;#s=new Set;#t=0;#f=null;#u=!1;#i=[];#o=[];#n=[];#e=[];#r=[];skipped_effects=new Set;#v(g){Re=[];var p=null;if(We.size>1){p=new Map,Ae=new Map;for(const[e,l]of this.#l)p.set(e,{v:e.v,wv:e.wv}),e.v=l;for(const e of We)if(e!==this)for(const[l,a]of e.#a)p.has(l)||(p.set(l,{v:l.v,wv:l.wv}),l.v=a)}for(const e of g)this.#h(e);if(this.#i.length===0&&this.#t===0){var C=this.#n,u=this.#e;this.#n=[],this.#e=[],this.#r=[],this.#c(),Rt(C),Rt(u),this.#f?.resolve()}else{for(const e of this.#n)J(e,Q);for(const e of this.#e)J(e,Q);for(const e of this.#r)J(e,Q)}if(p){for(const[e,{v:l,wv:a}]of p)e.wv<=a&&(e.v=l);Ae=null}for(const e of this.#i)Ve(e);for(const e of this.#o)Ve(e);this.#i=[],this.#o=[]}#h(g){g.f^=Q;for(var p=g.first;p!==null;){var C=p.f,u=(C&(ge|Be))!==0,e=u&&(C&Q)!==0,l=e||(C&Ie)!==0||this.skipped_effects.has(p);if(!l&&p.fn!==null){if(u)p.f^=Q;else if((C&ft)!==0)this.#e.push(p);else if(qe(p))if((C&vt)!==0){var a=p.b?.pending?this.#o:this.#i;a.push(p)}else(p.f&Xe)!==0&&this.#r.push(p),Ve(p);var n=p.first;if(n!==null){p=n;continue}}var f=p.parent;for(p=p.next;p===null&&f!==null;)p=f.next,f=f.parent}}capture(g,p){this.#a.has(g)||this.#a.set(g,p),this.#l.set(g,g.v)}activate(){ae=this}deactivate(){ae=null;for(const g of Lt)if(Lt.delete(g),g(),ae!==null)break}neuter(){this.#u=!0}flush(){Re.length>0?this.flush_effects():this.#c(),ae===this&&(this.#t===0&&We.delete(this),this.deactivate())}flush_effects(){var g=Ee;st=!0;try{var p=0;for(Ft(!0);Re.length>0;){if(p++>1e3){var C,u;ai()}this.#v(Re),ye.clear()}}finally{st=!1,Ft(g),xt=null}}#c(){if(!this.#u)for(const g of this.#s)g();this.#s.clear()}increment(){this.#t+=1}decrement(){if(this.#t-=1,this.#t===0){for(const g of this.#n)J(g,te),xe(g);for(const g of this.#e)J(g,te),xe(g);for(const g of this.#r)J(g,te),xe(g);this.#n=[],this.#e=[],this.flush()}else this.deactivate()}add_callback(g){this.#s.add(g)}settled(){return(this.#f??=Rn()).promise}static ensure(g=!0){if(ae===null){const p=ae=new je;We.add(ae),g&&queueMicrotask(()=>{ae===p&&p.flush()})}return ae}}function ai(){try{$n()}catch(c){gt(c,xt)}}function Rt(c){var g=c.length;if(g!==0){for(var p=0;p<g;p++){var C=c[p];if((C.f&(ke|Ie))===0&&qe(C)){var u=Je;if(Ve(C),C.deps===null&&C.first===null&&C.nodes_start===null&&(C.teardown===null&&C.ac===null?vn(C):C.fn=null),Je>u&&(C.f&Jt)!==0)break}}for(;p<g;p+=1)xe(c[p])}}function xe(c){for(var g=xt=c;g.parent!==null;){g=g.parent;var p=g.f;if(st&&g===N&&(p&Xe)!==0)return;if((p&(Be|ge))!==0){if((p&Q)===0)return;g.f^=Q}}Re.push(g)}const ye=new Map;function nn(c,g){var p={f:0,v:c,reactions:null,equals:Yt,rv:0,wv:0};return p}function se(c,g){const p=nn(c);return Pi(p),p}function _(c,g,p=!1){O!==null&&(!fe||(O.f&bt)!==0)&&Xt()&&(O.f&(q|Xe|vt|bt))!==0&&!ce?.includes(c)&&_n();let C=p?De(g):g;return ot(c,C)}function ot(c,g){if(!c.equals(g)){var p=c.v;be?ye.set(c,g):ye.set(c,p),c.v=g,je.ensure().capture(c,p),(c.f&q)!==0&&((c.f&te)!==0&&mt(c),J(c,(c.f&j)===0?Q:Pe)),c.wv=dn(),rn(c,te),N!==null&&(N.f&Q)!==0&&(N.f&(ge|Be))===0&&(ee===null?Ci([c]):ee.push(c))}return g}function nt(c){_(c,c.v+1)}function rn(c,g){var p=c.reactions;if(p!==null)for(var C=p.length,u=0;u<C;u++){var e=p[u],l=e.f;(l&te)===0&&(J(e,g),(l&(Q|j))!==0&&((l&q)!==0?rn(e,Pe):xe(e)))}}function De(c){if(typeof c!="object"||c===null||Ge in c)return c;const g=bn(c);if(g!==Bn&&g!==kn)return c;var p=new Map,C=Qt(c),u=se(0),e=we,l=a=>{if(we===e)return a();var n=O,f=we;pe(null),Ot(e);var i=a();return pe(n),Ot(f),i};return C&&p.set("length",se(c.length)),new Proxy(c,{defineProperty(a,n,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Gn();var i=p.get(n);return i===void 0?i=l(()=>{var h=se(f.value);return p.set(n,h),h}):_(i,f.value,!0),!0},deleteProperty(a,n){var f=p.get(n);if(f===void 0){if(n in a){const i=l(()=>se(z));p.set(n,i),nt(u)}}else _(f,z),nt(u);return!0},get(a,n,f){if(n===Ge)return c;var i=p.get(n),h=n in a;if(i===void 0&&(!h||Fe(a,n)?.writable)&&(i=l(()=>{var t=De(h?a[n]:z),s=se(t);return s}),p.set(n,i)),i!==void 0){var o=de(i);return o===z?void 0:o}return Reflect.get(a,n,f)},getOwnPropertyDescriptor(a,n){var f=Reflect.getOwnPropertyDescriptor(a,n);if(f&&"value"in f){var i=p.get(n);i&&(f.value=de(i))}else if(f===void 0){var h=p.get(n),o=h?.v;if(h!==void 0&&o!==z)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return f},has(a,n){if(n===Ge)return!0;var f=p.get(n),i=f!==void 0&&f.v!==z||Reflect.has(a,n);if(f!==void 0||N!==null&&(!i||Fe(a,n)?.writable)){f===void 0&&(f=l(()=>{var o=i?De(a[n]):z,t=se(o);return t}),p.set(n,f));var h=de(f);if(h===z)return!1}return i},set(a,n,f,i){var h=p.get(n),o=n in a;if(C&&n==="length")for(var t=f;t<h.v;t+=1){var s=p.get(t+"");s!==void 0?_(s,z):t in a&&(s=l(()=>se(z)),p.set(t+"",s))}if(h===void 0)(!o||Fe(a,n)?.writable)&&(h=l(()=>se(void 0)),_(h,De(f)),p.set(n,h));else{o=h.v!==z;var r=l(()=>De(f));_(h,r)}var v=Reflect.getOwnPropertyDescriptor(a,n);if(v?.set&&v.set.call(i,f),!o){if(C&&typeof n=="string"){var m=p.get("length"),S=Number(n);Number.isInteger(S)&&S>=m.v&&_(m,S+1)}nt(u)}return!0},ownKeys(a){de(u);var n=Reflect.ownKeys(a).filter(h=>{var o=p.get(h);return o===void 0||o.v!==z});for(var[f,i]of p)i.v!==z&&!(f in a)&&n.push(f);return n},setPrototypeOf(){zn()}})}var Dt,an,sn,on;function si(){if(Dt===void 0){Dt=window,an=/Firefox/.test(navigator.userAgent);var c=Element.prototype,g=Node.prototype,p=Text.prototype;sn=Fe(g,"firstChild").get,on=Fe(g,"nextSibling").get,kt(c)&&(c.__click=void 0,c.__className=void 0,c.__attributes=null,c.__style=void 0,c.__e=void 0),kt(p)&&(p.__t=void 0)}}function oi(c=""){return document.createTextNode(c)}function Ze(c){return sn.call(c)}function yt(c){return on.call(c)}function li(c,g){return Ze(c)}function fi(c,g){{var p=Ze(c);return p instanceof Comment&&p.data===""?yt(p):p}}function ln(c,g=1,p=!1){let C=c;for(;g--;)C=yt(C);return C}function ui(c){N===null&&O===null&&Wn(),O!==null&&(O.f&j)!==0&&N===null&&Un(),be&&Nn()}function ci(c,g){var p=g.last;p===null?g.last=g.first=c:(p.next=c,c.prev=p,g.last=c)}function Ce(c,g,p,C=!0){var u=N;u!==null&&(u.f&Ie)!==0&&(c|=Ie);var e={ctx:ne,deps:null,nodes_start:null,nodes_end:null,f:c|te,first:null,fn:g,last:null,next:null,parent:u,b:u&&u.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(p)try{Ve(e),e.f|=ut}catch(n){throw Se(e),n}else g!==null&&xe(e);var l=p&&e.deps===null&&e.first===null&&e.nodes_start===null&&e.teardown===null&&(e.f&ct)===0;if(!l&&C&&(u!==null&&ci(e,u),O!==null&&(O.f&q)!==0)){var a=O;(a.effects??=[]).push(e)}return e}function vi(c){ui();var g=N.f,p=!O&&(g&ge)!==0&&(g&ut)===0;if(p){var C=ne;(C.e??=[]).push(c)}else return fn(c)}function fn(c){return Ce(ft|Jt,c,!1)}function hi(c){je.ensure();const g=Ce(Be,c,!0);return(p={})=>new Promise(C=>{p.outro?wi(g,()=>{Se(g),C(void 0)}):(Se(g),C(void 0))})}function di(c){return Ce(ft,c,!1)}function pi(c){return Ce(vt|ct,c,!0)}function gi(c,g=0){return Ce(Kt|g,c,!0)}function wt(c,g=[],p=[]){ii(g,p,C=>{Ce(Kt,()=>c(...C.map(de)),!0)})}function mi(c,g=!0){return Ce(ge,c,!0,g)}function un(c){var g=c.teardown;if(g!==null){const p=be,C=O;Vt(!0),pe(null);try{g.call(null)}finally{Vt(p),pe(C)}}}function cn(c,g=!1){var p=c.first;for(c.first=c.last=null;p!==null;){p.ac?.abort(ht);var C=p.next;(p.f&Be)!==0?p.parent=null:Se(p,g),p=C}}function xi(c){for(var g=c.first;g!==null;){var p=g.next;(g.f&ge)===0&&Se(g),g=p}}function Se(c,g=!0){var p=!1;(g||(c.f&Fn)!==0)&&c.nodes_start!==null&&c.nodes_end!==null&&(yi(c.nodes_start,c.nodes_end),p=!0),cn(c,g&&!p),Ye(c,0),J(c,ke);var C=c.transitions;if(C!==null)for(const e of C)e.stop();un(c);var u=c.parent;u!==null&&u.first!==null&&vn(c),c.next=c.prev=c.teardown=c.ctx=c.deps=c.fn=c.nodes_start=c.nodes_end=c.ac=null}function yi(c,g){for(;c!==null;){var p=c===g?null:yt(c);c.remove(),c=p}}function vn(c){var g=c.parent,p=c.prev,C=c.next;p!==null&&(p.next=C),C!==null&&(C.prev=p),g!==null&&(g.first===c&&(g.first=C),g.last===c&&(g.last=p))}function wi(c,g){var p=[];hn(c,p,!0),Si(p,()=>{Se(c),g&&g()})}function Si(c,g){var p=c.length;if(p>0){var C=()=>--p||g();for(var u of c)u.out(C)}else g()}function hn(c,g,p){if((c.f&Ie)===0){if(c.f^=Ie,c.transitions!==null)for(const l of c.transitions)(l.is_global||p)&&g.push(l);for(var C=c.first;C!==null;){var u=C.next,e=(C.f&Dn)!==0||(C.f&ge)!==0;hn(C,g,e?p:!1),C=u}}}let Ee=!1;function Ft(c){Ee=c}let be=!1;function Vt(c){be=c}let O=null,fe=!1;function pe(c){O=c}let N=null;function Te(c){N=c}let ce=null;function Pi(c){O!==null&&(ce===null?ce=[c]:ce.push(c))}let Z=null,X=0,ee=null;function Ci(c){ee=c}let Je=1,Oe=0,we=Oe;function Ot(c){we=c}let he=!1;function dn(){return++Je}function qe(c){var g=c.f;if((g&te)!==0)return!0;if((g&Pe)!==0){var p=c.deps,C=(g&j)!==0;if(p!==null){var u,e,l=(g&_e)!==0,a=C&&N!==null&&!he,n=p.length;if((l||a)&&(N===null||(N.f&ke)===0)){var f=c,i=f.parent;for(u=0;u<n;u++)e=p[u],(l||!e?.reactions?.includes(f))&&(e.reactions??=[]).push(f);l&&(f.f^=_e),a&&i!==null&&(i.f&j)===0&&(f.f^=j)}for(u=0;u<n;u++)if(e=p[u],qe(e)&&en(e),e.wv>c.wv)return!0}(!C||N!==null&&!he)&&J(c,Q)}return!1}function pn(c,g,p=!0){var C=c.reactions;if(C!==null&&!ce?.includes(c))for(var u=0;u<C.length;u++){var e=C[u];(e.f&q)!==0?pn(e,g,!1):g===e&&(p?J(e,te):(e.f&Q)!==0&&J(e,Pe),xe(e))}}function gn(c){var g=Z,p=X,C=ee,u=O,e=he,l=ce,a=ne,n=fe,f=we,i=c.f;Z=null,X=0,ee=null,he=(i&j)!==0&&(fe||!Ee||O===null),O=(i&(ge|Be))===0?c:null,ce=null,Qe(c.ctx),fe=!1,we=++Oe,c.ac!==null&&(c.ac.abort(ht),c.ac=null);try{c.f|=at;var h=(0,c.fn)(),o=c.deps;if(Z!==null){var t;if(Ye(c,X),o!==null&&X>0)for(o.length=X+Z.length,t=0;t<Z.length;t++)o[X+t]=Z[t];else c.deps=o=Z;if(!he||(i&q)!==0&&c.reactions!==null)for(t=X;t<o.length;t++)(o[t].reactions??=[]).push(c)}else o!==null&&X<o.length&&(Ye(c,X),o.length=X);if(Xt()&&ee!==null&&!fe&&o!==null&&(c.f&(q|Pe|te))===0)for(t=0;t<ee.length;t++)pn(ee[t],c);return u!==null&&u!==c&&(Oe++,ee!==null&&(C===null?C=ee:C.push(...ee))),(c.f&me)!==0&&(c.f^=me),h}catch(s){return Yn(s)}finally{c.f^=at,Z=g,X=p,ee=C,O=u,he=e,ce=l,Qe(a),fe=n,we=f}}function Mi(c,g){let p=g.reactions;if(p!==null){var C=An.call(p,c);if(C!==-1){var u=p.length-1;u===0?p=g.reactions=null:(p[C]=p[u],p.pop())}}p===null&&(g.f&q)!==0&&(Z===null||!Z.includes(g))&&(J(g,Pe),(g.f&(j|_e))===0&&(g.f^=_e),qt(g),Ye(g,0))}function Ye(c,g){var p=c.deps;if(p!==null)for(var C=g;C<p.length;C++)Mi(c,p[C])}function Ve(c){var g=c.f;if((g&ke)===0){J(c,Q);var p=N,C=Ee;N=c,Ee=!0;try{(g&Xe)!==0?xi(c):cn(c),un(c);var u=gn(c);c.teardown=typeof u=="function"?u:null,c.wv=Je;var e;_t&&Zn&&(c.f&te)!==0&&c.deps}finally{Ee=C,N=p}}}function de(c){var g=c.f,p=(g&q)!==0;if(O!==null&&!fe){var C=N!==null&&(N.f&ke)!==0;if(!C&&!ce?.includes(c)){var u=O.deps;if((O.f&at)!==0)c.rv<Oe&&(c.rv=Oe,Z===null&&u!==null&&u[X]===c?X++:Z===null?Z=[c]:(!he||!Z.includes(c))&&Z.push(c));else{(O.deps??=[]).push(c);var e=c.reactions;e===null?c.reactions=[O]:e.includes(O)||e.push(O)}}}else if(p&&c.deps===null&&c.effects===null){var l=c,a=l.parent;a!==null&&(a.f&j)===0&&(l.f^=j)}if(be){if(ye.has(c))return ye.get(c);if(p){l=c;var n=l.v;return((l.f&Q)!==0||mn(l))&&(n=mt(l)),ye.set(l,n),n}}else if(p){if(l=c,Ae?.has(l))return Ae.get(l);qe(l)&&en(l)}if((c.f&me)!==0)throw c.v;return c.v}function mn(c){if(c.v===z)return!0;if(c.deps===null)return!1;for(const g of c.deps)if(ye.has(g)||(g.f&q)!==0&&mn(g))return!0;return!1}function xn(c){var g=fe;try{return fe=!0,c()}finally{fe=g}}const Ei=-7169;function J(c,g){c.f=c.f&Ei|g}const Ii=["touchstart","touchmove"];function Ai(c){return Ii.includes(c)}const Ti=new Set,Ht=new Set;function $e(c){var g=this,p=g.ownerDocument,C=c.type,u=c.composedPath?.()||[],e=u[0]||c.target,l=0,a=c.__root;if(a){var n=u.indexOf(a);if(n!==-1&&(g===document||g===window)){c.__root=g;return}var f=u.indexOf(g);if(f===-1)return;n<=f&&(l=n)}if(e=u[l]||c.target,e!==g){rt(c,"currentTarget",{configurable:!0,get(){return e||p}});var i=O,h=N;pe(null),Te(null);try{for(var o,t=[];e!==null;){var s=e.assignedSlot||e.parentNode||e.host||null;try{var r=e["__"+C];if(r!=null&&(!e.disabled||c.target===e))if(Qt(r)){var[v,...m]=r;v.apply(e,[c,...m])}else r.call(e,c)}catch(S){o?t.push(S):o=S}if(c.cancelBubble||s===g||s===null)break;e=s}if(o){for(let S of t)queueMicrotask(()=>{throw S});throw o}}finally{c.__root=g,delete c.currentTarget,pe(i),Te(h)}}}function Bi(c){var g=document.createElement("template");return g.innerHTML=c.replaceAll("<!>","<!---->"),g.content}function Nt(c,g){var p=N;p.nodes_start===null&&(p.nodes_start=c,p.nodes_end=g)}function St(c,g){var p=(g&Qn)!==0,C=(g&Kn)!==0,u,e=!c.startsWith("<!>");return()=>{u===void 0&&(u=Bi(e?c:"<!>"+c),p||(u=Ze(u)));var l=C||an?document.importNode(u,!0):u.cloneNode(!0);if(p){var a=Ze(l),n=l.lastChild;Nt(a,n)}else Nt(l,l);return l}}function Pt(c,g){c!==null&&c.before(g)}function ki(c,g){return bi(c,g)}const Me=new Map;function bi(c,{target:g,anchor:p,props:C={},events:u,context:e,intro:l=!0}){si();var a=new Set,n=h=>{for(var o=0;o<h.length;o++){var t=h[o];if(!a.has(t)){a.add(t);var s=Ai(t);g.addEventListener(t,$e,{passive:s});var r=Me.get(t);r===void 0?(document.addEventListener(t,$e,{passive:s}),Me.set(t,1)):Me.set(t,r+1)}}};n(Tn(Ti)),Ht.add(n);var f=void 0,i=hi(()=>{var h=p??g.appendChild(oi());return mi(()=>{if(e){dt({});var o=ne;o.c=e}u&&(C.$$events=u),f=c(h,C)||{},e&&pt()}),()=>{for(var o of a){g.removeEventListener(o,$e);var t=Me.get(o);--t===0?(document.removeEventListener(o,$e),Me.delete(o)):Me.set(o,t)}Ht.delete(n),h!==p&&h.parentNode?.removeChild(h)}});return Li.set(f,i),f}let Li=new WeakMap;function yn(c){var g,p,C="";if(typeof c=="string"||typeof c=="number")C+=c;else if(typeof c=="object")if(Array.isArray(c)){var u=c.length;for(g=0;g<u;g++)c[g]&&(p=yn(c[g]))&&(C&&(C+=" "),C+=p)}else for(p in c)c[p]&&(C&&(C+=" "),C+=p);return C}function Ri(){for(var c,g,p=0,C="",u=arguments.length;p<u;p++)(c=arguments[p])&&(g=yn(c))&&(C&&(C+=" "),C+=g);return C}function Di(c){return typeof c=="object"?Ri(c):c??""}const Ut=[...` 	
\r\f \v\uFEFF`];function Fi(c,g,p){var C=c==null?"":""+c;if(g&&(C=C?C+" "+g:g),p){for(var u in p)if(p[u])C=C?C+" "+u:u;else if(C.length)for(var e=u.length,l=0;(l=C.indexOf(u,l))>=0;){var a=l+e;(l===0||Ut.includes(C[l-1]))&&(a===C.length||Ut.includes(C[a]))?C=(l===0?"":C.substring(0,l))+C.substring(a+1):l=a}}return C===""?null:C}function Wt(c,g=!1){var p=g?" !important;":";",C="";for(var u in c){var e=c[u];e!=null&&e!==""&&(C+=" "+u+": "+e+p)}return C}function Vi(c,g){if(g){var p="",C,u;return Array.isArray(g)?(C=g[0],u=g[1]):C=g,C&&(p+=Wt(C)),u&&(p+=Wt(u,!0)),p=p.trim(),p===""?null:p}return String(c)}function wn(c,g,p,C,u,e){var l=c.__className;if(l!==p||l===void 0){var a=Fi(p,C,e);a==null?c.removeAttribute("class"):g?c.className=a:c.setAttribute("class",a),c.__className=p}else if(e&&u!==e)for(var n in e){var f=!!e[n];(u==null||f!==!!u[n])&&c.classList.toggle(n,f)}return e}function it(c,g={},p,C){for(var u in p){var e=p[u];g[u]!==e&&(p[u]==null?c.style.removeProperty(u):c.style.setProperty(u,e,C))}}function Oi(c,g,p,C){var u=c.__style;if(u!==g){var e=Vi(g,C);e==null?c.removeAttribute("style"):c.style.cssText=e,c.__style=g}else C&&(Array.isArray(C)?(it(c,p?.[0],C[0]),it(c,p?.[1],C[1],"important")):it(c,p,C));return C}function $t(c,g){return c===g||c?.[Ge]===g}function Sn(c={},g,p,C){return di(()=>{var u,e;return gi(()=>{u=e,e=[],xn(()=>{c!==p(...e)&&(g(c,...e),u&&$t(p(...u),c)&&g(null,...u))})}),()=>{jn(()=>{e&&$t(p(...e),c)&&g(null,...e)})}}),c}function lt(c){ne===null&&On(),vi(()=>{const g=xn(c);if(typeof g=="function")return g})}const Hi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Hi);var Ni=St(`<div class="scroll svelte-bxvxkt"><div class="content svelte-bxvxkt"><h1 class="svelte-bxvxkt">Andrew Yurovchak</h1> <h1 class="svelte-bxvxkt">Hoboken New Jersey || Nashua New Hampshire</h1> <h1 class="svelte-bxvxkt"><a href="mailto:andy@yurovchak.net" class="svelte-bxvxkt">andy@yurovchak.net</a></h1> <h1 class="svelte-bxvxkt"><a href="https://docs.google.com/viewer?url=https%3A%2F%2Fgithub.com%2Fandrewyur%2Fresume%2Freleases%2Flatest%2Fdownload%2Fresume.pdf" class="svelte-bxvxkt">view resume</a></h1> <p class="svelte-bxvxkt">I am computer science student at Stevens Institute of Technology. I
            am a really quick learner, and a talented software engineer. I enjoy
            designing and building software.</p> <h2 class="svelte-bxvxkt">work experience</h2> <h3 class="svelte-bxvxkt">Software Engineering Internship - BAE Systems - Summer 2025</h3> <p class="svelte-bxvxkt">I took ownership of a Fullstack Web UI for a Signals Intelligence
            platform, which was built with Vue and Node. During my time here, I
            rewrote the entire codebase from commonjs JavaScript to ES6
            Typescript, upgraded the frontend from Vue 2 to Vue 3, integrated a
            server framework into the backend, and added a build step with Vite
            that reduced uncached page load time from 10 seconds to 400
            milliseconds. I also added a user interface for the platform's file
            upload system, which involved designing a websocket protocol and
            common interface, making GRPC calls, and streaming files from the
            backend to the platform. I was also able to make a lot of container
            optimizations: The UI was running accross 4 pods in a kubernetes
            cluster, and I was able to condense them all into one pod and only 1
            exposed port, using Nginx as a reverse proxy. This reduced the
            combined image size for the UI by 1.1GB, and allowed the user to
            access the UI on their local browser with ssh port forwarding. I was
            also able to reduce the UI's image build time by 98% (6 mins to 5
            secs) by rewriting the dockerfile to take better advantage of layer
            caching. I had a blast working here, the work I was doing was
            similar to what I would have been doing for fun if I was unemployed,
            I often found myself pulling 11 hour days without meaning to.</p> <h3 class="svelte-bxvxkt">Software Engineering Internship - Jacobs Technology - Summer 2024</h3> <p class="svelte-bxvxkt">I worked on an agile software development team, and completed
            feature requests and bug fixes across a wide range of .NET based
            applications. The area I was in focused mostly on creating
            applications that compressed navigation data for military aircraft.
            Most of my time here was spent digging through confusing,
            undocumented code and traversing gigantic inheritance trees. I was
            also able to do some work on an internal load testing tool with some
            other interns, also written in .NET. I implemented error handling
            features which prevented the entire 4hr+ runtime from going forward
            if there was an error in the configuration.</p> <h3 class="svelte-bxvxkt">Head of Risk and Development - Stevens Student Managed Investment
            Fund - Fall 2024</h3> <p class="svelte-bxvxkt">I led a team of 4 developers in maintaining and developing new
            features for the fund's internal website, which provided portfolio
            information and analysis tools to the fund's equity analysts. The
            website was written in React, and used Python and Flask for the
            backend. While I was there, I made a page for the site that showed
            graphs depicting the fund's performance metrics, which involved
            pulling data from yfinance, calculating the fund performance metrics
            with pandas, and then caching the resulting data. I had a great time
            in this position, I learned a lot about managing people and leading
            a team of software engineers.</p> <h2 class="svelte-bxvxkt">projects</h2> <h3 class="svelte-bxvxkt">Reverse engineered photograpy portfolio - <a href="https://photos.baetylboy.biz" class="svelte-bxvxkt">live link</a> - <a href="https://github.com/andrewyur/photography-portfolio" class="svelte-bxvxkt">github</a></h3> <p class="svelte-bxvxkt">I publish all of my photography onto a shared album on apple photos,
            and I wanted to find a way to display that album on a custom
            website, without having to worry about posting my photography in
            multiple places. I found out that apple photos provides a web viewer
            for the shared album, and so I decided to reverse engineer the front
            end code, and figure out how to call the private API that the apple
            photos website uses to fetch photos from the album, so that I could
            display the photos on my website without having to worry about
            storing them. I became very familiar with the devtools debugger with
            this project, there was about 4k lines of minified code to dig
            through. I built the website with Svelte, and made a special effort
            to create a site that looks good on mobile and desktop.</p> <h3 class="svelte-bxvxkt">Collaborative text editor - <a href="https://collab-notepad.baetylboy.biz" class="svelte-bxvxkt">live link</a> - <a href="https://github.com/andrewyur/collab_notepad" class="svelte-bxvxkt">github</a></h3> <p class="svelte-bxvxkt">I built a google-docs-style collaborative text editor, that allows
            multiple people to edit a text document in real time, without having
            to worry about edit conflicts. I ended up creating my own version of
            an operational transformation algorithm, which allowed for merging
            divergent document states of any length. This means that clients can
            push changes to the server without pulling them in first, or have a
            really slow connection to the server and still have the same
            document once the dust settles. I wrote this project in Elixir, a
            functional programming language that is a sibling of Erlang, famous
            for its fault tolerance features. It was a really unique experience,
            and it was also very interesting to tackle the challenges using a
            functional programming language presented.</p> <h3 class="svelte-bxvxkt">QR code image encoder - <a href="https://github.com/andrewyur/qart" class="svelte-bxvxkt">github</a> - <a href="https://crates.io/crates/qart" class="svelte-bxvxkt">crates.io</a></h3> <p class="svelte-bxvxkt">I wrote a Rust implementation of the process described in <a href="https://research.swtch.com/qart" class="svelte-bxvxkt">this article</a>, which
            utilized multithreading and Rust's high performance to do it at
            least 100 times faster than other implementations. the process of
            encoding an image into a working QR code was really complex, and the
            article only gave vague instructions. I had to piece this together
            from bits of code across repositories, and without any prior
            understanding of linear algebra or of QR codes, it was a significant
            learning experience. Looking back on it, the code is pretty messy
            and not very idiomatic, I am certain I could write better Rust code
            these days...</p> <h2 class="svelte-bxvxkt">other things</h2> <p class="svelte-bxvxkt">I fence for my college (I got <a href="https://docs.google.com/viewer?url=https%3A%2F%2Fusfca.org%2Fwp-admin%2Fadmin-ajax.php%3Fjuwpfisadmin%3Dfalse%26action%3Dwpfd%26task%3Dfile.download%26wpfd_category_id%3D77%26wpfd_file_id%3D42521%26token%3D%26preview%3D1&amp;embedded=true" class="svelte-bxvxkt">all american honorable mention</a> last season), I enjoy playing pool and video games, listening to music
            and fantasy/sci-fi audiobooks, and <a href="https://photos.baetylboy.biz" class="svelte-bxvxkt">photography</a> in my free time</p></div></div>`);function Ui(c,g){var p=Ni();let C;wt(u=>C=Oi(p,"",C,u),[()=>({"pointer-events":g.pointerEvents?"none":"auto"})]),Pt(c,p)}var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ze={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Wi=ze.exports,zt;function $i(){return zt||(zt=1,function(c,g){(function(C,u){c.exports=u()})(Wi,function(){return function(p){var C={};function u(e){if(C[e])return C[e].exports;var l=C[e]={i:e,l:!1,exports:{}};return p[e].call(l.exports,l,l.exports,u),l.l=!0,l.exports}return u.m=p,u.c=C,u.d=function(e,l,a){u.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:a})},u.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,l){if(l&1&&(e=u(e)),l&8||l&4&&typeof e=="object"&&e&&e.__esModule)return e;var a=Object.create(null);if(u.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),l&2&&typeof e!="string")for(var n in e)u.d(a,n,(function(f){return e[f]}).bind(null,n));return a},u.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(l,"a",l),l},u.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},u.p="",u(u.s=20)}([function(p,C){var u={};p.exports=u,function(){u._baseDelta=1e3/60,u._nextId=0,u._seed=0,u._nowStartTime=+new Date,u._warnedOnce={},u._decomp=null,u.extend=function(l,a){var n,f;typeof a=="boolean"?(n=2,f=a):(n=1,f=!0);for(var i=n;i<arguments.length;i++){var h=arguments[i];if(h)for(var o in h)f&&h[o]&&h[o].constructor===Object&&(!l[o]||l[o].constructor===Object)?(l[o]=l[o]||{},u.extend(l[o],f,h[o])):l[o]=h[o]}return l},u.clone=function(l,a){return u.extend({},a,l)},u.keys=function(l){if(Object.keys)return Object.keys(l);var a=[];for(var n in l)a.push(n);return a},u.values=function(l){var a=[];if(Object.keys){for(var n=Object.keys(l),f=0;f<n.length;f++)a.push(l[n[f]]);return a}for(var i in l)a.push(l[i]);return a},u.get=function(l,a,n,f){a=a.split(".").slice(n,f);for(var i=0;i<a.length;i+=1)l=l[a[i]];return l},u.set=function(l,a,n,f,i){var h=a.split(".").slice(f,i);return u.get(l,a,0,-1)[h[h.length-1]]=n,n},u.shuffle=function(l){for(var a=l.length-1;a>0;a--){var n=Math.floor(u.random()*(a+1)),f=l[a];l[a]=l[n],l[n]=f}return l},u.choose=function(l){return l[Math.floor(u.random()*l.length)]},u.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},u.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},u.isFunction=function(l){return typeof l=="function"},u.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},u.isString=function(l){return toString.call(l)==="[object String]"},u.clamp=function(l,a,n){return l<a?a:l>n?n:l},u.sign=function(l){return l<0?-1:1},u.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-u._nowStartTime},u.random=function(l,a){return l=typeof l<"u"?l:0,a=typeof a<"u"?a:1,l+e()*(a-l)};var e=function(){return u._seed=(u._seed*9301+49297)%233280,u._seed/233280};u.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},u.logLevel=1,u.log=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.info=function(){console&&u.logLevel>0&&u.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warn=function(){console&&u.logLevel>0&&u.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},u.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");u._warnedOnce[l]||(u.warn(l),u._warnedOnce[l]=!0)},u.deprecated=function(l,a,n){l[a]=u.chain(function(){u.warnOnce("🔅 deprecated 🔅",n)},l[a])},u.nextId=function(){return u._nextId++},u.indexOf=function(l,a){if(l.indexOf)return l.indexOf(a);for(var n=0;n<l.length;n++)if(l[n]===a)return n;return-1},u.map=function(l,a){if(l.map)return l.map(a);for(var n=[],f=0;f<l.length;f+=1)n.push(a(l[f]));return n},u.topologicalSort=function(l){var a=[],n=[],f=[];for(var i in l)!n[i]&&!f[i]&&u._topologicalSort(i,n,f,l,a);return a},u._topologicalSort=function(l,a,n,f,i){var h=f[l]||[];n[l]=!0;for(var o=0;o<h.length;o+=1){var t=h[o];n[t]||a[t]||u._topologicalSort(t,a,n,f,i)}n[l]=!1,a[l]=!0,i.push(l)},u.chain=function(){for(var l=[],a=0;a<arguments.length;a+=1){var n=arguments[a];n._chained?l.push.apply(l,n._chained):l.push(n)}var f=function(){for(var i,h=new Array(arguments.length),o=0,t=arguments.length;o<t;o++)h[o]=arguments[o];for(o=0;o<l.length;o+=1){var s=l[o].apply(i,h);typeof s<"u"&&(i=s)}return i};return f._chained=l,f},u.chainPathBefore=function(l,a,n){return u.set(l,a,u.chain(n,u.get(l,a)))},u.chainPathAfter=function(l,a,n){return u.set(l,a,u.chain(u.get(l,a),n))},u.setDecomp=function(l){u._decomp=l},u.getDecomp=function(){var l=u._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof Gt<"u"&&(l=Gt.decomp)}catch{l=null}return l}}()},function(p,C){var u={};p.exports=u,function(){u.create=function(e){var l={min:{x:0,y:0},max:{x:0,y:0}};return e&&u.update(l,e),l},u.update=function(e,l,a){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var n=0;n<l.length;n++){var f=l[n];f.x>e.max.x&&(e.max.x=f.x),f.x<e.min.x&&(e.min.x=f.x),f.y>e.max.y&&(e.max.y=f.y),f.y<e.min.y&&(e.min.y=f.y)}a&&(a.x>0?e.max.x+=a.x:e.min.x+=a.x,a.y>0?e.max.y+=a.y:e.min.y+=a.y)},u.contains=function(e,l){return l.x>=e.min.x&&l.x<=e.max.x&&l.y>=e.min.y&&l.y<=e.max.y},u.overlaps=function(e,l){return e.min.x<=l.max.x&&e.max.x>=l.min.x&&e.max.y>=l.min.y&&e.min.y<=l.max.y},u.translate=function(e,l){e.min.x+=l.x,e.max.x+=l.x,e.min.y+=l.y,e.max.y+=l.y},u.shift=function(e,l){var a=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=l.x,e.max.x=l.x+a,e.min.y=l.y,e.max.y=l.y+n}}()},function(p,C){var u={};p.exports=u,function(){u.create=function(e,l){return{x:e||0,y:l||0}},u.clone=function(e){return{x:e.x,y:e.y}},u.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},u.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},u.rotate=function(e,l,a){var n=Math.cos(l),f=Math.sin(l);a||(a={});var i=e.x*n-e.y*f;return a.y=e.x*f+e.y*n,a.x=i,a},u.rotateAbout=function(e,l,a,n){var f=Math.cos(l),i=Math.sin(l);n||(n={});var h=a.x+((e.x-a.x)*f-(e.y-a.y)*i);return n.y=a.y+((e.x-a.x)*i+(e.y-a.y)*f),n.x=h,n},u.normalise=function(e){var l=u.magnitude(e);return l===0?{x:0,y:0}:{x:e.x/l,y:e.y/l}},u.dot=function(e,l){return e.x*l.x+e.y*l.y},u.cross=function(e,l){return e.x*l.y-e.y*l.x},u.cross3=function(e,l,a){return(l.x-e.x)*(a.y-e.y)-(l.y-e.y)*(a.x-e.x)},u.add=function(e,l,a){return a||(a={}),a.x=e.x+l.x,a.y=e.y+l.y,a},u.sub=function(e,l,a){return a||(a={}),a.x=e.x-l.x,a.y=e.y-l.y,a},u.mult=function(e,l){return{x:e.x*l,y:e.y*l}},u.div=function(e,l){return{x:e.x/l,y:e.y/l}},u.perp=function(e,l){return l=l===!0?-1:1,{x:l*-e.y,y:l*e.x}},u.neg=function(e){return{x:-e.x,y:-e.y}},u.angle=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)},u._temp=[u.create(),u.create(),u.create(),u.create(),u.create(),u.create()]}()},function(p,C,u){var e={};p.exports=e;var l=u(2),a=u(0);(function(){e.create=function(n,f){for(var i=[],h=0;h<n.length;h++){var o=n[h],t={x:o.x,y:o.y,index:h,body:f,isInternal:!1};i.push(t)}return i},e.fromPath=function(n,f){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,h=[];return n.replace(i,function(o,t,s){h.push({x:parseFloat(t),y:parseFloat(s)})}),e.create(h,f)},e.centre=function(n){for(var f=e.area(n,!0),i={x:0,y:0},h,o,t,s=0;s<n.length;s++)t=(s+1)%n.length,h=l.cross(n[s],n[t]),o=l.mult(l.add(n[s],n[t]),h),i=l.add(i,o);return l.div(i,6*f)},e.mean=function(n){for(var f={x:0,y:0},i=0;i<n.length;i++)f.x+=n[i].x,f.y+=n[i].y;return l.div(f,n.length)},e.area=function(n,f){for(var i=0,h=n.length-1,o=0;o<n.length;o++)i+=(n[h].x-n[o].x)*(n[h].y+n[o].y),h=o;return f?i/2:Math.abs(i)/2},e.inertia=function(n,f){for(var i=0,h=0,o=n,t,s,r=0;r<o.length;r++)s=(r+1)%o.length,t=Math.abs(l.cross(o[s],o[r])),i+=t*(l.dot(o[s],o[s])+l.dot(o[s],o[r])+l.dot(o[r],o[r])),h+=t;return f/6*(i/h)},e.translate=function(n,f,i){i=typeof i<"u"?i:1;var h=n.length,o=f.x*i,t=f.y*i,s;for(s=0;s<h;s++)n[s].x+=o,n[s].y+=t;return n},e.rotate=function(n,f,i){if(f!==0){var h=Math.cos(f),o=Math.sin(f),t=i.x,s=i.y,r=n.length,v,m,S,M;for(M=0;M<r;M++)v=n[M],m=v.x-t,S=v.y-s,v.x=t+(m*h-S*o),v.y=s+(m*o+S*h);return n}},e.contains=function(n,f){for(var i=f.x,h=f.y,o=n.length,t=n[o-1],s,r=0;r<o;r++){if(s=n[r],(i-t.x)*(s.y-t.y)+(h-t.y)*(t.x-s.x)>0)return!1;t=s}return!0},e.scale=function(n,f,i,h){if(f===1&&i===1)return n;h=h||e.centre(n);for(var o,t,s=0;s<n.length;s++)o=n[s],t=l.sub(o,h),n[s].x=h.x+t.x*f,n[s].y=h.y+t.y*i;return n},e.chamfer=function(n,f,i,h,o){typeof f=="number"?f=[f]:f=f||[8],i=typeof i<"u"?i:-1,h=h||2,o=o||14;for(var t=[],s=0;s<n.length;s++){var r=n[s-1>=0?s-1:n.length-1],v=n[s],m=n[(s+1)%n.length],S=f[s<f.length?s:f.length-1];if(S===0){t.push(v);continue}var M=l.normalise({x:v.y-r.y,y:r.x-v.x}),T=l.normalise({x:m.y-v.y,y:v.x-m.x}),d=Math.sqrt(2*Math.pow(S,2)),y=l.mult(a.clone(M),S),w=l.normalise(l.mult(l.add(M,T),.5)),x=l.sub(v,l.mult(w,d)),E=i;i===-1&&(E=Math.pow(S,.32)*1.75),E=a.clamp(E,h,o),E%2===1&&(E+=1);for(var P=Math.acos(l.dot(M,T)),I=P/E,A=0;A<E;A++)t.push(l.add(l.rotate(y,I*A),x))}return t},e.clockwiseSort=function(n){var f=e.mean(n);return n.sort(function(i,h){return l.angle(f,i)-l.angle(f,h)}),n},e.isConvex=function(n){var f=0,i=n.length,h,o,t,s;if(i<3)return null;for(h=0;h<i;h++)if(o=(h+1)%i,t=(h+2)%i,s=(n[o].x-n[h].x)*(n[t].y-n[o].y),s-=(n[o].y-n[h].y)*(n[t].x-n[o].x),s<0?f|=1:s>0&&(f|=2),f===3)return!1;return f!==0?!0:null},e.hull=function(n){var f=[],i=[],h,o;for(n=n.slice(0),n.sort(function(t,s){var r=t.x-s.x;return r!==0?r:t.y-s.y}),o=0;o<n.length;o+=1){for(h=n[o];i.length>=2&&l.cross3(i[i.length-2],i[i.length-1],h)<=0;)i.pop();i.push(h)}for(o=n.length-1;o>=0;o-=1){for(h=n[o];f.length>=2&&l.cross3(f[f.length-2],f[f.length-1],h)<=0;)f.pop();f.push(h)}return f.pop(),i.pop(),f.concat(i)}})()},function(p,C,u){var e={};p.exports=e;var l=u(3),a=u(2),n=u(7),f=u(0),i=u(1),h=u(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var s={id:f.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},r=f.extend(s,t);return o(r,t),r},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var o=function(t,s){s=s||{},e.set(t,{bounds:t.bounds||i.create(t.vertices),positionPrev:t.positionPrev||a.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),l.rotate(t.vertices,t.angle,t.position),h.rotate(t.axes,t.angle),i.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:s.axes||t.axes,area:s.area||t.area,mass:s.mass||t.mass,inertia:s.inertia||t.inertia});var r=t.isStatic?"#14151f":f.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),v=t.isStatic?"#555":"#ccc",m=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||r,t.render.strokeStyle=t.render.strokeStyle||v,t.render.lineWidth=t.render.lineWidth||m,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,s,r){var v;typeof s=="string"&&(v=s,s={},s[v]=r);for(v in s)if(Object.prototype.hasOwnProperty.call(s,v))switch(r=s[v],v){case"isStatic":e.setStatic(t,r);break;case"isSleeping":n.set(t,r);break;case"mass":e.setMass(t,r);break;case"density":e.setDensity(t,r);break;case"inertia":e.setInertia(t,r);break;case"vertices":e.setVertices(t,r);break;case"position":e.setPosition(t,r);break;case"angle":e.setAngle(t,r);break;case"velocity":e.setVelocity(t,r);break;case"angularVelocity":e.setAngularVelocity(t,r);break;case"speed":e.setSpeed(t,r);break;case"angularSpeed":e.setAngularSpeed(t,r);break;case"parts":e.setParts(t,r);break;case"centre":e.setCentre(t,r);break;default:t[v]=r}},e.setStatic=function(t,s){for(var r=0;r<t.parts.length;r++){var v=t.parts[r];s?(v.isStatic||(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia}),v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null),v.isStatic=s}},e.setMass=function(t,s){var r=t.inertia/(t.mass/6);t.inertia=r*(s/6),t.inverseInertia=1/t.inertia,t.mass=s,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,s){e.setMass(t,s*t.area),t.density=s},e.setInertia=function(t,s){t.inertia=s,t.inverseInertia=1/t.inertia},e.setVertices=function(t,s){s[0].body===t?t.vertices=s:t.vertices=l.create(s,t),t.axes=h.fromVertices(t.vertices),t.area=l.area(t.vertices),e.setMass(t,t.density*t.area);var r=l.centre(t.vertices);l.translate(t.vertices,r,-1),e.setInertia(t,e._inertiaScale*l.inertia(t.vertices,t.mass)),l.translate(t.vertices,t.position),i.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,s,r){var v;for(s=s.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,v=0;v<s.length;v++){var m=s[v];m!==t&&(m.parent=t,t.parts.push(m))}if(t.parts.length!==1){if(r=typeof r<"u"?r:!0,r){var S=[];for(v=0;v<s.length;v++)S=S.concat(s[v].vertices);l.clockwiseSort(S);var M=l.hull(S),T=l.centre(M);e.setVertices(t,M),l.translate(t.vertices,T)}var d=e._totalProperties(t);t.area=d.area,t.parent=t,t.position.x=d.centre.x,t.position.y=d.centre.y,t.positionPrev.x=d.centre.x,t.positionPrev.y=d.centre.y,e.setMass(t,d.mass),e.setInertia(t,d.inertia),e.setPosition(t,d.centre)}},e.setCentre=function(t,s,r){r?(t.positionPrev.x+=s.x,t.positionPrev.y+=s.y,t.position.x+=s.x,t.position.y+=s.y):(t.positionPrev.x=s.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=s.y-(t.position.y-t.positionPrev.y),t.position.x=s.x,t.position.y=s.y)},e.setPosition=function(t,s,r){var v=a.sub(s,t.position);r?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=v.x,t.velocity.y=v.y,t.speed=a.magnitude(v)):(t.positionPrev.x+=v.x,t.positionPrev.y+=v.y);for(var m=0;m<t.parts.length;m++){var S=t.parts[m];S.position.x+=v.x,S.position.y+=v.y,l.translate(S.vertices,v),i.update(S.bounds,S.vertices,t.velocity)}},e.setAngle=function(t,s,r){var v=s-t.angle;r?(t.anglePrev=t.angle,t.angularVelocity=v,t.angularSpeed=Math.abs(v)):t.anglePrev+=v;for(var m=0;m<t.parts.length;m++){var S=t.parts[m];S.angle+=v,l.rotate(S.vertices,v,t.position),h.rotate(S.axes,v),i.update(S.bounds,S.vertices,t.velocity),m>0&&a.rotateAbout(S.position,v,t.position,S.position)}},e.setVelocity=function(t,s){var r=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-s.x*r,t.positionPrev.y=t.position.y-s.y*r,t.velocity.x=(t.position.x-t.positionPrev.x)/r,t.velocity.y=(t.position.y-t.positionPrev.y)/r,t.speed=a.magnitude(t.velocity)},e.getVelocity=function(t){var s=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*s,y:(t.position.y-t.positionPrev.y)*s}},e.getSpeed=function(t){return a.magnitude(e.getVelocity(t))},e.setSpeed=function(t,s){e.setVelocity(t,a.mult(a.normalise(e.getVelocity(t)),s))},e.setAngularVelocity=function(t,s){var r=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-s*r,t.angularVelocity=(t.angle-t.anglePrev)/r,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,s){e.setAngularVelocity(t,f.sign(e.getAngularVelocity(t))*s)},e.translate=function(t,s,r){e.setPosition(t,a.add(t.position,s),r)},e.rotate=function(t,s,r,v){if(!r)e.setAngle(t,t.angle+s,v);else{var m=Math.cos(s),S=Math.sin(s),M=t.position.x-r.x,T=t.position.y-r.y;e.setPosition(t,{x:r.x+(M*m-T*S),y:r.y+(M*S+T*m)},v),e.setAngle(t,t.angle+s,v)}},e.scale=function(t,s,r,v){var m=0,S=0;v=v||t.position;for(var M=0;M<t.parts.length;M++){var T=t.parts[M];l.scale(T.vertices,s,r,v),T.axes=h.fromVertices(T.vertices),T.area=l.area(T.vertices),e.setMass(T,t.density*T.area),l.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),e.setInertia(T,e._inertiaScale*l.inertia(T.vertices,T.mass)),l.translate(T.vertices,{x:T.position.x,y:T.position.y}),M>0&&(m+=T.area,S+=T.inertia),T.position.x=v.x+(T.position.x-v.x)*s,T.position.y=v.y+(T.position.y-v.y)*r,i.update(T.bounds,T.vertices,t.velocity)}t.parts.length>1&&(t.area=m,t.isStatic||(e.setMass(t,t.density*m),e.setInertia(t,S))),t.circleRadius&&(s===r?t.circleRadius*=s:t.circleRadius=null)},e.update=function(t,s){s=(typeof s<"u"?s:1e3/60)*t.timeScale;var r=s*s,v=e._timeCorrection?s/(t.deltaTime||s):1,m=1-t.frictionAir*(s/f._baseDelta),S=(t.position.x-t.positionPrev.x)*v,M=(t.position.y-t.positionPrev.y)*v;t.velocity.x=S*m+t.force.x/t.mass*r,t.velocity.y=M*m+t.force.y/t.mass*r,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=s,t.angularVelocity=(t.angle-t.anglePrev)*m*v+t.torque/t.inertia*r,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var T=0;T<t.parts.length;T++){var d=t.parts[T];l.translate(d.vertices,t.velocity),T>0&&(d.position.x+=t.velocity.x,d.position.y+=t.velocity.y),t.angularVelocity!==0&&(l.rotate(d.vertices,t.angularVelocity,t.position),h.rotate(d.axes,t.angularVelocity),T>0&&a.rotateAbout(d.position,t.angularVelocity,t.position,d.position)),i.update(d.bounds,d.vertices,t.velocity)}},e.updateVelocities=function(t){var s=e._baseDelta/t.deltaTime,r=t.velocity;r.x=(t.position.x-t.positionPrev.x)*s,r.y=(t.position.y-t.positionPrev.y)*s,t.speed=Math.sqrt(r.x*r.x+r.y*r.y),t.angularVelocity=(t.angle-t.anglePrev)*s,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,s,r){var v={x:s.x-t.position.x,y:s.y-t.position.y};t.force.x+=r.x,t.force.y+=r.y,t.torque+=v.x*r.y-v.y*r.x},e._totalProperties=function(t){for(var s={mass:0,area:0,inertia:0,centre:{x:0,y:0}},r=t.parts.length===1?0:1;r<t.parts.length;r++){var v=t.parts[r],m=v.mass!==1/0?v.mass:1;s.mass+=m,s.area+=v.area,s.inertia+=v.inertia,s.centre=a.add(s.centre,a.mult(v.position,m))}return s.centre=a.div(s.centre,s.mass),s}})()},function(p,C,u){var e={};p.exports=e;var l=u(0);(function(){e.on=function(a,n,f){for(var i=n.split(" "),h,o=0;o<i.length;o++)h=i[o],a.events=a.events||{},a.events[h]=a.events[h]||[],a.events[h].push(f);return f},e.off=function(a,n,f){if(!n){a.events={};return}typeof n=="function"&&(f=n,n=l.keys(a.events).join(" "));for(var i=n.split(" "),h=0;h<i.length;h++){var o=a.events[i[h]],t=[];if(f&&o)for(var s=0;s<o.length;s++)o[s]!==f&&t.push(o[s]);a.events[i[h]]=t}},e.trigger=function(a,n,f){var i,h,o,t,s=a.events;if(s&&l.keys(s).length>0){f||(f={}),i=n.split(" ");for(var r=0;r<i.length;r++)if(h=i[r],o=s[h],o){t=l.clone(f,!1),t.name=h,t.source=a;for(var v=0;v<o.length;v++)o[v].apply(a,[t])}}}})()},function(p,C,u){var e={};p.exports=e;var l=u(5),a=u(0),n=u(1),f=u(4);(function(){e.create=function(i){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},i)},e.setModified=function(i,h,o,t){if(i.isModified=h,h&&i.cache&&(i.cache.allBodies=null,i.cache.allConstraints=null,i.cache.allComposites=null),o&&i.parent&&e.setModified(i.parent,h,o,t),t)for(var s=0;s<i.composites.length;s++){var r=i.composites[s];e.setModified(r,h,o,t)}},e.add=function(i,h){var o=[].concat(h);l.trigger(i,"beforeAdd",{object:h});for(var t=0;t<o.length;t++){var s=o[t];switch(s.type){case"body":if(s.parent!==s){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(i,s);break;case"constraint":e.addConstraint(i,s);break;case"composite":e.addComposite(i,s);break;case"mouseConstraint":e.addConstraint(i,s.constraint);break}}return l.trigger(i,"afterAdd",{object:h}),i},e.remove=function(i,h,o){var t=[].concat(h);l.trigger(i,"beforeRemove",{object:h});for(var s=0;s<t.length;s++){var r=t[s];switch(r.type){case"body":e.removeBody(i,r,o);break;case"constraint":e.removeConstraint(i,r,o);break;case"composite":e.removeComposite(i,r,o);break;case"mouseConstraint":e.removeConstraint(i,r.constraint);break}}return l.trigger(i,"afterRemove",{object:h}),i},e.addComposite=function(i,h){return i.composites.push(h),h.parent=i,e.setModified(i,!0,!0,!1),i},e.removeComposite=function(i,h,o){var t=a.indexOf(i.composites,h);if(t!==-1){var s=e.allBodies(h);e.removeCompositeAt(i,t);for(var r=0;r<s.length;r++)s[r].sleepCounter=0}if(o)for(var r=0;r<i.composites.length;r++)e.removeComposite(i.composites[r],h,!0);return i},e.removeCompositeAt=function(i,h){return i.composites.splice(h,1),e.setModified(i,!0,!0,!1),i},e.addBody=function(i,h){return i.bodies.push(h),e.setModified(i,!0,!0,!1),i},e.removeBody=function(i,h,o){var t=a.indexOf(i.bodies,h);if(t!==-1&&(e.removeBodyAt(i,t),h.sleepCounter=0),o)for(var s=0;s<i.composites.length;s++)e.removeBody(i.composites[s],h,!0);return i},e.removeBodyAt=function(i,h){return i.bodies.splice(h,1),e.setModified(i,!0,!0,!1),i},e.addConstraint=function(i,h){return i.constraints.push(h),e.setModified(i,!0,!0,!1),i},e.removeConstraint=function(i,h,o){var t=a.indexOf(i.constraints,h);if(t!==-1&&e.removeConstraintAt(i,t),o)for(var s=0;s<i.composites.length;s++)e.removeConstraint(i.composites[s],h,!0);return i},e.removeConstraintAt=function(i,h){return i.constraints.splice(h,1),e.setModified(i,!0,!0,!1),i},e.clear=function(i,h,o){if(o)for(var t=0;t<i.composites.length;t++)e.clear(i.composites[t],h,!0);return h?i.bodies=i.bodies.filter(function(s){return s.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,e.setModified(i,!0,!0,!1),i},e.allBodies=function(i){if(i.cache&&i.cache.allBodies)return i.cache.allBodies;for(var h=[].concat(i.bodies),o=0;o<i.composites.length;o++)h=h.concat(e.allBodies(i.composites[o]));return i.cache&&(i.cache.allBodies=h),h},e.allConstraints=function(i){if(i.cache&&i.cache.allConstraints)return i.cache.allConstraints;for(var h=[].concat(i.constraints),o=0;o<i.composites.length;o++)h=h.concat(e.allConstraints(i.composites[o]));return i.cache&&(i.cache.allConstraints=h),h},e.allComposites=function(i){if(i.cache&&i.cache.allComposites)return i.cache.allComposites;for(var h=[].concat(i.composites),o=0;o<i.composites.length;o++)h=h.concat(e.allComposites(i.composites[o]));return i.cache&&(i.cache.allComposites=h),h},e.get=function(i,h,o){var t,s;switch(o){case"body":t=e.allBodies(i);break;case"constraint":t=e.allConstraints(i);break;case"composite":t=e.allComposites(i).concat(i);break}return t?(s=t.filter(function(r){return r.id.toString()===h.toString()}),s.length===0?null:s[0]):null},e.move=function(i,h,o){return e.remove(i,h),e.add(o,h),i},e.rebase=function(i){for(var h=e.allBodies(i).concat(e.allConstraints(i)).concat(e.allComposites(i)),o=0;o<h.length;o++)h[o].id=a.nextId();return i},e.translate=function(i,h,o){for(var t=o?e.allBodies(i):i.bodies,s=0;s<t.length;s++)f.translate(t[s],h);return i},e.rotate=function(i,h,o,t){for(var s=Math.cos(h),r=Math.sin(h),v=t?e.allBodies(i):i.bodies,m=0;m<v.length;m++){var S=v[m],M=S.position.x-o.x,T=S.position.y-o.y;f.setPosition(S,{x:o.x+(M*s-T*r),y:o.y+(M*r+T*s)}),f.rotate(S,h)}return i},e.scale=function(i,h,o,t,s){for(var r=s?e.allBodies(i):i.bodies,v=0;v<r.length;v++){var m=r[v],S=m.position.x-t.x,M=m.position.y-t.y;f.setPosition(m,{x:t.x+S*h,y:t.y+M*o}),f.scale(m,h,o)}return i},e.bounds=function(i){for(var h=e.allBodies(i),o=[],t=0;t<h.length;t+=1){var s=h[t];o.push(s.bounds.min,s.bounds.max)}return n.create(o)}})()},function(p,C,u){var e={};p.exports=e;var l=u(4),a=u(5),n=u(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(f,i){for(var h=i/n._baseDelta,o=e._motionSleepThreshold,t=0;t<f.length;t++){var s=f[t],r=l.getSpeed(s),v=l.getAngularSpeed(s),m=r*r+v*v;if(s.force.x!==0||s.force.y!==0){e.set(s,!1);continue}var S=Math.min(s.motion,m),M=Math.max(s.motion,m);s.motion=e._minBias*S+(1-e._minBias)*M,s.sleepThreshold>0&&s.motion<o?(s.sleepCounter+=1,s.sleepCounter>=s.sleepThreshold/h&&e.set(s,!0)):s.sleepCounter>0&&(s.sleepCounter-=1)}},e.afterCollisions=function(f){for(var i=e._motionSleepThreshold,h=0;h<f.length;h++){var o=f[h];if(o.isActive){var t=o.collision,s=t.bodyA.parent,r=t.bodyB.parent;if(!(s.isSleeping&&r.isSleeping||s.isStatic||r.isStatic)&&(s.isSleeping||r.isSleeping)){var v=s.isSleeping&&!s.isStatic?s:r,m=v===s?r:s;!v.isStatic&&m.motion>i&&e.set(v,!1)}}}},e.set=function(f,i){var h=f.isSleeping;i?(f.isSleeping=!0,f.sleepCounter=f.sleepThreshold,f.positionImpulse.x=0,f.positionImpulse.y=0,f.positionPrev.x=f.position.x,f.positionPrev.y=f.position.y,f.anglePrev=f.angle,f.speed=0,f.angularSpeed=0,f.motion=0,h||a.trigger(f,"sleepStart")):(f.isSleeping=!1,f.sleepCounter=0,h&&a.trigger(f,"sleepEnd"))}})()},function(p,C,u){var e={};p.exports=e;var l=u(3),a=u(9);(function(){var n=[],f={overlap:0,axis:null},i={overlap:0,axis:null};e.create=function(h,o){return{pair:null,collided:!1,bodyA:h,bodyB:o,parentA:h.parent,parentB:o.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(h,o,t){if(e._overlapAxes(f,h.vertices,o.vertices,h.axes),f.overlap<=0||(e._overlapAxes(i,o.vertices,h.vertices,o.axes),i.overlap<=0))return null;var s=t&&t.table[a.id(h,o)],r;s?r=s.collision:(r=e.create(h,o),r.collided=!0,r.bodyA=h.id<o.id?h:o,r.bodyB=h.id<o.id?o:h,r.parentA=r.bodyA.parent,r.parentB=r.bodyB.parent),h=r.bodyA,o=r.bodyB;var v;f.overlap<i.overlap?v=f:v=i;var m=r.normal,S=r.tangent,M=r.penetration,T=r.supports,d=v.overlap,y=v.axis,w=y.x,x=y.y,E=o.position.x-h.position.x,P=o.position.y-h.position.y;w*E+x*P>=0&&(w=-w,x=-x),m.x=w,m.y=x,S.x=-x,S.y=w,M.x=w*d,M.y=x*d,r.depth=d;var I=e._findSupports(h,o,m,1),A=0;if(l.contains(h.vertices,I[0])&&(T[A++]=I[0]),l.contains(h.vertices,I[1])&&(T[A++]=I[1]),A<2){var B=e._findSupports(o,h,m,-1);l.contains(o.vertices,B[0])&&(T[A++]=B[0]),A<2&&l.contains(o.vertices,B[1])&&(T[A++]=B[1])}return A===0&&(T[A++]=I[0]),r.supportCount=A,r},e._overlapAxes=function(h,o,t,s){var r=o.length,v=t.length,m=o[0].x,S=o[0].y,M=t[0].x,T=t[0].y,d=s.length,y=Number.MAX_VALUE,w=0,x,E,P,I,A,B;for(A=0;A<d;A++){var b=s[A],k=b.x,R=b.y,L=m*k+S*R,D=M*k+T*R,H=L,U=D;for(B=1;B<r;B+=1)I=o[B].x*k+o[B].y*R,I>H?H=I:I<L&&(L=I);for(B=1;B<v;B+=1)I=t[B].x*k+t[B].y*R,I>U?U=I:I<D&&(D=I);if(E=H-D,P=U-L,x=E<P?E:P,x<y&&(y=x,w=A,x<=0))break}h.axis=s[w],h.overlap=y},e._findSupports=function(h,o,t,s){var r=o.vertices,v=r.length,m=h.position.x,S=h.position.y,M=t.x*s,T=t.y*s,d=r[0],y=d,w=M*(m-y.x)+T*(S-y.y),x,E,P;for(P=1;P<v;P+=1)y=r[P],E=M*(m-y.x)+T*(S-y.y),E<w&&(w=E,d=y);return x=r[(v+d.index-1)%v],w=M*(m-x.x)+T*(S-x.y),y=r[(d.index+1)%v],M*(m-y.x)+T*(S-y.y)<w?(n[0]=d,n[1]=y,n):(n[0]=d,n[1]=x,n)}})()},function(p,C,u){var e={};p.exports=e;var l=u(16);(function(){e.create=function(a,n){var f=a.bodyA,i=a.bodyB,h={id:e.id(f,i),bodyA:f,bodyB:i,collision:a,contacts:[l.create(),l.create()],contactCount:0,separation:0,isActive:!0,isSensor:f.isSensor||i.isSensor,timeCreated:n,timeUpdated:n,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(h,a,n),h},e.update=function(a,n,f){var i=n.supports,h=n.supportCount,o=a.contacts,t=n.parentA,s=n.parentB;a.isActive=!0,a.timeUpdated=f,a.collision=n,a.separation=n.depth,a.inverseMass=t.inverseMass+s.inverseMass,a.friction=t.friction<s.friction?t.friction:s.friction,a.frictionStatic=t.frictionStatic>s.frictionStatic?t.frictionStatic:s.frictionStatic,a.restitution=t.restitution>s.restitution?t.restitution:s.restitution,a.slop=t.slop>s.slop?t.slop:s.slop,a.contactCount=h,n.pair=a;var r=i[0],v=o[0],m=i[1],S=o[1];(S.vertex===r||v.vertex===m)&&(o[1]=v,o[0]=v=S,S=o[1]),v.vertex=r,S.vertex=m},e.setActive=function(a,n,f){n?(a.isActive=!0,a.timeUpdated=f):(a.isActive=!1,a.contactCount=0)},e.id=function(a,n){return a.id<n.id?a.id.toString(36)+":"+n.id.toString(36):n.id.toString(36)+":"+a.id.toString(36)}})()},function(p,C,u){var e={};p.exports=e;var l=u(3),a=u(2),n=u(7),f=u(1),i=u(11),h=u(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(o){var t=o;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var s=t.bodyA?a.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?a.add(t.bodyB.position,t.pointB):t.pointB,v=a.magnitude(a.sub(s,r));t.length=typeof t.length<"u"?t.length:v,t.id=t.id||h.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var m={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(m.type="pin",m.anchors=!1):t.stiffness<.9&&(m.type="spring"),t.render=h.extend(m,t.render),t},e.preSolveAll=function(o){for(var t=0;t<o.length;t+=1){var s=o[t],r=s.constraintImpulse;s.isStatic||r.x===0&&r.y===0&&r.angle===0||(s.position.x+=r.x,s.position.y+=r.y,s.angle+=r.angle)}},e.solveAll=function(o,t){for(var s=h.clamp(t/h._baseDelta,0,1),r=0;r<o.length;r+=1){var v=o[r],m=!v.bodyA||v.bodyA&&v.bodyA.isStatic,S=!v.bodyB||v.bodyB&&v.bodyB.isStatic;(m||S)&&e.solve(o[r],s)}for(r=0;r<o.length;r+=1)v=o[r],m=!v.bodyA||v.bodyA&&v.bodyA.isStatic,S=!v.bodyB||v.bodyB&&v.bodyB.isStatic,!m&&!S&&e.solve(o[r],s)},e.solve=function(o,t){var s=o.bodyA,r=o.bodyB,v=o.pointA,m=o.pointB;if(!(!s&&!r)){s&&!s.isStatic&&(a.rotate(v,s.angle-o.angleA,v),o.angleA=s.angle),r&&!r.isStatic&&(a.rotate(m,r.angle-o.angleB,m),o.angleB=r.angle);var S=v,M=m;if(s&&(S=a.add(s.position,v)),r&&(M=a.add(r.position,m)),!(!S||!M)){var T=a.sub(S,M),d=a.magnitude(T);d<e._minLength&&(d=e._minLength);var y=(d-o.length)/d,w=o.stiffness>=1||o.length===0,x=w?o.stiffness*t:o.stiffness*t*t,E=o.damping*t,P=a.mult(T,y*x),I=(s?s.inverseMass:0)+(r?r.inverseMass:0),A=(s?s.inverseInertia:0)+(r?r.inverseInertia:0),B=I+A,b,k,R,L,D;if(E>0){var H=a.create();R=a.div(T,d),D=a.sub(r&&a.sub(r.position,r.positionPrev)||H,s&&a.sub(s.position,s.positionPrev)||H),L=a.dot(R,D)}s&&!s.isStatic&&(k=s.inverseMass/I,s.constraintImpulse.x-=P.x*k,s.constraintImpulse.y-=P.y*k,s.position.x-=P.x*k,s.position.y-=P.y*k,E>0&&(s.positionPrev.x-=E*R.x*L*k,s.positionPrev.y-=E*R.y*L*k),b=a.cross(v,P)/B*e._torqueDampen*s.inverseInertia*(1-o.angularStiffness),s.constraintImpulse.angle-=b,s.angle-=b),r&&!r.isStatic&&(k=r.inverseMass/I,r.constraintImpulse.x+=P.x*k,r.constraintImpulse.y+=P.y*k,r.position.x+=P.x*k,r.position.y+=P.y*k,E>0&&(r.positionPrev.x+=E*R.x*L*k,r.positionPrev.y+=E*R.y*L*k),b=a.cross(m,P)/B*e._torqueDampen*r.inverseInertia*(1-o.angularStiffness),r.constraintImpulse.angle+=b,r.angle+=b)}}},e.postSolveAll=function(o){for(var t=0;t<o.length;t++){var s=o[t],r=s.constraintImpulse;if(!(s.isStatic||r.x===0&&r.y===0&&r.angle===0)){n.set(s,!1);for(var v=0;v<s.parts.length;v++){var m=s.parts[v];l.translate(m.vertices,r),v>0&&(m.position.x+=r.x,m.position.y+=r.y),r.angle!==0&&(l.rotate(m.vertices,r.angle,s.position),i.rotate(m.axes,r.angle),v>0&&a.rotateAbout(m.position,r.angle,s.position,m.position)),f.update(m.bounds,m.vertices,s.velocity)}r.angle*=e._warming,r.x*=e._warming,r.y*=e._warming}}},e.pointAWorld=function(o){return{x:(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),y:(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0)}},e.pointBWorld=function(o){return{x:(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),y:(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0)}},e.currentLength=function(o){var t=(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),s=(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0),r=(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),v=(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0),m=t-r,S=s-v;return Math.sqrt(m*m+S*S)}})()},function(p,C,u){var e={};p.exports=e;var l=u(2),a=u(0);(function(){e.fromVertices=function(n){for(var f={},i=0;i<n.length;i++){var h=(i+1)%n.length,o=l.normalise({x:n[h].y-n[i].y,y:n[i].x-n[h].x}),t=o.y===0?1/0:o.x/o.y;t=t.toFixed(3).toString(),f[t]=o}return a.values(f)},e.rotate=function(n,f){if(f!==0)for(var i=Math.cos(f),h=Math.sin(f),o=0;o<n.length;o++){var t=n[o],s;s=t.x*i-t.y*h,t.y=t.x*h+t.y*i,t.x=s}}})()},function(p,C,u){var e={};p.exports=e;var l=u(3),a=u(0),n=u(4),f=u(1),i=u(2);(function(){e.rectangle=function(h,o,t,s,r){r=r||{};var v={label:"Rectangle Body",position:{x:h,y:o},vertices:l.fromPath("L 0 0 L "+t+" 0 L "+t+" "+s+" L 0 "+s)};if(r.chamfer){var m=r.chamfer;v.vertices=l.chamfer(v.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete r.chamfer}return n.create(a.extend({},v,r))},e.trapezoid=function(h,o,t,s,r,v){v=v||{},r>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),r*=.5;var m=(1-r*2)*t,S=t*r,M=S+m,T=M+S,d;r<.5?d="L 0 0 L "+S+" "+-s+" L "+M+" "+-s+" L "+T+" 0":d="L 0 0 L "+M+" "+-s+" L "+T+" 0";var y={label:"Trapezoid Body",position:{x:h,y:o},vertices:l.fromPath(d)};if(v.chamfer){var w=v.chamfer;y.vertices=l.chamfer(y.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete v.chamfer}return n.create(a.extend({},y,v))},e.circle=function(h,o,t,s,r){s=s||{};var v={label:"Circle Body",circleRadius:t};r=r||25;var m=Math.ceil(Math.max(10,Math.min(r,t)));return m%2===1&&(m+=1),e.polygon(h,o,m,t,a.extend({},v,s))},e.polygon=function(h,o,t,s,r){if(r=r||{},t<3)return e.circle(h,o,s,r);for(var v=2*Math.PI/t,m="",S=v*.5,M=0;M<t;M+=1){var T=S+M*v,d=Math.cos(T)*s,y=Math.sin(T)*s;m+="L "+d.toFixed(3)+" "+y.toFixed(3)+" "}var w={label:"Polygon Body",position:{x:h,y:o},vertices:l.fromPath(m)};if(r.chamfer){var x=r.chamfer;w.vertices=l.chamfer(w.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete r.chamfer}return n.create(a.extend({},w,r))},e.fromVertices=function(h,o,t,s,r,v,m,S){var M=a.getDecomp(),T,d,y,w,x,E,P,I,A,B,b;for(T=!!(M&&M.quickDecomp),s=s||{},y=[],r=typeof r<"u"?r:!1,v=typeof v<"u"?v:.01,m=typeof m<"u"?m:10,S=typeof S<"u"?S:.01,a.isArray(t[0])||(t=[t]),B=0;B<t.length;B+=1)if(E=t[B],w=l.isConvex(E),x=!w,x&&!T&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),w||!T)w?E=l.clockwiseSort(E):E=l.hull(E),y.push({position:{x:h,y:o},vertices:E});else{var k=E.map(function(F){return[F.x,F.y]});M.makeCCW(k),v!==!1&&M.removeCollinearPoints(k,v),S!==!1&&M.removeDuplicatePoints&&M.removeDuplicatePoints(k,S);var R=M.quickDecomp(k);for(P=0;P<R.length;P++){var L=R[P],D=L.map(function(F){return{x:F[0],y:F[1]}});m>0&&l.area(D)<m||y.push({position:l.centre(D),vertices:D})}}for(P=0;P<y.length;P++)y[P]=n.create(a.extend(y[P],s));if(r){var H=5;for(P=0;P<y.length;P++){var U=y[P];for(I=P+1;I<y.length;I++){var W=y[I];if(f.overlaps(U.bounds,W.bounds)){var $=U.vertices,K=W.vertices;for(A=0;A<U.vertices.length;A++)for(b=0;b<W.vertices.length;b++){var ve=i.magnitudeSquared(i.sub($[(A+1)%$.length],K[b])),ie=i.magnitudeSquared(i.sub($[A],K[(b+1)%K.length]));ve<H&&ie<H&&($[A].isInternal=!0,K[b].isInternal=!0)}}}}}return y.length>1?(d=n.create(a.extend({parts:y.slice(0)},s)),n.setPosition(d,{x:h,y:o}),d):y[0]}})()},function(p,C,u){var e={};p.exports=e;var l=u(0),a=u(8);(function(){e.create=function(n){var f={bodies:[],collisions:[],pairs:null};return l.extend(f,n)},e.setBodies=function(n,f){n.bodies=f.slice(0)},e.clear=function(n){n.bodies=[],n.collisions=[]},e.collisions=function(n){var f=n.pairs,i=n.bodies,h=i.length,o=e.canCollide,t=a.collides,s=n.collisions,r=0,v,m;for(i.sort(e._compareBoundsX),v=0;v<h;v++){var S=i[v],M=S.bounds,T=S.bounds.max.x,d=S.bounds.max.y,y=S.bounds.min.y,w=S.isStatic||S.isSleeping,x=S.parts.length,E=x===1;for(m=v+1;m<h;m++){var P=i[m],I=P.bounds;if(I.min.x>T)break;if(!(d<I.min.y||y>I.max.y)&&!(w&&(P.isStatic||P.isSleeping))&&o(S.collisionFilter,P.collisionFilter)){var A=P.parts.length;if(E&&A===1){var B=t(S,P,f);B&&(s[r++]=B)}else for(var b=x>1?1:0,k=A>1?1:0,R=b;R<x;R++)for(var L=S.parts[R],M=L.bounds,D=k;D<A;D++){var H=P.parts[D],I=H.bounds;if(!(M.min.x>I.max.x||M.max.x<I.min.x||M.max.y<I.min.y||M.min.y>I.max.y)){var B=t(L,H,f);B&&(s[r++]=B)}}}}}return s.length!==r&&(s.length=r),s},e.canCollide=function(n,f){return n.group===f.group&&n.group!==0?n.group>0:(n.mask&f.category)!==0&&(f.mask&n.category)!==0},e._compareBoundsX=function(n,f){return n.bounds.min.x-f.bounds.min.x}})()},function(p,C,u){var e={};p.exports=e;var l=u(0);(function(){e.create=function(a){var n={};return a||l.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=a||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=parseInt(n.element.getAttribute("data-pixel-ratio"),10)||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(f){var i=e._getRelativeMousePosition(f,n.element,n.pixelRatio),h=f.changedTouches;h&&(n.button=0,f.preventDefault()),n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=f},n.mousedown=function(f){var i=e._getRelativeMousePosition(f,n.element,n.pixelRatio),h=f.changedTouches;h?(n.button=0,f.preventDefault()):n.button=f.button,n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=f},n.mouseup=function(f){var i=e._getRelativeMousePosition(f,n.element,n.pixelRatio),h=f.changedTouches;h&&f.preventDefault(),n.button=-1,n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=f},n.mousewheel=function(f){n.wheelDelta=Math.max(-1,Math.min(1,f.wheelDelta||-f.detail)),f.preventDefault(),n.sourceEvents.mousewheel=f},e.setElement(n,n.element),n},e.setElement=function(a,n){a.element=n,n.addEventListener("mousemove",a.mousemove,{passive:!0}),n.addEventListener("mousedown",a.mousedown,{passive:!0}),n.addEventListener("mouseup",a.mouseup,{passive:!0}),n.addEventListener("wheel",a.mousewheel,{passive:!1}),n.addEventListener("touchmove",a.mousemove,{passive:!1}),n.addEventListener("touchstart",a.mousedown,{passive:!1}),n.addEventListener("touchend",a.mouseup,{passive:!1})},e.clearSourceEvents=function(a){a.sourceEvents.mousemove=null,a.sourceEvents.mousedown=null,a.sourceEvents.mouseup=null,a.sourceEvents.mousewheel=null,a.wheelDelta=0},e.setOffset=function(a,n){a.offset.x=n.x,a.offset.y=n.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},e.setScale=function(a,n){a.scale.x=n.x,a.scale.y=n.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},e._getRelativeMousePosition=function(a,n,f){var i=n.getBoundingClientRect(),h=document.documentElement||document.body.parentNode||document.body,o=window.pageXOffset!==void 0?window.pageXOffset:h.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:h.scrollTop,s=a.changedTouches,r,v;return s?(r=s[0].pageX-i.left-o,v=s[0].pageY-i.top-t):(r=a.pageX-i.left-o,v=a.pageY-i.top-t),{x:r/(n.clientWidth/(n.width||n.clientWidth)*f),y:v/(n.clientHeight/(n.height||n.clientHeight)*f)}}})()},function(p,C,u){var e={};p.exports=e;var l=u(0);(function(){e._registry={},e.register=function(a){if(e.isPlugin(a)||l.warn("Plugin.register:",e.toString(a),"does not implement all required fields."),a.name in e._registry){var n=e._registry[a.name],f=e.versionParse(a.version).number,i=e.versionParse(n.version).number;f>i?(l.warn("Plugin.register:",e.toString(n),"was upgraded to",e.toString(a)),e._registry[a.name]=a):f<i?l.warn("Plugin.register:",e.toString(n),"can not be downgraded to",e.toString(a)):a!==n&&l.warn("Plugin.register:",e.toString(a),"is already registered to different plugin object")}else e._registry[a.name]=a;return a},e.resolve=function(a){return e._registry[e.dependencyParse(a).name]},e.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},e.isPlugin=function(a){return a&&a.name&&a.version&&a.install},e.isUsed=function(a,n){return a.used.indexOf(n)>-1},e.isFor=function(a,n){var f=a.for&&e.dependencyParse(a.for);return!a.for||n.name===f.name&&e.versionSatisfies(n.version,f.range)},e.use=function(a,n){if(a.uses=(a.uses||[]).concat(n||[]),a.uses.length===0){l.warn("Plugin.use:",e.toString(a),"does not specify any dependencies to install.");return}for(var f=e.dependencies(a),i=l.topologicalSort(f),h=[],o=0;o<i.length;o+=1)if(i[o]!==a.name){var t=e.resolve(i[o]);if(!t){h.push("❌ "+i[o]);continue}e.isUsed(a,t.name)||(e.isFor(t,a)||(l.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(a)+"."),t._warned=!0),t.install?t.install(a):(l.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(h.push("🔶 "+e.toString(t)),delete t._warned):h.push("✅ "+e.toString(t)),a.used.push(t.name))}h.length>0&&l.info(h.join("  "))},e.dependencies=function(a,n){var f=e.dependencyParse(a),i=f.name;if(n=n||{},!(i in n)){a=e.resolve(a)||a,n[i]=l.map(a.uses||[],function(o){e.isPlugin(o)&&e.register(o);var t=e.dependencyParse(o),s=e.resolve(o);return s&&!e.versionSatisfies(s.version,t.range)?(l.warn("Plugin.dependencies:",e.toString(s),"does not satisfy",e.toString(t),"used by",e.toString(f)+"."),s._warned=!0,a._warned=!0):s||(l.warn("Plugin.dependencies:",e.toString(o),"used by",e.toString(f),"could not be resolved."),a._warned=!0),t.name});for(var h=0;h<n[i].length;h+=1)e.dependencies(n[i][h],n);return n}},e.dependencyParse=function(a){if(l.isString(a)){var n=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return n.test(a)||l.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},e.versionParse=function(a){var n=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;n.test(a)||l.warn("Plugin.versionParse:",a,"is not a valid version or range.");var f=n.exec(a),i=Number(f[4]),h=Number(f[5]),o=Number(f[6]);return{isRange:!!(f[1]||f[2]),version:f[3],range:a,operator:f[1]||f[2]||"",major:i,minor:h,patch:o,parts:[i,h,o],prerelease:f[7],number:i*1e8+h*1e4+o}},e.versionSatisfies=function(a,n){n=n||"*";var f=e.versionParse(n),i=e.versionParse(a);if(f.isRange){if(f.operator==="*"||a==="*")return!0;if(f.operator===">")return i.number>f.number;if(f.operator===">=")return i.number>=f.number;if(f.operator==="~")return i.major===f.major&&i.minor===f.minor&&i.patch>=f.patch;if(f.operator==="^")return f.major>0?i.major===f.major&&i.number>=f.number:f.minor>0?i.minor===f.minor&&i.patch>=f.patch:i.patch===f.patch}return a===n||a==="*"}})()},function(p,C){var u={};p.exports=u,function(){u.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(p,C,u){var e={};p.exports=e;var l=u(7),a=u(18),n=u(13),f=u(19),i=u(5),h=u(6),o=u(10),t=u(0),s=u(4);(function(){e._deltaMax=1e3/60,e.create=function(r){r=r||{};var v={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},m=t.extend(v,r);return m.world=r.world||h.create({label:"World"}),m.pairs=r.pairs||f.create(),m.detector=r.detector||n.create(),m.detector.pairs=m.pairs,m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},e.update=function(r,v){var m=t.now(),S=r.world,M=r.detector,T=r.pairs,d=r.timing,y=d.timestamp,w;v>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),v=typeof v<"u"?v:t._baseDelta,v*=d.timeScale,d.timestamp+=v,d.lastDelta=v;var x={timestamp:d.timestamp,delta:v};i.trigger(r,"beforeUpdate",x);var E=h.allBodies(S),P=h.allConstraints(S);for(S.isModified&&(n.setBodies(M,E),h.setModified(S,!1,!1,!0)),r.enableSleeping&&l.update(E,v),e._bodiesApplyGravity(E,r.gravity),v>0&&e._bodiesUpdate(E,v),i.trigger(r,"beforeSolve",x),o.preSolveAll(E),w=0;w<r.constraintIterations;w++)o.solveAll(P,v);o.postSolveAll(E);var I=n.collisions(M);f.update(T,I,y),r.enableSleeping&&l.afterCollisions(T.list),T.collisionStart.length>0&&i.trigger(r,"collisionStart",{pairs:T.collisionStart,timestamp:d.timestamp,delta:v});var A=t.clamp(20/r.positionIterations,0,1);for(a.preSolvePosition(T.list),w=0;w<r.positionIterations;w++)a.solvePosition(T.list,v,A);for(a.postSolvePosition(E),o.preSolveAll(E),w=0;w<r.constraintIterations;w++)o.solveAll(P,v);for(o.postSolveAll(E),a.preSolveVelocity(T.list),w=0;w<r.velocityIterations;w++)a.solveVelocity(T.list,v);return e._bodiesUpdateVelocities(E),T.collisionActive.length>0&&i.trigger(r,"collisionActive",{pairs:T.collisionActive,timestamp:d.timestamp,delta:v}),T.collisionEnd.length>0&&i.trigger(r,"collisionEnd",{pairs:T.collisionEnd,timestamp:d.timestamp,delta:v}),e._bodiesClearForces(E),i.trigger(r,"afterUpdate",x),r.timing.lastElapsed=t.now()-m,r},e.merge=function(r,v){if(t.extend(r,v),v.world){r.world=v.world,e.clear(r);for(var m=h.allBodies(r.world),S=0;S<m.length;S++){var M=m[S];l.set(M,!1),M.id=t.nextId()}}},e.clear=function(r){f.clear(r.pairs),n.clear(r.detector)},e._bodiesClearForces=function(r){for(var v=r.length,m=0;m<v;m++){var S=r[m];S.force.x=0,S.force.y=0,S.torque=0}},e._bodiesApplyGravity=function(r,v){var m=typeof v.scale<"u"?v.scale:.001,S=r.length;if(!(v.x===0&&v.y===0||m===0))for(var M=0;M<S;M++){var T=r[M];T.isStatic||T.isSleeping||(T.force.y+=T.mass*v.y*m,T.force.x+=T.mass*v.x*m)}},e._bodiesUpdate=function(r,v){for(var m=r.length,S=0;S<m;S++){var M=r[S];M.isStatic||M.isSleeping||s.update(M,v)}},e._bodiesUpdateVelocities=function(r){for(var v=r.length,m=0;m<v;m++)s.updateVelocities(r[m])}})()},function(p,C,u){var e={};p.exports=e;var l=u(3),a=u(0),n=u(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(f){var i,h,o,t=f.length;for(i=0;i<t;i++)h=f[i],h.isActive&&(o=h.contactCount,h.collision.parentA.totalContacts+=o,h.collision.parentB.totalContacts+=o)},e.solvePosition=function(f,i,h){var o,t,s,r,v,m,S,M,T=e._positionDampen*(h||1),d=a.clamp(i/a._baseDelta,0,1),y=f.length;for(o=0;o<y;o++)t=f[o],!(!t.isActive||t.isSensor)&&(s=t.collision,r=s.parentA,v=s.parentB,m=s.normal,t.separation=s.depth+m.x*(v.positionImpulse.x-r.positionImpulse.x)+m.y*(v.positionImpulse.y-r.positionImpulse.y));for(o=0;o<y;o++)t=f[o],!(!t.isActive||t.isSensor)&&(s=t.collision,r=s.parentA,v=s.parentB,m=s.normal,M=t.separation-t.slop*d,(r.isStatic||v.isStatic)&&(M*=2),r.isStatic||r.isSleeping||(S=T/r.totalContacts,r.positionImpulse.x+=m.x*M*S,r.positionImpulse.y+=m.y*M*S),v.isStatic||v.isSleeping||(S=T/v.totalContacts,v.positionImpulse.x-=m.x*M*S,v.positionImpulse.y-=m.y*M*S))},e.postSolvePosition=function(f){for(var i=e._positionWarming,h=f.length,o=l.translate,t=n.update,s=0;s<h;s++){var r=f[s],v=r.positionImpulse,m=v.x,S=v.y,M=r.velocity;if(r.totalContacts=0,m!==0||S!==0){for(var T=0;T<r.parts.length;T++){var d=r.parts[T];o(d.vertices,v),t(d.bounds,d.vertices,M),d.position.x+=m,d.position.y+=S}r.positionPrev.x+=m,r.positionPrev.y+=S,m*M.x+S*M.y<0?(v.x=0,v.y=0):(v.x*=i,v.y*=i)}}},e.preSolveVelocity=function(f){var i=f.length,h,o;for(h=0;h<i;h++){var t=f[h];if(!(!t.isActive||t.isSensor)){var s=t.contacts,r=t.contactCount,v=t.collision,m=v.parentA,S=v.parentB,M=v.normal,T=v.tangent;for(o=0;o<r;o++){var d=s[o],y=d.vertex,w=d.normalImpulse,x=d.tangentImpulse;if(w!==0||x!==0){var E=M.x*w+T.x*x,P=M.y*w+T.y*x;m.isStatic||m.isSleeping||(m.positionPrev.x+=E*m.inverseMass,m.positionPrev.y+=P*m.inverseMass,m.anglePrev+=m.inverseInertia*((y.x-m.position.x)*P-(y.y-m.position.y)*E)),S.isStatic||S.isSleeping||(S.positionPrev.x-=E*S.inverseMass,S.positionPrev.y-=P*S.inverseMass,S.anglePrev-=S.inverseInertia*((y.x-S.position.x)*P-(y.y-S.position.y)*E))}}}}},e.solveVelocity=function(f,i){var h=i/a._baseDelta,o=h*h,t=o*h,s=-e._restingThresh*h,r=e._restingThreshTangent,v=e._frictionNormalMultiplier*h,m=e._frictionMaxStatic,S=f.length,M,T,d,y;for(d=0;d<S;d++){var w=f[d];if(!(!w.isActive||w.isSensor)){var x=w.collision,E=x.parentA,P=x.parentB,I=x.normal.x,A=x.normal.y,B=x.tangent.x,b=x.tangent.y,k=w.inverseMass,R=w.friction*w.frictionStatic*v,L=w.contacts,D=w.contactCount,H=1/D,U=E.position.x-E.positionPrev.x,W=E.position.y-E.positionPrev.y,$=E.angle-E.anglePrev,K=P.position.x-P.positionPrev.x,ve=P.position.y-P.positionPrev.y,ie=P.angle-P.anglePrev;for(y=0;y<D;y++){var F=L[y],re=F.vertex,G=re.x-E.position.x,Le=re.y-E.position.y,oe=re.x-P.position.x,le=re.y-P.position.y,Y=U-Le*$,Pn=W+G*$,Cn=K-le*ie,Mn=ve+oe*ie,Ct=Y-Cn,Mt=Pn-Mn,et=I*Ct+A*Mt,ue=B*Ct+b*Mt,Et=w.separation+et,tt=Math.min(Et,1);tt=Et<0?0:tt;var It=tt*R;ue<-It||ue>It?(T=ue>0?ue:-ue,M=w.friction*(ue>0?1:-1)*t,M<-T?M=-T:M>T&&(M=T)):(M=ue,T=m);var At=G*A-Le*I,Tt=oe*A-le*I,Bt=H/(k+E.inverseInertia*At*At+P.inverseInertia*Tt*Tt),He=(1+w.restitution)*et*Bt;if(M*=Bt,et<s)F.normalImpulse=0;else{var En=F.normalImpulse;F.normalImpulse+=He,F.normalImpulse>0&&(F.normalImpulse=0),He=F.normalImpulse-En}if(ue<-r||ue>r)F.tangentImpulse=0;else{var In=F.tangentImpulse;F.tangentImpulse+=M,F.tangentImpulse<-T&&(F.tangentImpulse=-T),F.tangentImpulse>T&&(F.tangentImpulse=T),M=F.tangentImpulse-In}var Ne=I*He+B*M,Ue=A*He+b*M;E.isStatic||E.isSleeping||(E.positionPrev.x+=Ne*E.inverseMass,E.positionPrev.y+=Ue*E.inverseMass,E.anglePrev+=(G*Ue-Le*Ne)*E.inverseInertia),P.isStatic||P.isSleeping||(P.positionPrev.x-=Ne*P.inverseMass,P.positionPrev.y-=Ue*P.inverseMass,P.anglePrev-=(oe*Ue-le*Ne)*P.inverseInertia)}}}}})()},function(p,C,u){var e={};p.exports=e;var l=u(9),a=u(0);(function(){e.create=function(n){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},n)},e.update=function(n,f,i){var h=l.update,o=l.create,t=l.setActive,s=n.table,r=n.list,v=r.length,m=v,S=n.collisionStart,M=n.collisionEnd,T=n.collisionActive,d=f.length,y=0,w=0,x=0,E,P,I;for(I=0;I<d;I++)E=f[I],P=E.pair,P?(P.isActive&&(T[x++]=P),h(P,E,i)):(P=o(E,i),s[P.id]=P,S[y++]=P,r[m++]=P);for(m=0,v=r.length,I=0;I<v;I++)P=r[I],P.timeUpdated>=i?r[m++]=P:(t(P,!1,i),P.collision.bodyA.sleepCounter>0&&P.collision.bodyB.sleepCounter>0?r[m++]=P:(M[w++]=P,delete s[P.id]));r.length!==m&&(r.length=m),S.length!==y&&(S.length=y),M.length!==w&&(M.length=w),T.length!==x&&(T.length=x)},e.clear=function(n){return n.table={},n.list.length=0,n.collisionStart.length=0,n.collisionActive.length=0,n.collisionEnd.length=0,n}})()},function(p,C,u){var e=p.exports=u(21);e.Axes=u(11),e.Bodies=u(12),e.Body=u(4),e.Bounds=u(1),e.Collision=u(8),e.Common=u(0),e.Composite=u(6),e.Composites=u(22),e.Constraint=u(10),e.Contact=u(16),e.Detector=u(13),e.Engine=u(17),e.Events=u(5),e.Grid=u(23),e.Mouse=u(14),e.MouseConstraint=u(24),e.Pair=u(9),e.Pairs=u(19),e.Plugin=u(15),e.Query=u(25),e.Render=u(26),e.Resolver=u(18),e.Runner=u(27),e.SAT=u(28),e.Sleeping=u(7),e.Svg=u(29),e.Vector=u(2),e.Vertices=u(3),e.World=u(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(p,C,u){var e={};p.exports=e;var l=u(15),a=u(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){l.use(e,Array.prototype.slice.call(arguments))},e.before=function(n,f){return n=n.replace(/^Matter./,""),a.chainPathBefore(e,n,f)},e.after=function(n,f){return n=n.replace(/^Matter./,""),a.chainPathAfter(e,n,f)}})()},function(p,C,u){var e={};p.exports=e;var l=u(6),a=u(10),n=u(0),f=u(4),i=u(12),h=n.deprecated;(function(){e.stack=function(o,t,s,r,v,m,S){for(var M=l.create({label:"Stack"}),T=o,d=t,y,w=0,x=0;x<r;x++){for(var E=0,P=0;P<s;P++){var I=S(T,d,P,x,y,w);if(I){var A=I.bounds.max.y-I.bounds.min.y,B=I.bounds.max.x-I.bounds.min.x;A>E&&(E=A),f.translate(I,{x:B*.5,y:A*.5}),T=I.bounds.max.x+v,l.addBody(M,I),y=I,w+=1}else T+=v}d+=E+m,T=o}return M},e.chain=function(o,t,s,r,v,m){for(var S=o.bodies,M=1;M<S.length;M++){var T=S[M-1],d=S[M],y=T.bounds.max.y-T.bounds.min.y,w=T.bounds.max.x-T.bounds.min.x,x=d.bounds.max.y-d.bounds.min.y,E=d.bounds.max.x-d.bounds.min.x,P={bodyA:T,pointA:{x:w*t,y:y*s},bodyB:d,pointB:{x:E*r,y:x*v}},I=n.extend(P,m);l.addConstraint(o,a.create(I))}return o.label+=" Chain",o},e.mesh=function(o,t,s,r,v){var m=o.bodies,S,M,T,d,y;for(S=0;S<s;S++){for(M=1;M<t;M++)T=m[M-1+S*t],d=m[M+S*t],l.addConstraint(o,a.create(n.extend({bodyA:T,bodyB:d},v)));if(S>0)for(M=0;M<t;M++)T=m[M+(S-1)*t],d=m[M+S*t],l.addConstraint(o,a.create(n.extend({bodyA:T,bodyB:d},v))),r&&M>0&&(y=m[M-1+(S-1)*t],l.addConstraint(o,a.create(n.extend({bodyA:y,bodyB:d},v)))),r&&M<t-1&&(y=m[M+1+(S-1)*t],l.addConstraint(o,a.create(n.extend({bodyA:y,bodyB:d},v))))}return o.label+=" Mesh",o},e.pyramid=function(o,t,s,r,v,m,S){return e.stack(o,t,s,r,v,m,function(M,T,d,y,w,x){var E=Math.min(r,Math.ceil(s/2)),P=w?w.bounds.max.x-w.bounds.min.x:0;if(!(y>E)){y=E-y;var I=y,A=s-1-y;if(!(d<I||d>A)){x===1&&f.translate(w,{x:(d+(s%2===1?1:-1))*P,y:0});var B=w?d*P:0;return S(o+B+d*v,T,d,y,w,x)}}})},e.newtonsCradle=function(o,t,s,r,v){for(var m=l.create({label:"Newtons Cradle"}),S=0;S<s;S++){var M=1.9,T=i.circle(o+S*(r*M),t+v,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=a.create({pointA:{x:o+S*(r*M),y:t},bodyB:T});l.addBody(m,T),l.addConstraint(m,d)}return m},h(e,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),e.car=function(o,t,s,r,v){var m=f.nextGroup(!0),S=20,M=-s*.5+S,T=s*.5-S,d=0,y=l.create({label:"Car"}),w=i.rectangle(o,t,s,r,{collisionFilter:{group:m},chamfer:{radius:r*.5},density:2e-4}),x=i.circle(o+M,t+d,v,{collisionFilter:{group:m},friction:.8}),E=i.circle(o+T,t+d,v,{collisionFilter:{group:m},friction:.8}),P=a.create({bodyB:w,pointB:{x:M,y:d},bodyA:x,stiffness:1,length:0}),I=a.create({bodyB:w,pointB:{x:T,y:d},bodyA:E,stiffness:1,length:0});return l.addBody(y,w),l.addBody(y,x),l.addBody(y,E),l.addConstraint(y,P),l.addConstraint(y,I),y},h(e,"car","Composites.car ➤ moved to car example"),e.softBody=function(o,t,s,r,v,m,S,M,T,d){T=n.extend({inertia:1/0},T),d=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var y=e.stack(o,t,s,r,v,m,function(w,x){return i.circle(w,x,M,T)});return e.mesh(y,s,r,S,d),y.label="Soft Body",y},h(e,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(p,C,u){var e={};p.exports=e;var l=u(9),a=u(0),n=a.deprecated;(function(){e.create=function(f){var i={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(i,f)},e.update=function(f,i,h,o){var t,s,r,v=h.world,m=f.buckets,S,M,T=!1;for(t=0;t<i.length;t++){var d=i[t];if(!(d.isSleeping&&!o)&&!(v.bounds&&(d.bounds.max.x<v.bounds.min.x||d.bounds.min.x>v.bounds.max.x||d.bounds.max.y<v.bounds.min.y||d.bounds.min.y>v.bounds.max.y))){var y=e._getRegion(f,d);if(!d.region||y.id!==d.region.id||o){(!d.region||o)&&(d.region=y);var w=e._regionUnion(y,d.region);for(s=w.startCol;s<=w.endCol;s++)for(r=w.startRow;r<=w.endRow;r++){M=e._getBucketId(s,r),S=m[M];var x=s>=y.startCol&&s<=y.endCol&&r>=y.startRow&&r<=y.endRow,E=s>=d.region.startCol&&s<=d.region.endCol&&r>=d.region.startRow&&r<=d.region.endRow;!x&&E&&E&&S&&e._bucketRemoveBody(f,S,d),(d.region===y||x&&!E||o)&&(S||(S=e._createBucket(m,M)),e._bucketAddBody(f,S,d))}d.region=y,T=!0}}}T&&(f.pairsList=e._createActivePairsList(f))},n(e,"update","Grid.update ➤ replaced by Matter.Detector"),e.clear=function(f){f.buckets={},f.pairs={},f.pairsList=[]},n(e,"clear","Grid.clear ➤ replaced by Matter.Detector"),e._regionUnion=function(f,i){var h=Math.min(f.startCol,i.startCol),o=Math.max(f.endCol,i.endCol),t=Math.min(f.startRow,i.startRow),s=Math.max(f.endRow,i.endRow);return e._createRegion(h,o,t,s)},e._getRegion=function(f,i){var h=i.bounds,o=Math.floor(h.min.x/f.bucketWidth),t=Math.floor(h.max.x/f.bucketWidth),s=Math.floor(h.min.y/f.bucketHeight),r=Math.floor(h.max.y/f.bucketHeight);return e._createRegion(o,t,s,r)},e._createRegion=function(f,i,h,o){return{id:f+","+i+","+h+","+o,startCol:f,endCol:i,startRow:h,endRow:o}},e._getBucketId=function(f,i){return"C"+f+"R"+i},e._createBucket=function(f,i){var h=f[i]=[];return h},e._bucketAddBody=function(f,i,h){var o=f.pairs,t=l.id,s=i.length,r;for(r=0;r<s;r++){var v=i[r];if(!(h.id===v.id||h.isStatic&&v.isStatic)){var m=t(h,v),S=o[m];S?S[2]+=1:o[m]=[h,v,1]}}i.push(h)},e._bucketRemoveBody=function(f,i,h){var o=f.pairs,t=l.id,s;i.splice(a.indexOf(i,h),1);var r=i.length;for(s=0;s<r;s++){var v=o[t(h,i[s])];v&&(v[2]-=1)}},e._createActivePairsList=function(f){var i,h=f.pairs,o=a.keys(h),t=o.length,s=[],r;for(r=0;r<t;r++)i=h[o[r]],i[2]>0?s.push(i):delete h[o[r]];return s}})()},function(p,C,u){var e={};p.exports=e;var l=u(3),a=u(7),n=u(14),f=u(5),i=u(13),h=u(10),o=u(6),t=u(0),s=u(1);(function(){e.create=function(r,v){var m=(r?r.mouse:null)||(v?v.mouse:null);m||(r&&r.render&&r.render.canvas?m=n.create(r.render.canvas):v&&v.element?m=n.create(v.element):(m=n.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var S=h.create({label:"Mouse Constraint",pointA:m.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),M={type:"mouseConstraint",mouse:m,element:null,body:null,constraint:S,collisionFilter:{category:1,mask:4294967295,group:0}},T=t.extend(M,v);return f.on(r,"beforeUpdate",function(){var d=o.allBodies(r.world);e.update(T,d),e._triggerEvents(T)}),T},e.update=function(r,v){var m=r.mouse,S=r.constraint,M=r.body;if(m.button===0){if(S.bodyB)a.set(S.bodyB,!1),S.pointA=m.position;else for(var T=0;T<v.length;T++)if(M=v[T],s.contains(M.bounds,m.position)&&i.canCollide(M.collisionFilter,r.collisionFilter))for(var d=M.parts.length>1?1:0;d<M.parts.length;d++){var y=M.parts[d];if(l.contains(y.vertices,m.position)){S.pointA=m.position,S.bodyB=r.body=M,S.pointB={x:m.position.x-M.position.x,y:m.position.y-M.position.y},S.angleB=M.angle,a.set(M,!1),f.trigger(r,"startdrag",{mouse:m,body:M});break}}}else S.bodyB=r.body=null,S.pointB=null,M&&f.trigger(r,"enddrag",{mouse:m,body:M})},e._triggerEvents=function(r){var v=r.mouse,m=v.sourceEvents;m.mousemove&&f.trigger(r,"mousemove",{mouse:v}),m.mousedown&&f.trigger(r,"mousedown",{mouse:v}),m.mouseup&&f.trigger(r,"mouseup",{mouse:v}),n.clearSourceEvents(v)}})()},function(p,C,u){var e={};p.exports=e;var l=u(2),a=u(8),n=u(1),f=u(12),i=u(3);(function(){e.collides=function(h,o){for(var t=[],s=o.length,r=h.bounds,v=a.collides,m=n.overlaps,S=0;S<s;S++){var M=o[S],T=M.parts.length,d=T===1?0:1;if(m(M.bounds,r))for(var y=d;y<T;y++){var w=M.parts[y];if(m(w.bounds,r)){var x=v(w,h);if(x){t.push(x);break}}}}return t},e.ray=function(h,o,t,s){s=s||1e-100;for(var r=l.angle(o,t),v=l.magnitude(l.sub(o,t)),m=(t.x+o.x)*.5,S=(t.y+o.y)*.5,M=f.rectangle(m,S,v,s,{angle:r}),T=e.collides(M,h),d=0;d<T.length;d+=1){var y=T[d];y.body=y.bodyB=y.bodyA}return T},e.region=function(h,o,t){for(var s=[],r=0;r<h.length;r++){var v=h[r],m=n.overlaps(v.bounds,o);(m&&!t||!m&&t)&&s.push(v)}return s},e.point=function(h,o){for(var t=[],s=0;s<h.length;s++){var r=h[s];if(n.contains(r.bounds,o))for(var v=r.parts.length===1?0:1;v<r.parts.length;v++){var m=r.parts[v];if(n.contains(m.bounds,o)&&i.contains(m.vertices,o)){t.push(r);break}}}return t}})()},function(p,C,u){var e={};p.exports=e;var l=u(4),a=u(0),n=u(6),f=u(1),i=u(5),h=u(2),o=u(14);(function(){var t,s;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(d){window.setTimeout(function(){d(a.now())},1e3/60)},s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(d){var y={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!d.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},w=a.extend(y,d);return w.canvas&&(w.canvas.width=w.options.width||w.canvas.width,w.canvas.height=w.options.height||w.canvas.height),w.mouse=d.mouse,w.engine=d.engine,w.canvas=w.canvas||m(w.options.width,w.options.height),w.context=w.canvas.getContext("2d"),w.textures={},w.bounds=w.bounds||{min:{x:0,y:0},max:{x:w.canvas.width,y:w.canvas.height}},w.controller=e,w.options.showBroadphase=!1,w.options.pixelRatio!==1&&e.setPixelRatio(w,w.options.pixelRatio),a.isElement(w.element)&&w.element.appendChild(w.canvas),w},e.run=function(d){(function y(w){d.frameRequestId=t(y),r(d,w),e.world(d,w),d.context.setTransform(d.options.pixelRatio,0,0,d.options.pixelRatio,0,0),(d.options.showStats||d.options.showDebug)&&e.stats(d,d.context,w),(d.options.showPerformance||d.options.showDebug)&&e.performance(d,d.context,w),d.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(d){s(d.frameRequestId)},e.setPixelRatio=function(d,y){var w=d.options,x=d.canvas;y==="auto"&&(y=S(x)),w.pixelRatio=y,x.setAttribute("data-pixel-ratio",y),x.width=w.width*y,x.height=w.height*y,x.style.width=w.width+"px",x.style.height=w.height+"px"},e.setSize=function(d,y,w){d.options.width=y,d.options.height=w,d.bounds.max.x=d.bounds.min.x+y,d.bounds.max.y=d.bounds.min.y+w,d.options.pixelRatio!==1?e.setPixelRatio(d,d.options.pixelRatio):(d.canvas.width=y,d.canvas.height=w)},e.lookAt=function(d,y,w,x){x=typeof x<"u"?x:!0,y=a.isArray(y)?y:[y],w=w||{x:0,y:0};for(var E={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},P=0;P<y.length;P+=1){var I=y[P],A=I.bounds?I.bounds.min:I.min||I.position||I,B=I.bounds?I.bounds.max:I.max||I.position||I;A&&B&&(A.x<E.min.x&&(E.min.x=A.x),B.x>E.max.x&&(E.max.x=B.x),A.y<E.min.y&&(E.min.y=A.y),B.y>E.max.y&&(E.max.y=B.y))}var b=E.max.x-E.min.x+2*w.x,k=E.max.y-E.min.y+2*w.y,R=d.canvas.height,L=d.canvas.width,D=L/R,H=b/k,U=1,W=1;H>D?W=H/D:U=D/H,d.options.hasBounds=!0,d.bounds.min.x=E.min.x,d.bounds.max.x=E.min.x+b*U,d.bounds.min.y=E.min.y,d.bounds.max.y=E.min.y+k*W,x&&(d.bounds.min.x+=b*.5-b*U*.5,d.bounds.max.x+=b*.5-b*U*.5,d.bounds.min.y+=k*.5-k*W*.5,d.bounds.max.y+=k*.5-k*W*.5),d.bounds.min.x-=w.x,d.bounds.max.x-=w.x,d.bounds.min.y-=w.y,d.bounds.max.y-=w.y,d.mouse&&(o.setScale(d.mouse,{x:(d.bounds.max.x-d.bounds.min.x)/d.canvas.width,y:(d.bounds.max.y-d.bounds.min.y)/d.canvas.height}),o.setOffset(d.mouse,d.bounds.min))},e.startViewTransform=function(d){var y=d.bounds.max.x-d.bounds.min.x,w=d.bounds.max.y-d.bounds.min.y,x=y/d.options.width,E=w/d.options.height;d.context.setTransform(d.options.pixelRatio/x,0,0,d.options.pixelRatio/E,0,0),d.context.translate(-d.bounds.min.x,-d.bounds.min.y)},e.endViewTransform=function(d){d.context.setTransform(d.options.pixelRatio,0,0,d.options.pixelRatio,0,0)},e.world=function(d,y){var w=a.now(),x=d.engine,E=x.world,P=d.canvas,I=d.context,A=d.options,B=d.timing,b=n.allBodies(E),k=n.allConstraints(E),R=A.wireframes?A.wireframeBackground:A.background,L=[],D=[],H,U={timestamp:x.timing.timestamp};if(i.trigger(d,"beforeRender",U),d.currentBackground!==R&&T(d,R),I.globalCompositeOperation="source-in",I.fillStyle="transparent",I.fillRect(0,0,P.width,P.height),I.globalCompositeOperation="source-over",A.hasBounds){for(H=0;H<b.length;H++){var W=b[H];f.overlaps(W.bounds,d.bounds)&&L.push(W)}for(H=0;H<k.length;H++){var $=k[H],K=$.bodyA,ve=$.bodyB,ie=$.pointA,F=$.pointB;K&&(ie=h.add(K.position,$.pointA)),ve&&(F=h.add(ve.position,$.pointB)),!(!ie||!F)&&(f.contains(d.bounds,ie)||f.contains(d.bounds,F))&&D.push($)}e.startViewTransform(d),d.mouse&&(o.setScale(d.mouse,{x:(d.bounds.max.x-d.bounds.min.x)/d.options.width,y:(d.bounds.max.y-d.bounds.min.y)/d.options.height}),o.setOffset(d.mouse,d.bounds.min))}else D=k,L=b,d.options.pixelRatio!==1&&d.context.setTransform(d.options.pixelRatio,0,0,d.options.pixelRatio,0,0);!A.wireframes||x.enableSleeping&&A.showSleeping?e.bodies(d,L,I):(A.showConvexHulls&&e.bodyConvexHulls(d,L,I),e.bodyWireframes(d,L,I)),A.showBounds&&e.bodyBounds(d,L,I),(A.showAxes||A.showAngleIndicator)&&e.bodyAxes(d,L,I),A.showPositions&&e.bodyPositions(d,L,I),A.showVelocity&&e.bodyVelocity(d,L,I),A.showIds&&e.bodyIds(d,L,I),A.showSeparations&&e.separations(d,x.pairs.list,I),A.showCollisions&&e.collisions(d,x.pairs.list,I),A.showVertexNumbers&&e.vertexNumbers(d,L,I),A.showMousePosition&&e.mousePosition(d,d.mouse,I),e.constraints(D,I),A.hasBounds&&e.endViewTransform(d),i.trigger(d,"afterRender",U),B.lastElapsed=a.now()-w},e.stats=function(d,y,w){for(var x=d.engine,E=x.world,P=n.allBodies(E),I=0,A=55,B=44,b=0,k=0,R=0;R<P.length;R+=1)I+=P[R].parts.length;var L={Part:I,Body:P.length,Cons:n.allConstraints(E).length,Comp:n.allComposites(E).length,Pair:x.pairs.list.length};y.fillStyle="#0e0f19",y.fillRect(b,k,A*5.5,B),y.font="12px Arial",y.textBaseline="top",y.textAlign="right";for(var D in L){var H=L[D];y.fillStyle="#aaa",y.fillText(D,b+A,k+8),y.fillStyle="#eee",y.fillText(H,b+A,k+26),b+=A}},e.performance=function(d,y){var w=d.engine,x=d.timing,E=x.deltaHistory,P=x.elapsedHistory,I=x.timestampElapsedHistory,A=x.engineDeltaHistory,B=x.engineUpdatesHistory,b=x.engineElapsedHistory,k=w.timing.lastUpdatesPerFrame,R=w.timing.lastDelta,L=v(E),D=v(P),H=v(A),U=v(B),W=v(b),$=v(I),K=$/L||0,ve=Math.round(L/R),ie=1e3/L||0,F=4,re=12,G=60,Le=34,oe=10,le=69;y.fillStyle="#0e0f19",y.fillRect(0,50,re*5+G*6+22,Le),e.status(y,oe,le,G,F,E.length,Math.round(ie)+" fps",ie/e._goodFps,function(Y){return E[Y]/L-1}),e.status(y,oe+re+G,le,G,F,A.length,R.toFixed(2)+" dt",e._goodDelta/R,function(Y){return A[Y]/H-1}),e.status(y,oe+(re+G)*2,le,G,F,B.length,k+" upf",Math.pow(a.clamp(U/ve||1,0,1),4),function(Y){return B[Y]/U-1}),e.status(y,oe+(re+G)*3,le,G,F,b.length,W.toFixed(2)+" ut",1-k*W/e._goodFps,function(Y){return b[Y]/W-1}),e.status(y,oe+(re+G)*4,le,G,F,P.length,D.toFixed(2)+" rt",1-D/e._goodFps,function(Y){return P[Y]/D-1}),e.status(y,oe+(re+G)*5,le,G,F,I.length,K.toFixed(2)+" x",K*K*K,function(Y){return(I[Y]/E[Y]/K||0)-1})},e.status=function(d,y,w,x,E,P,I,A,B){d.strokeStyle="#888",d.fillStyle="#444",d.lineWidth=1,d.fillRect(y,w+7,x,1),d.beginPath(),d.moveTo(y,w+7-E*a.clamp(.4*B(0),-2,2));for(var b=0;b<x;b+=1)d.lineTo(y+b,w+7-(b<P?E*a.clamp(.4*B(b),-2,2):0));d.stroke(),d.fillStyle="hsl("+a.clamp(25+95*A,0,120)+",100%,60%)",d.fillRect(y,w-7,4,4),d.font="12px Arial",d.textBaseline="middle",d.textAlign="right",d.fillStyle="#eee",d.fillText(I,y+x,w-5)},e.constraints=function(d,y){for(var w=y,x=0;x<d.length;x++){var E=d[x];if(!(!E.render.visible||!E.pointA||!E.pointB)){var P=E.bodyA,I=E.bodyB,A,B;if(P?A=h.add(P.position,E.pointA):A=E.pointA,E.render.type==="pin")w.beginPath(),w.arc(A.x,A.y,3,0,2*Math.PI),w.closePath();else{if(I?B=h.add(I.position,E.pointB):B=E.pointB,w.beginPath(),w.moveTo(A.x,A.y),E.render.type==="spring")for(var b=h.sub(B,A),k=h.perp(h.normalise(b)),R=Math.ceil(a.clamp(E.length/5,12,20)),L,D=1;D<R;D+=1)L=D%2===0?1:-1,w.lineTo(A.x+b.x*(D/R)+k.x*L*4,A.y+b.y*(D/R)+k.y*L*4);w.lineTo(B.x,B.y)}E.render.lineWidth&&(w.lineWidth=E.render.lineWidth,w.strokeStyle=E.render.strokeStyle,w.stroke()),E.render.anchors&&(w.fillStyle=E.render.strokeStyle,w.beginPath(),w.arc(A.x,A.y,3,0,2*Math.PI),w.arc(B.x,B.y,3,0,2*Math.PI),w.closePath(),w.fill())}}},e.bodies=function(d,y,w){var x=w;d.engine;var E=d.options,P=E.showInternalEdges||!E.wireframes,I,A,B,b;for(B=0;B<y.length;B++)if(I=y[B],!!I.render.visible){for(b=I.parts.length>1?1:0;b<I.parts.length;b++)if(A=I.parts[b],!!A.render.visible){if(E.showSleeping&&I.isSleeping?x.globalAlpha=.5*A.render.opacity:A.render.opacity!==1&&(x.globalAlpha=A.render.opacity),A.render.sprite&&A.render.sprite.texture&&!E.wireframes){var k=A.render.sprite,R=M(d,k.texture);x.translate(A.position.x,A.position.y),x.rotate(A.angle),x.drawImage(R,R.width*-k.xOffset*k.xScale,R.height*-k.yOffset*k.yScale,R.width*k.xScale,R.height*k.yScale),x.rotate(-A.angle),x.translate(-A.position.x,-A.position.y)}else{if(A.circleRadius)x.beginPath(),x.arc(A.position.x,A.position.y,A.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(A.vertices[0].x,A.vertices[0].y);for(var L=1;L<A.vertices.length;L++)!A.vertices[L-1].isInternal||P?x.lineTo(A.vertices[L].x,A.vertices[L].y):x.moveTo(A.vertices[L].x,A.vertices[L].y),A.vertices[L].isInternal&&!P&&x.moveTo(A.vertices[(L+1)%A.vertices.length].x,A.vertices[(L+1)%A.vertices.length].y);x.lineTo(A.vertices[0].x,A.vertices[0].y),x.closePath()}E.wireframes?(x.lineWidth=1,x.strokeStyle=d.options.wireframeStrokeStyle,x.stroke()):(x.fillStyle=A.render.fillStyle,A.render.lineWidth&&(x.lineWidth=A.render.lineWidth,x.strokeStyle=A.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},e.bodyWireframes=function(d,y,w){var x=w,E=d.options.showInternalEdges,P,I,A,B,b;for(x.beginPath(),A=0;A<y.length;A++)if(P=y[A],!!P.render.visible)for(b=P.parts.length>1?1:0;b<P.parts.length;b++){for(I=P.parts[b],x.moveTo(I.vertices[0].x,I.vertices[0].y),B=1;B<I.vertices.length;B++)!I.vertices[B-1].isInternal||E?x.lineTo(I.vertices[B].x,I.vertices[B].y):x.moveTo(I.vertices[B].x,I.vertices[B].y),I.vertices[B].isInternal&&!E&&x.moveTo(I.vertices[(B+1)%I.vertices.length].x,I.vertices[(B+1)%I.vertices.length].y);x.lineTo(I.vertices[0].x,I.vertices[0].y)}x.lineWidth=1,x.strokeStyle=d.options.wireframeStrokeStyle,x.stroke()},e.bodyConvexHulls=function(d,y,w){var x=w,E,P,I;for(x.beginPath(),P=0;P<y.length;P++)if(E=y[P],!(!E.render.visible||E.parts.length===1)){for(x.moveTo(E.vertices[0].x,E.vertices[0].y),I=1;I<E.vertices.length;I++)x.lineTo(E.vertices[I].x,E.vertices[I].y);x.lineTo(E.vertices[0].x,E.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},e.vertexNumbers=function(d,y,w){var x=w,E,P,I;for(E=0;E<y.length;E++){var A=y[E].parts;for(I=A.length>1?1:0;I<A.length;I++){var B=A[I];for(P=0;P<B.vertices.length;P++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(E+"_"+P,B.position.x+(B.vertices[P].x-B.position.x)*.8,B.position.y+(B.vertices[P].y-B.position.y)*.8)}}},e.mousePosition=function(d,y,w){var x=w;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(y.position.x+"  "+y.position.y,y.position.x+5,y.position.y-5)},e.bodyBounds=function(d,y,w){var x=w;d.engine;var E=d.options;x.beginPath();for(var P=0;P<y.length;P++){var I=y[P];if(I.render.visible)for(var A=y[P].parts,B=A.length>1?1:0;B<A.length;B++){var b=A[B];x.rect(b.bounds.min.x,b.bounds.min.y,b.bounds.max.x-b.bounds.min.x,b.bounds.max.y-b.bounds.min.y)}}E.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},e.bodyAxes=function(d,y,w){var x=w;d.engine;var E=d.options,P,I,A,B;for(x.beginPath(),I=0;I<y.length;I++){var b=y[I],k=b.parts;if(b.render.visible)if(E.showAxes)for(A=k.length>1?1:0;A<k.length;A++)for(P=k[A],B=0;B<P.axes.length;B++){var R=P.axes[B];x.moveTo(P.position.x,P.position.y),x.lineTo(P.position.x+R.x*20,P.position.y+R.y*20)}else for(A=k.length>1?1:0;A<k.length;A++)for(P=k[A],B=0;B<P.axes.length;B++)x.moveTo(P.position.x,P.position.y),x.lineTo((P.vertices[0].x+P.vertices[P.vertices.length-1].x)/2,(P.vertices[0].y+P.vertices[P.vertices.length-1].y)/2)}E.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},e.bodyPositions=function(d,y,w){var x=w;d.engine;var E=d.options,P,I,A,B;for(x.beginPath(),A=0;A<y.length;A++)if(P=y[A],!!P.render.visible)for(B=0;B<P.parts.length;B++)I=P.parts[B],x.arc(I.position.x,I.position.y,3,0,2*Math.PI,!1),x.closePath();for(E.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),A=0;A<y.length;A++)P=y[A],P.render.visible&&(x.arc(P.positionPrev.x,P.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},e.bodyVelocity=function(d,y,w){var x=w;x.beginPath();for(var E=0;E<y.length;E++){var P=y[E];if(P.render.visible){var I=l.getVelocity(P);x.moveTo(P.position.x,P.position.y),x.lineTo(P.position.x+I.x,P.position.y+I.y)}}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},e.bodyIds=function(d,y,w){var x=w,E,P;for(E=0;E<y.length;E++)if(y[E].render.visible){var I=y[E].parts;for(P=I.length>1?1:0;P<I.length;P++){var A=I[P];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(A.id,A.position.x+10,A.position.y-10)}}},e.collisions=function(d,y,w){var x=w,E=d.options,P,I,A,B;for(x.beginPath(),A=0;A<y.length;A++)if(P=y[A],!!P.isActive)for(I=P.collision,B=0;B<P.contactCount;B++){var b=P.contacts[B],k=b.vertex;x.rect(k.x-1.5,k.y-1.5,3.5,3.5)}for(E.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),A=0;A<y.length;A++)if(P=y[A],!!P.isActive&&(I=P.collision,P.contactCount>0)){var R=P.contacts[0].vertex.x,L=P.contacts[0].vertex.y;P.contactCount===2&&(R=(P.contacts[0].vertex.x+P.contacts[1].vertex.x)/2,L=(P.contacts[0].vertex.y+P.contacts[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic===!0?x.moveTo(R-I.normal.x*8,L-I.normal.y*8):x.moveTo(R+I.normal.x*8,L+I.normal.y*8),x.lineTo(R,L)}E.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},e.separations=function(d,y,w){var x=w,E=d.options,P,I,A,B,b;for(x.beginPath(),b=0;b<y.length;b++)if(P=y[b],!!P.isActive){I=P.collision,A=I.bodyA,B=I.bodyB;var k=1;!B.isStatic&&!A.isStatic&&(k=.5),B.isStatic&&(k=0),x.moveTo(B.position.x,B.position.y),x.lineTo(B.position.x-I.penetration.x*k,B.position.y-I.penetration.y*k),k=1,!B.isStatic&&!A.isStatic&&(k=.5),A.isStatic&&(k=0),x.moveTo(A.position.x,A.position.y),x.lineTo(A.position.x+I.penetration.x*k,A.position.y+I.penetration.y*k)}E.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},e.inspector=function(d,y){d.engine;var w=d.selected,x=d.render,E=x.options,P;if(E.hasBounds){var I=x.bounds.max.x-x.bounds.min.x,A=x.bounds.max.y-x.bounds.min.y,B=I/x.options.width,b=A/x.options.height;y.scale(1/B,1/b),y.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var k=0;k<w.length;k++){var R=w[k].data;switch(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.9)",y.setLineDash([1,2]),R.type){case"body":P=R.bounds,y.beginPath(),y.rect(Math.floor(P.min.x-3),Math.floor(P.min.y-3),Math.floor(P.max.x-P.min.x+6),Math.floor(P.max.y-P.min.y+6)),y.closePath(),y.stroke();break;case"constraint":var L=R.pointA;R.bodyA&&(L=R.pointB),y.beginPath(),y.arc(L.x,L.y,10,0,2*Math.PI),y.closePath(),y.stroke();break}y.setLineDash([]),y.translate(-.5,-.5)}d.selectStart!==null&&(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.6)",y.fillStyle="rgba(255,165,0,0.1)",P=d.selectBounds,y.beginPath(),y.rect(Math.floor(P.min.x),Math.floor(P.min.y),Math.floor(P.max.x-P.min.x),Math.floor(P.max.y-P.min.y)),y.closePath(),y.stroke(),y.fill(),y.translate(-.5,-.5)),E.hasBounds&&y.setTransform(1,0,0,1,0,0)};var r=function(d,y){var w=d.engine,x=d.timing,E=x.historySize,P=w.timing.timestamp;x.delta=y-x.lastTime||e._goodDelta,x.lastTime=y,x.timestampElapsed=P-x.lastTimestamp||0,x.lastTimestamp=P,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,E),x.engineDeltaHistory.unshift(w.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,E),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,E),x.engineUpdatesHistory.unshift(w.timing.lastUpdatesPerFrame),x.engineUpdatesHistory.length=Math.min(x.engineUpdatesHistory.length,E),x.engineElapsedHistory.unshift(w.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,E),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,E)},v=function(d){for(var y=0,w=0;w<d.length;w+=1)y+=d[w];return y/d.length||0},m=function(d,y){var w=document.createElement("canvas");return w.width=d,w.height=y,w.oncontextmenu=function(){return!1},w.onselectstart=function(){return!1},w},S=function(d){var y=d.getContext("2d"),w=window.devicePixelRatio||1,x=y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1;return w/x},M=function(d,y){var w=d.textures[y];return w||(w=d.textures[y]=new Image,w.src=y,w)},T=function(d,y){var w=y;/(jpg|gif|png)$/.test(y)&&(w="url("+y+")"),d.canvas.style.background=w,d.canvas.style.backgroundSize="contain",d.currentBackground=y}})()},function(p,C,u){var e={};p.exports=e;var l=u(5),a=u(17),n=u(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(i){var h={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},o=n.extend(h,i);return o.fps=0,o},e.run=function(i,h){return i.timeBuffer=e._frameDeltaFallback,function o(t){i.frameRequestId=e._onNextFrame(i,o),t&&i.enabled&&e.tick(i,h,t)}(),i},e.tick=function(i,h,o){var t=n.now(),s=i.delta,r=0,v=o-i.timeLastTick;if((!v||!i.timeLastTick||v>Math.max(e._maxFrameDelta,i.maxFrameTime))&&(v=i.frameDelta||e._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(v),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var m=i.frameDeltaHistory.slice(0).sort(),S=i.frameDeltaHistory.slice(m.length*e._smoothingLowerBound,m.length*e._smoothingUpperBound),M=f(S);v=M||v}i.frameDeltaSnapping&&(v=1e3/Math.round(1e3/v)),i.frameDelta=v,i.timeLastTick=o,i.timeBuffer+=i.frameDelta,i.timeBuffer=n.clamp(i.timeBuffer,0,i.frameDelta+s*e._timeBufferMargin),i.lastUpdatesDeferred=0;var T=i.maxUpdates||Math.ceil(i.maxFrameTime/s),d={timestamp:h.timing.timestamp};l.trigger(i,"beforeTick",d),l.trigger(i,"tick",d);for(var y=n.now();s>0&&i.timeBuffer>=s*e._timeBufferMargin;){l.trigger(i,"beforeUpdate",d),a.update(h,s),l.trigger(i,"afterUpdate",d),i.timeBuffer-=s,r+=1;var w=n.now()-t,x=n.now()-y,E=w+e._elapsedNextEstimate*x/r;if(r>=T||E>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/s-e._timeBufferMargin));break}}h.timing.lastUpdatesPerFrame=r,l.trigger(i,"afterTick",d),i.frameDeltaHistory.length>=100&&(i.lastUpdatesDeferred&&Math.round(i.frameDelta/s)>T?n.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):i.lastUpdatesDeferred&&n.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof i.isFixed<"u"&&n.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(i.deltaMin||i.deltaMax)&&n.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),i.fps!==0&&n.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(i){e._cancelNextFrame(i)},e._onNextFrame=function(i,h){if(typeof window<"u"&&window.requestAnimationFrame)i.frameRequestId=window.requestAnimationFrame(h);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return i.frameRequestId},e._cancelNextFrame=function(i){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(i.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var f=function(i){for(var h=0,o=i.length,t=0;t<o;t+=1)h+=i[t];return h/o||0}})()},function(p,C,u){var e={};p.exports=e;var l=u(8),a=u(0),n=a.deprecated;(function(){e.collides=function(f,i){return l.collides(f,i)},n(e,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(p,C,u){var e={};p.exports=e,u(1);var l=u(0);(function(){e.pathToVertices=function(a,n){typeof window<"u"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var f,i,h,o,t,s,r,v,m,S,M=[],T,d,y=0,w=0,x=0;n=n||15;var E=function(I,A,B){var b=B%2===1&&B>1;if(!m||I!=m.x||A!=m.y){m&&b?(T=m.x,d=m.y):(T=0,d=0);var k={x:T+I,y:d+A};(b||!m)&&(m=k),M.push(k),w=T+I,x=d+A}},P=function(I){var A=I.pathSegTypeAsLetter.toUpperCase();if(A!=="Z"){switch(A){case"M":case"L":case"T":case"C":case"S":case"Q":w=I.x,x=I.y;break;case"H":w=I.x;break;case"V":x=I.y;break}E(w,x,I.pathSegType)}};for(e._svgPathToAbsolute(a),h=a.getTotalLength(),s=[],f=0;f<a.pathSegList.numberOfItems;f+=1)s.push(a.pathSegList.getItem(f));for(r=s.concat();y<h;){if(S=a.getPathSegAtLength(y),t=s[S],t!=v){for(;r.length&&r[0]!=t;)P(r.shift());v=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=a.getPointAtLength(y),E(o.x,o.y,0);break}y+=n}for(f=0,i=r.length;f<i;++f)P(r[f]);return M},e._svgPathToAbsolute=function(a){for(var n,f,i,h,o,t,s=a.pathSegList,r=0,v=0,m=s.numberOfItems,S=0;S<m;++S){var M=s.getItem(S),T=M.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in M&&(r=M.x),"y"in M&&(v=M.y);else switch("x1"in M&&(i=r+M.x1),"x2"in M&&(o=r+M.x2),"y1"in M&&(h=v+M.y1),"y2"in M&&(t=v+M.y2),"x"in M&&(r+=M.x),"y"in M&&(v+=M.y),T){case"m":s.replaceItem(a.createSVGPathSegMovetoAbs(r,v),S);break;case"l":s.replaceItem(a.createSVGPathSegLinetoAbs(r,v),S);break;case"h":s.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(r),S);break;case"v":s.replaceItem(a.createSVGPathSegLinetoVerticalAbs(v),S);break;case"c":s.replaceItem(a.createSVGPathSegCurvetoCubicAbs(r,v,i,h,o,t),S);break;case"s":s.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(r,v,o,t),S);break;case"q":s.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(r,v,i,h),S);break;case"t":s.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(r,v),S);break;case"a":s.replaceItem(a.createSVGPathSegArcAbs(r,v,M.r1,M.r2,M.angle,M.largeArcFlag,M.sweepFlag),S);break;case"z":case"Z":r=n,v=f;break}(T=="M"||T=="m")&&(n=r,f=v)}}})()},function(p,C,u){var e={};p.exports=e;var l=u(6);u(0),function(){e.create=l.create,e.add=l.add,e.remove=l.remove,e.clear=l.clear,e.addComposite=l.addComposite,e.addBody=l.addBody,e.addConstraint=l.addConstraint}()}])})}(ze)),ze.exports}var V=$i(),Gi=St('<div class="svelte-1ghenj1"></div> <svg viewBox="0 0 24 24"><path fill="black" d="M10,9A1,1 0 0,1 11,8A1,1 0 0,1 12,9V13.47L13.21,13.6L18.15,15.79C18.68,16.03 19,16.56 19,17.14V21.5C18.97,22.32 18.32,22.97 17.5,23H11C10.62,23 10.26,22.85 10,22.57L5.1,18.37L5.84,17.6C6.03,17.39 6.3,17.28 6.58,17.28H6.8L10,19V9M11,5A4,4 0 0,1 15,9C15,10.5 14.2,11.77 13,12.46V11.24C13.61,10.69 14,9.89 14,9A3,3 0 0,0 11,6A3,3 0 0,0 8,9C8,9.89 8.39,10.69 9,11.24V12.46C7.8,11.77 7,10.5 7,9A4,4 0 0,1 11,5Z"></path></svg>',1);function zi(c,g){dt(g,!0);let p=null,C=null,u=se(!1);setTimeout(()=>{_(u,!0)},5e3);function e(r){switch(r.type){case"mousemove":case"touchmove":p?.body&&C?.mousemove(r);break;case"mousedown":case"touchstart":C?.mousedown(r);break;case"mouseup":case"touchend":C?.mouseup(r);break}return!!p?.body}let l,a,n,f={top:null,left:null,right:null,bottom:null};const i=r=>{if(a){const v=window.visualViewport?.width??window.innerWidth,m=l.offsetHeight;if(a.bounds.max.x=v,a.bounds.max.y=m,a.options.width=v,a.options.height=m,a.canvas.width=v,a.canvas.height=m,f.top&&f.bottom&&f.left&&f.right){V.Body.setPosition(f.top,{x:v/2,y:m+151}),V.Body.setPosition(f.bottom,{x:v/2,y:-151}),V.Body.setPosition(f.left,{x:-151,y:m/2}),V.Body.setPosition(f.right,{x:v+151,y:m/2});const S=v+600,M=300,T=300,d=m;V.Body.setVertices(f.top,V.Vertices.fromPath(`'L 0 0 L ${S} 0 L ${S} ${M} L 0 ${M}`,f.top)),V.Body.setVertices(f.bottom,V.Vertices.fromPath(`'L 0 0 L ${S} 0 L ${S} ${M} L 0 ${M}`,f.bottom)),V.Body.setVertices(f.left,V.Vertices.fromPath(`'L 0 0 L ${T} 0 L ${T} ${d} L 0 ${d}`,f.left)),V.Body.setVertices(f.right,V.Vertices.fromPath(`'L 0 0 L ${T} 0 L ${T} ${d} L 0 ${d}`,f.right))}V.Render.lookAt(a,V.Composite.allBodies(n.world),{x:-301,y:-301})}};lt(async()=>{window.addEventListener("resize",i),await new Promise(requestAnimationFrame);const r=window.visualViewport?.width??window.innerWidth,v=l.offsetHeight,m=r*.75,S=v/2,M={fillStyle:"#fff5da"};f.top=V.Bodies.rectangle(r/2,v+151,r+600,300,{isStatic:!0}),f.bottom=V.Bodies.rectangle(r/2,-151,r+600,300,{isStatic:!0}),f.left=V.Bodies.rectangle(-151,v/2,300,v,{isStatic:!0}),f.right=V.Bodies.rectangle(r+151,v/2,300,v,{isStatic:!0});let T=[V.Bodies.rectangle(m,S+30,40,40,{render:M,angle:30}),V.Bodies.rectangle(m-30,S,50,60,{render:M}),V.Bodies.rectangle(m+15,S,50,30,{render:M,angle:120}),V.Bodies.rectangle(m,S-10,50,70,{render:M})];n=V.Engine.create();for(let y=0;y<60;y++)V.Engine.update(n,1e3/60);a=V.Render.create({element:l,engine:n,options:{width:r,height:v,background:"transparent",wireframeBackground:"transparent",wireframes:!1,hasBounds:!0},bounds:{min:{x:0,y:0},max:{x:window.innerWidth,y:window.innerHeight}}}),C=V.Mouse.create(a.canvas),p=V.MouseConstraint.create(n,{mouse:C,constraint:{stiffness:.2,render:{visible:!1}}}),V.Composite.add(n.world,[...Object.values(f).filter(y=>y!==null),...T,p]),a.mouse=C,V.Render.run(a);const d=V.Runner.create({});V.Runner.run(d,n),V.Events.on(p,"mousedown",()=>{_(u,!1)})}),lt(()=>()=>{window.removeEventListener("resize",i)});var h=Gi(),o=fi(h);Sn(o,r=>l=r,()=>l);var t=ln(o,2);let s;return wt(r=>s=wn(t,0,"svelte-1ghenj1",null,s,r),[()=>({opaque:de(u)})]),Pt(c,h),pt({fireEvent:e})}var _i=St("<main><!> <!></main>");function Qi(c,g){dt(g,!0);let p,C=se(!1),u=se(!1);lt(()=>{document.body.addEventListener("mousemove",n=>_(C,p.fireEvent(n),!0),{passive:!0}),document.body.addEventListener("mousedown",n=>_(C,p.fireEvent(n),!0),{passive:!0}),document.body.addEventListener("mouseup",n=>_(C,p.fireEvent(n),!0),{passive:!0}),document.body.addEventListener("touchmove",n=>_(C,p.fireEvent(n),!0),{passive:!1}),document.body.addEventListener("touchstart",n=>_(C,p.fireEvent(n),!0),{passive:!0}),document.body.addEventListener("touchend",n=>_(C,p.fireEvent(n),!0),{passive:!0}),setTimeout(()=>_(u,!0),200)});var e=_i(),l=li(e);Ui(l,{get pointerEvents(){return de(C)}});var a=ln(l,2);Sn(zi(a,{}),n=>p=n,()=>p),wt(()=>wn(e,1,Di(de(u)?"visible":null),"svelte-ov99jb")),Pt(c,e),pt()}ki(Qi,{target:document.getElementById("app")});
