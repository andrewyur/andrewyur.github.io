(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))M(v);new MutationObserver(v=>{for(const e of v)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&M(l)}).observe(document,{childList:!0,subtree:!0});function p(v){const e={};return v.integrity&&(e.integrity=v.integrity),v.referrerPolicy&&(e.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?e.credentials="include":v.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function M(v){if(v.ep)return;v.ep=!0;const e=p(v);fetch(v.href,e)}})();const Yt=!1;var Xt=Array.isArray,Rn=Array.prototype.indexOf,Dn=Array.from,st=Object.defineProperty,Ee=Object.getOwnPropertyDescriptor,kn=Object.getOwnPropertyDescriptors,Fn=Object.prototype,Ln=Array.prototype,jt=Object.getPrototypeOf,Ot=Object.isExtensible;function bn(f){return f()}function ot(f){for(var g=0;g<f.length;g++)f[g]()}function On(){var f,g,p=new Promise((M,v)=>{f=M,g=v});return{promise:p,resolve:f,reject:g}}const ee=2,ht=4,je=8,qe=16,me=32,De=64,qt=128,q=256,Ke=512,G=1024,ne=2048,Ce=4096,Ae=8192,ke=16384,dt=32768,Vn=65536,Vt=1<<17,Hn=1<<18,pt=1<<19,gt=1<<20,lt=1<<21,mt=1<<22,xe=1<<23,Ie=Symbol("$state"),xt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Nn(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Un(f){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Wn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function _n(f){throw new Error("https://svelte.dev/e/effect_in_teardown")}function zn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Gn(f){throw new Error("https://svelte.dev/e/effect_orphan")}function Qn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function $n(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Kn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Zn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Jn=2,$=Symbol();function en(f){return f===this.v}function Yn(f,g){return f!=f?g==g:f!==g||f!==null&&typeof f=="object"||typeof f=="function"}function tn(f){return!Yn(f,this.v)}let Ne=!1,Xn=!1;function jn(){Ne=!0}let U=null;function Ze(f){U=f}function yt(f,g=!1,p){U={p:U,c:null,e:null,s:f,x:null,l:Ne&&!g?{s:null,u:null,$:[]}:null}}function wt(f){var g=U,p=g.e;if(p!==null){g.e=null;for(var M of p)dn(M)}return f!==void 0&&(g.x=f),U=g.p,f??{}}function Ue(){return!Ne||U!==null&&U.l===null}const qn=new WeakMap;function ei(f){var g=H;if(g===null)return O.f|=xe,f;if((g.f&dt)===0){if((g.f&qt)===0)throw!g.parent&&f instanceof Error&&nn(f),f;g.b.error(f)}else St(f,g)}function St(f,g){for(;g!==null;){if((g.f&qt)!==0)try{g.b.error(f);return}catch(p){f=p}g=g.parent}throw f instanceof Error&&nn(f),f}function nn(f){const g=qn.get(f);g&&(st(f,"message",{value:g.message}),st(f,"stack",{value:g.stack}))}let Je=[];function ti(){var f=Je;Je=[],ot(f)}function ni(f){Je.length===0&&queueMicrotask(ti),Je.push(f)}function ii(){for(var f=H.b;f!==null&&!f.has_pending_snippet();)f=f.parent;return f===null&&Nn(),f}function Pt(f){var g=ee|ne,p=O!==null&&(O.f&ee)!==0?O:null;return H===null||p!==null&&(p.f&q)!==0?g|=q:H.f|=pt,{ctx:U,deps:null,effects:null,equals:en,f:g,fn:f,reactions:null,rv:0,v:$,wv:0,parent:p??H,ac:null}}function ri(f,g){let p=H;p===null&&Wn();var M=p.b,v=void 0,e=Et($),l=null,a=!O;return wi(()=>{try{var i=f()}catch(t){i=Promise.reject(t)}var c=()=>i;v=l?.then(c,c)??Promise.resolve(i),l=v;var n=ae,u=M.pending;a&&(M.update_pending_count(1),u||n.increment());const r=(t,o=void 0)=>{l=null,u||n.activate(),o?o!==xt&&(e.f|=xe,ut(e,o)):((e.f&xe)!==0&&(e.f^=xe),ut(e,t)),a&&(M.update_pending_count(-1),u||n.decrement()),sn()};if(v.then(r,t=>r(null,t||"unknown")),n)return()=>{queueMicrotask(()=>n.neuter())}}),new Promise(i=>{function c(n){function u(){n===v?i(e):c(v)}n.then(u,u)}c(v)})}function ai(f){const g=Pt(f);return g.equals=tn,g}function rn(f){var g=f.effects;if(g!==null){f.effects=null;for(var p=0;p<g.length;p+=1)Pe(g[p])}}function si(f){for(var g=f.parent;g!==null;){if((g.f&ee)===0)return g;g=g.parent}return null}function Ct(f){var g,p=H;Re(si(f));try{rn(f),g=Sn(f)}finally{Re(p)}return g}function an(f){var g=Ct(f);if(f.equals(g)||(f.v=g,f.wv=yn()),!Fe)if(Be!==null)Be.set(f,f.v);else{var p=(pe||(f.f&q)!==0)&&f.deps!==null?Ce:G;K(f,p)}}function oi(f,g,p){const M=Ue()?Pt:ai;if(g.length===0){p(f.map(M));return}var v=ae,e=H,l=li(),a=ii();Promise.all(g.map(i=>ri(i))).then(i=>{v?.activate(),l();try{p([...f.map(M),...i])}catch(c){(e.f&ke)===0&&St(c,e)}v?.deactivate(),sn()}).catch(i=>{a.error(i)})}function li(){var f=H,g=O,p=U;return function(){Re(f),ge(g),Ze(p)}}function sn(){Re(null),ge(null),Ze(null)}const Ge=new Set;let ae=null,Be=null,Ht=new Set,be=[],Mt=null,ft=!1;class et{#l=new Map;#a=new Map;#s=new Set;#t=0;#f=null;#u=!1;#i=[];#o=[];#n=[];#e=[];#r=[];skipped_effects=new Set;#v(g){be=[];var p=null;if(Ge.size>1){p=new Map,Be=new Map;for(const[e,l]of this.#l)p.set(e,{v:e.v,wv:e.wv}),e.v=l;for(const e of Ge)if(e!==this)for(const[l,a]of e.#a)p.has(l)||(p.set(l,{v:l.v,wv:l.wv}),l.v=a)}for(const e of g)this.#h(e);if(this.#i.length===0&&this.#t===0){var M=this.#n,v=this.#e;this.#n=[],this.#e=[],this.#r=[],this.#c(),Nt(M),Nt(v),this.#f?.resolve()}else{for(const e of this.#n)K(e,G);for(const e of this.#e)K(e,G);for(const e of this.#r)K(e,G)}if(p){for(const[e,{v:l,wv:a}]of p)e.wv<=a&&(e.v=l);Be=null}for(const e of this.#i)Ve(e);for(const e of this.#o)Ve(e);this.#i=[],this.#o=[]}#h(g){g.f^=G;for(var p=g.first;p!==null;){var M=p.f,v=(M&(me|De))!==0,e=v&&(M&G)!==0,l=e||(M&Ae)!==0||this.skipped_effects.has(p);if(!l&&p.fn!==null){if(v)p.f^=G;else if((M&ht)!==0)this.#e.push(p);else if(tt(p))if((M&mt)!==0){var a=p.b?.pending?this.#o:this.#i;a.push(p)}else(p.f&qe)!==0&&this.#r.push(p),Ve(p);var i=p.first;if(i!==null){p=i;continue}}var c=p.parent;for(p=p.next;p===null&&c!==null;)p=c.next,c=c.parent}}capture(g,p){this.#a.has(g)||this.#a.set(g,p),this.#l.set(g,g.v)}activate(){ae=this}deactivate(){ae=null;for(const g of Ht)if(Ht.delete(g),g(),ae!==null)break}neuter(){this.#u=!0}flush(){be.length>0?this.flush_effects():this.#c(),ae===this&&(this.#t===0&&Ge.delete(this),this.deactivate())}flush_effects(){var g=Te;ft=!0;try{var p=0;for(Wt(!0);be.length>0;){if(p++>1e3){var M,v;fi()}this.#v(be),we.clear()}}finally{ft=!1,Wt(g),Mt=null}}#c(){if(!this.#u)for(const g of this.#s)g();this.#s.clear()}increment(){this.#t+=1}decrement(){if(this.#t-=1,this.#t===0){for(const g of this.#n)K(g,ne),ye(g);for(const g of this.#e)K(g,ne),ye(g);for(const g of this.#r)K(g,ne),ye(g);this.#n=[],this.#e=[],this.flush()}else this.deactivate()}add_callback(g){this.#s.add(g)}settled(){return(this.#f??=On()).promise}static ensure(g=!0){if(ae===null){const p=ae=new et;Ge.add(ae),g&&queueMicrotask(()=>{ae===p&&p.flush()})}return ae}}function fi(){try{Qn()}catch(f){St(f,Mt)}}function Nt(f){var g=f.length;if(g!==0){for(var p=0;p<g;p++){var M=f[p];if((M.f&(ke|Ae))===0&&tt(M)){var v=Ye;if(Ve(M),M.deps===null&&M.first===null&&M.nodes_start===null&&(M.teardown===null&&M.ac===null?mn(M):M.fn=null),Ye>v&&(M.f&gt)!==0)break}}for(;p<g;p+=1)ye(f[p])}}function ye(f){for(var g=Mt=f;g.parent!==null;){g=g.parent;var p=g.f;if(ft&&g===H&&(p&qe)!==0)return;if((p&(De|me))!==0){if((p&G)===0)return;g.f^=G}}be.push(g)}const we=new Map;function Et(f,g){var p={f:0,v:f,reactions:null,equals:en,rv:0,wv:0};return p}function ce(f,g){const p=Et(f);return Ai(p),p}function ui(f,g=!1,p=!0){const M=Et(f);return g||(M.equals=tn),Ne&&p&&U!==null&&U.l!==null&&(U.l.s??=[]).push(M),M}function X(f,g,p=!1){O!==null&&(!le||(O.f&Vt)!==0)&&Ue()&&(O.f&(ee|qe|mt|Vt))!==0&&!ve?.includes(f)&&Zn();let M=p?Oe(g):g;return ut(f,M)}function ut(f,g){if(!f.equals(g)){var p=f.v;Fe?we.set(f,g):we.set(f,p),f.v=g,et.ensure().capture(f,p),(f.f&ee)!==0&&((f.f&ne)!==0&&Ct(f),K(f,(f.f&q)===0?G:Ce)),f.wv=yn(),on(f,ne),Ue()&&H!==null&&(H.f&G)!==0&&(H.f&(me|De))===0&&(te===null?Bi([f]):te.push(f))}return g}function rt(f){X(f,f.v+1)}function on(f,g){var p=f.reactions;if(p!==null)for(var M=Ue(),v=p.length,e=0;e<v;e++){var l=p[e],a=l.f;(a&ne)===0&&(!M&&l===H||(K(l,g),(a&(G|q))!==0&&((a&ee)!==0?on(l,Ce):ye(l))))}}function Oe(f){if(typeof f!="object"||f===null||Ie in f)return f;const g=jt(f);if(g!==Fn&&g!==Ln)return f;var p=new Map,M=Xt(f),v=ce(0),e=Se,l=a=>{if(Se===e)return a();var i=O,c=Se;ge(null),zt(e);var n=a();return ge(i),zt(c),n};return M&&p.set("length",ce(f.length)),new Proxy(f,{defineProperty(a,i,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&$n();var n=p.get(i);return n===void 0?n=l(()=>{var u=ce(c.value);return p.set(i,u),u}):X(n,c.value,!0),!0},deleteProperty(a,i){var c=p.get(i);if(c===void 0){if(i in a){const n=l(()=>ce($));p.set(i,n),rt(v)}}else X(c,$),rt(v);return!0},get(a,i,c){if(i===Ie)return f;var n=p.get(i),u=i in a;if(n===void 0&&(!u||Ee(a,i)?.writable)&&(n=l(()=>{var t=Oe(u?a[i]:$),o=ce(t);return o}),p.set(i,n)),n!==void 0){var r=fe(n);return r===$?void 0:r}return Reflect.get(a,i,c)},getOwnPropertyDescriptor(a,i){var c=Reflect.getOwnPropertyDescriptor(a,i);if(c&&"value"in c){var n=p.get(i);n&&(c.value=fe(n))}else if(c===void 0){var u=p.get(i),r=u?.v;if(u!==void 0&&r!==$)return{enumerable:!0,configurable:!0,value:r,writable:!0}}return c},has(a,i){if(i===Ie)return!0;var c=p.get(i),n=c!==void 0&&c.v!==$||Reflect.has(a,i);if(c!==void 0||H!==null&&(!n||Ee(a,i)?.writable)){c===void 0&&(c=l(()=>{var r=n?Oe(a[i]):$,t=ce(r);return t}),p.set(i,c));var u=fe(c);if(u===$)return!1}return n},set(a,i,c,n){var u=p.get(i),r=i in a;if(M&&i==="length")for(var t=c;t<u.v;t+=1){var o=p.get(t+"");o!==void 0?X(o,$):t in a&&(o=l(()=>ce($)),p.set(t+"",o))}if(u===void 0)(!r||Ee(a,i)?.writable)&&(u=l(()=>ce(void 0)),X(u,Oe(c)),p.set(i,u));else{r=u.v!==$;var s=l(()=>Oe(c));X(u,s)}var h=Reflect.getOwnPropertyDescriptor(a,i);if(h?.set&&h.set.call(n,c),!r){if(M&&typeof i=="string"){var x=p.get("length"),P=Number(i);Number.isInteger(P)&&P>=x.v&&X(x,P+1)}rt(v)}return!0},ownKeys(a){fe(v);var i=Reflect.ownKeys(a).filter(u=>{var r=p.get(u);return r===void 0||r.v!==$});for(var[c,n]of p)n.v!==$&&!(c in a)&&i.push(c);return i},setPrototypeOf(){Kn()}})}var Ut,ln,fn,un;function ci(){if(Ut===void 0){Ut=window,ln=/Firefox/.test(navigator.userAgent);var f=Element.prototype,g=Node.prototype,p=Text.prototype;fn=Ee(g,"firstChild").get,un=Ee(g,"nextSibling").get,Ot(f)&&(f.__click=void 0,f.__className=void 0,f.__attributes=null,f.__style=void 0,f.__e=void 0),Ot(p)&&(p.__t=void 0)}}function vi(f=""){return document.createTextNode(f)}function cn(f){return fn.call(f)}function vn(f){return un.call(f)}function hi(f,g){return cn(f)}function di(f,g=1,p=!1){let M=f;for(;g--;)M=vn(M);return M}function hn(f){H===null&&O===null&&Gn(),O!==null&&(O.f&q)!==0&&H===null&&zn(),Fe&&_n()}function pi(f,g){var p=g.last;p===null?g.last=g.first=f:(p.next=f,f.prev=p,g.last=f)}function he(f,g,p,M=!0){var v=H;v!==null&&(v.f&Ae)!==0&&(f|=Ae);var e={ctx:U,deps:null,nodes_start:null,nodes_end:null,f:f|ne,first:null,fn:g,last:null,next:null,parent:v,b:v&&v.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(p)try{Ve(e),e.f|=dt}catch(i){throw Pe(e),i}else g!==null&&ye(e);var l=p&&e.deps===null&&e.first===null&&e.nodes_start===null&&e.teardown===null&&(e.f&pt)===0;if(!l&&M&&(v!==null&&pi(e,v),O!==null&&(O.f&ee)!==0)){var a=O;(a.effects??=[]).push(e)}return e}function gi(f){const g=he(je,null,!1);return K(g,G),g.teardown=f,g}function ct(f){hn();var g=H.f,p=!O&&(g&me)!==0&&(g&dt)===0;if(p){var M=U;(M.e??=[]).push(f)}else return dn(f)}function dn(f){return he(ht|gt,f,!1)}function mi(f){return hn(),he(je|gt,f,!0)}function xi(f){et.ensure();const g=he(De,f,!0);return(p={})=>new Promise(M=>{p.outro?Ii(g,()=>{Pe(g),M(void 0)}):(Pe(g),M(void 0))})}function yi(f){return he(ht,f,!1)}function wi(f){return he(mt|pt,f,!0)}function Si(f,g=0){return he(je|g,f,!0)}function Pi(f,g=[],p=[]){oi(g,p,M=>{he(je,()=>f(...M.map(fe)),!0)})}function Ci(f,g=!0){return he(me,f,!0,g)}function pn(f){var g=f.teardown;if(g!==null){const p=Fe,M=O;_t(!0),ge(null);try{g.call(null)}finally{_t(p),ge(M)}}}function gn(f,g=!1){var p=f.first;for(f.first=f.last=null;p!==null;){p.ac?.abort(xt);var M=p.next;(p.f&De)!==0?p.parent=null:Pe(p,g),p=M}}function Mi(f){for(var g=f.first;g!==null;){var p=g.next;(g.f&me)===0&&Pe(g),g=p}}function Pe(f,g=!0){var p=!1;(g||(f.f&Hn)!==0)&&f.nodes_start!==null&&f.nodes_end!==null&&(Ei(f.nodes_start,f.nodes_end),p=!0),gn(f,g&&!p),Xe(f,0),K(f,ke);var M=f.transitions;if(M!==null)for(const e of M)e.stop();pn(f);var v=f.parent;v!==null&&v.first!==null&&mn(f),f.next=f.prev=f.teardown=f.ctx=f.deps=f.fn=f.nodes_start=f.nodes_end=f.ac=null}function Ei(f,g){for(;f!==null;){var p=f===g?null:vn(f);f.remove(),f=p}}function mn(f){var g=f.parent,p=f.prev,M=f.next;p!==null&&(p.next=M),M!==null&&(M.prev=p),g!==null&&(g.first===f&&(g.first=M),g.last===f&&(g.last=p))}function Ii(f,g){var p=[];xn(f,p,!0),Ti(p,()=>{Pe(f),g&&g()})}function Ti(f,g){var p=f.length;if(p>0){var M=()=>--p||g();for(var v of f)v.out(M)}else g()}function xn(f,g,p){if((f.f&Ae)===0){if(f.f^=Ae,f.transitions!==null)for(const l of f.transitions)(l.is_global||p)&&g.push(l);for(var M=f.first;M!==null;){var v=M.next,e=(M.f&Vn)!==0||(M.f&me)!==0;xn(M,g,e?p:!1),M=v}}}let Te=!1;function Wt(f){Te=f}let Fe=!1;function _t(f){Fe=f}let O=null,le=!1;function ge(f){O=f}let H=null;function Re(f){H=f}let ve=null;function Ai(f){O!==null&&(ve===null?ve=[f]:ve.push(f))}let J=null,j=0,te=null;function Bi(f){te=f}let Ye=1,He=0,Se=He;function zt(f){Se=f}let pe=!1;function yn(){return++Ye}function tt(f){var g=f.f;if((g&ne)!==0)return!0;if((g&Ce)!==0){var p=f.deps,M=(g&q)!==0;if(p!==null){var v,e,l=(g&Ke)!==0,a=M&&H!==null&&!pe,i=p.length;if((l||a)&&(H===null||(H.f&ke)===0)){var c=f,n=c.parent;for(v=0;v<i;v++)e=p[v],(l||!e?.reactions?.includes(c))&&(e.reactions??=[]).push(c);l&&(c.f^=Ke),a&&n!==null&&(n.f&q)===0&&(c.f^=q)}for(v=0;v<i;v++)if(e=p[v],tt(e)&&an(e),e.wv>f.wv)return!0}(!M||H!==null&&!pe)&&K(f,G)}return!1}function wn(f,g,p=!0){var M=f.reactions;if(M!==null&&!ve?.includes(f))for(var v=0;v<M.length;v++){var e=M[v];(e.f&ee)!==0?wn(e,g,!1):g===e&&(p?K(e,ne):(e.f&G)!==0&&K(e,Ce),ye(e))}}function Sn(f){var g=J,p=j,M=te,v=O,e=pe,l=ve,a=U,i=le,c=Se,n=f.f;J=null,j=0,te=null,pe=(n&q)!==0&&(le||!Te||O===null),O=(n&(me|De))===0?f:null,ve=null,Ze(f.ctx),le=!1,Se=++He,f.ac!==null&&(f.ac.abort(xt),f.ac=null);try{f.f|=lt;var u=(0,f.fn)(),r=f.deps;if(J!==null){var t;if(Xe(f,j),r!==null&&j>0)for(r.length=j+J.length,t=0;t<J.length;t++)r[j+t]=J[t];else f.deps=r=J;if(!pe||(n&ee)!==0&&f.reactions!==null)for(t=j;t<r.length;t++)(r[t].reactions??=[]).push(f)}else r!==null&&j<r.length&&(Xe(f,j),r.length=j);if(Ue()&&te!==null&&!le&&r!==null&&(f.f&(ee|Ce|ne))===0)for(t=0;t<te.length;t++)wn(te[t],f);return v!==null&&v!==f&&(He++,te!==null&&(M===null?M=te:M.push(...te))),(f.f&xe)!==0&&(f.f^=xe),u}catch(o){return ei(o)}finally{f.f^=lt,J=g,j=p,te=M,O=v,pe=e,ve=l,Ze(a),le=i,Se=c}}function Ri(f,g){let p=g.reactions;if(p!==null){var M=Rn.call(p,f);if(M!==-1){var v=p.length-1;v===0?p=g.reactions=null:(p[M]=p[v],p.pop())}}p===null&&(g.f&ee)!==0&&(J===null||!J.includes(g))&&(K(g,Ce),(g.f&(q|Ke))===0&&(g.f^=Ke),rn(g),Xe(g,0))}function Xe(f,g){var p=f.deps;if(p!==null)for(var M=g;M<p.length;M++)Ri(f,p[M])}function Ve(f){var g=f.f;if((g&ke)===0){K(f,G);var p=H,M=Te;H=f,Te=!0;try{(g&qe)!==0?Mi(f):gn(f),pn(f);var v=Sn(f);f.teardown=typeof v=="function"?v:null,f.wv=Ye;var e;Yt&&Xn&&(f.f&ne)!==0&&f.deps}finally{Te=M,H=p}}}function fe(f){var g=f.f,p=(g&ee)!==0;if(O!==null&&!le){var M=H!==null&&(H.f&ke)!==0;if(!M&&!ve?.includes(f)){var v=O.deps;if((O.f&lt)!==0)f.rv<He&&(f.rv=He,J===null&&v!==null&&v[j]===f?j++:J===null?J=[f]:(!pe||!J.includes(f))&&J.push(f));else{(O.deps??=[]).push(f);var e=f.reactions;e===null?f.reactions=[O]:e.includes(O)||e.push(O)}}}else if(p&&f.deps===null&&f.effects===null){var l=f,a=l.parent;a!==null&&(a.f&q)===0&&(l.f^=q)}if(Fe){if(we.has(f))return we.get(f);if(p){l=f;var i=l.v;return((l.f&G)!==0||Pn(l))&&(i=Ct(l)),we.set(l,i),i}}else if(p){if(l=f,Be?.has(l))return Be.get(l);tt(l)&&an(l)}if((f.f&xe)!==0)throw f.v;return f.v}function Pn(f){if(f.v===$)return!0;if(f.deps===null)return!1;for(const g of f.deps)if(we.has(g)||(g.f&ee)!==0&&Pn(g))return!0;return!1}function It(f){var g=le;try{return le=!0,f()}finally{le=g}}const Di=-7169;function K(f,g){f.f=f.f&Di|g}function ki(f){if(!(typeof f!="object"||!f||f instanceof EventTarget)){if(Ie in f)vt(f);else if(!Array.isArray(f))for(let g in f){const p=f[g];typeof p=="object"&&p&&Ie in p&&vt(p)}}}function vt(f,g=new Set){if(typeof f=="object"&&f!==null&&!(f instanceof EventTarget)&&!g.has(f)){g.add(f),f instanceof Date&&f.getTime();for(let M in f)try{vt(f[M],g)}catch{}const p=jt(f);if(p!==Object.prototype&&p!==Array.prototype&&p!==Map.prototype&&p!==Set.prototype&&p!==Date.prototype){const M=kn(p);for(let v in M){const e=M[v].get;if(e)try{e.call(f)}catch{}}}}}const Fi=["touchstart","touchmove"];function Li(f){return Fi.includes(f)}const bi=new Set,Gt=new Set;function Qe(f){var g=this,p=g.ownerDocument,M=f.type,v=f.composedPath?.()||[],e=v[0]||f.target,l=0,a=f.__root;if(a){var i=v.indexOf(a);if(i!==-1&&(g===document||g===window)){f.__root=g;return}var c=v.indexOf(g);if(c===-1)return;i<=c&&(l=i)}if(e=v[l]||f.target,e!==g){st(f,"currentTarget",{configurable:!0,get(){return e||p}});var n=O,u=H;ge(null),Re(null);try{for(var r,t=[];e!==null;){var o=e.assignedSlot||e.parentNode||e.host||null;try{var s=e["__"+M];if(s!=null&&(!e.disabled||f.target===e))if(Xt(s)){var[h,...x]=s;h.apply(e,[f,...x])}else s.call(e,f)}catch(P){r?t.push(P):r=P}if(f.cancelBubble||o===g||o===null)break;e=o}if(r){for(let P of t)queueMicrotask(()=>{throw P});throw r}}finally{f.__root=g,delete f.currentTarget,ge(n),Re(u)}}}function Oi(f){var g=document.createElement("template");return g.innerHTML=f.replaceAll("<!>","<!---->"),g.content}function Vi(f,g){var p=H;p.nodes_start===null&&(p.nodes_start=f,p.nodes_end=g)}function Tt(f,g){var p=(g&Jn)!==0,M,v=!f.startsWith("<!>");return()=>{M===void 0&&(M=Oi(v?f:"<!>"+f),M=cn(M));var e=p||ln?document.importNode(M,!0):M.cloneNode(!0);return Vi(e,e),e}}function At(f,g){f!==null&&f.before(g)}function Hi(f,g){return Ni(f,g)}const Me=new Map;function Ni(f,{target:g,anchor:p,props:M={},events:v,context:e,intro:l=!0}){ci();var a=new Set,i=u=>{for(var r=0;r<u.length;r++){var t=u[r];if(!a.has(t)){a.add(t);var o=Li(t);g.addEventListener(t,Qe,{passive:o});var s=Me.get(t);s===void 0?(document.addEventListener(t,Qe,{passive:o}),Me.set(t,1)):Me.set(t,s+1)}}};i(Dn(bi)),Gt.add(i);var c=void 0,n=xi(()=>{var u=p??g.appendChild(vi());return Ci(()=>{if(e){yt({});var r=U;r.c=e}v&&(M.$$events=v),c=f(u,M)||{},e&&wt()}),()=>{for(var r of a){g.removeEventListener(r,Qe);var t=Me.get(r);--t===0?(document.removeEventListener(r,Qe),Me.delete(r)):Me.set(r,t)}Gt.delete(i),u!==p&&u.parentNode?.removeChild(u)}});return Ui.set(c,n),c}let Ui=new WeakMap;function Qt(f,g=!1){var p=g?" !important;":";",M="";for(var v in f){var e=f[v];e!=null&&e!==""&&(M+=" "+v+": "+e+p)}return M}function Wi(f,g){if(g){var p="",M,v;return Array.isArray(g)?(M=g[0],v=g[1]):M=g,M&&(p+=Qt(M)),v&&(p+=Qt(v,!0)),p=p.trim(),p===""?null:p}return String(f)}function at(f,g={},p,M){for(var v in p){var e=p[v];g[v]!==e&&(p[v]==null?f.style.removeProperty(v):f.style.setProperty(v,e,M))}}function _i(f,g,p,M){var v=f.__style;if(v!==g){var e=Wi(g,M);e==null?f.removeAttribute("style"):f.style.cssText=e,f.__style=g}else M&&(Array.isArray(M)?(at(f,p?.[0],M[0]),at(f,p?.[1],M[1],"important")):at(f,p,M));return M}function zi(f,g,p){var M=Ee(f,g);M&&M.set&&(f[g]=p,gi(()=>{f[g]=null}))}function $t(f,g){return f===g||f?.[Ie]===g}function Cn(f={},g,p,M){return yi(()=>{var v,e;return Si(()=>{v=e,e=[],It(()=>{f!==p(...e)&&(g(f,...e),v&&$t(p(...v),f)&&g(null,...v))})}),()=>{ni(()=>{e&&$t(p(...e),f)&&g(null,...e)})}}),f}function Gi(f=!1){const g=U,p=g.l.u;if(!p)return;let M=()=>ki(g.s);if(f){let v=0,e={};const l=Pt(()=>{let a=!1;const i=g.s;for(const c in i)i[c]!==e[c]&&(e[c]=i[c],a=!0);return a&&v++,v});M=()=>fe(l)}p.b.length&&mi(()=>{Kt(g,M),ot(p.b)}),ct(()=>{const v=It(()=>p.m.map(bn));return()=>{for(const e of v)typeof e=="function"&&e()}}),p.a.length&&ct(()=>{Kt(g,M),ot(p.a)})}function Kt(f,g){if(f.l.s)for(const p of f.l.s)fe(p);g()}function Mn(f){U===null&&Un(),Ne&&U.l!==null?Qi(U).m.push(f):ct(()=>{const g=It(f);if(typeof g=="function")return g})}function Qi(f){var g=f.l;return g.u??={a:[],b:[],m:[]}}const $i="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add($i);var Ki=Tt(`<div class="svelte-ctthd8"><h1 class="svelte-ctthd8">Andrew Yurovchak</h1> <h1 class="svelte-ctthd8">Hoboken New Jersey || Nashua New Hampshire</h1> <h1 class="svelte-ctthd8"><a href="mailto:andy@yurovchak.net" class="svelte-ctthd8">andy@yurovchak.net</a></h1> <h1 class="svelte-ctthd8"><a href="https://docs.google.com/viewer?url=https%3A%2F%2Fgithub.com%2Fandrewyur%2Fresume%2Freleases%2Flatest%2Fdownload%2Fresume.pdf" class="svelte-ctthd8">Resume</a></h1> <p class="svelte-ctthd8">I am computer science student at Stevens Institute of Technology. I am a
        really quick learner, and a talented software engineer. I enjoy
        designing and building software.</p> <h2 class="svelte-ctthd8">work experience</h2> <h3 class="svelte-ctthd8">Software Engineering Internship - BAE Systems - Summer 2025</h3> <p class="svelte-ctthd8">I took ownership of a Fullstack Web UI for a Signals Intelligence
        platform, which was built with Vue and Node. During my time here, I
        rewrote the entire codebase from commonjs JavaScript to ES6 Typescript,
        upgraded the frontend from Vue 2 to Vue 3, integrated a server framework
        into the backend, and added a build step with Vite that reduced uncached
        page load time from 10 seconds to 400 milliseconds. I also added a user
        interface for the platform's file upload system, which involved
        designing a websocket protocol and common interface, making GRPC calls,
        and streaming files from the backend to the platform. I was also able to
        make a lot of container optimizations: The UI was running accross 4 pods
        in a kubernetes cluster, and I was able to condense them all into one
        pod and only 1 exposed port, using Nginx as a reverse proxy. This
        reduced the combined image size for the UI by 1.1GB, and allowed the
        user to access the UI on their local browser with ssh port forwarding. I
        was also able to reduce the UI's image build time by 98% (6 mins to 5
        secs) by rewriting the dockerfile to take better advantage of layer
        caching. I had a blast working here, the work I was doing was similar to
        what I would have been doing for fun if I was unemployed, I often found
        myself pulling 11 hour days without meaning to.</p> <h3 class="svelte-ctthd8">Software Engineering Internship - Jacobs Technology - Summer 2024</h3> <p class="svelte-ctthd8">I worked on an agile software development team, and completed feature
        requests and bug fixes across a wide range of .NET based applications.
        The area I was in focused mostly on creating applications that
        compressed navigation data for military aircraft. Most of my time here
        was spent digging through confusing, undocumented code and traversing
        gigantic inheritance trees. I was also able to do some work on an
        internal load testing tool with some other interns, also written in
        .NET. I implemented error handling features which prevented the entire
        4hr+ runtime from going forward if there was an error in the
        configuration.</p> <h3 class="svelte-ctthd8">Head of Risk and Development - Stevens Student Managed Investment Fund -
        Fall 2024</h3> <p class="svelte-ctthd8">I led a team of 4 developers in maintaining and developing new features
        for the fund's internal website, which provided portfolio information
        and analysis tools to the fund's equity analysts. The website was
        written in React, and used Python and Flask for the backend. While I was
        there, I made a page for the site that showed graphs depicting the
        fund's performance metrics, which involved pulling data from yfinance,
        calculating the fund performance metrics with pandas, and then caching
        the resulting data. I had a great time in this position, I learned a lot
        about managing people and leading a team of software engineers.</p> <h2 class="svelte-ctthd8">projects</h2> <h3 class="svelte-ctthd8">Reverse engineered photograpy portfolio - <a href="https://photos.baetylboy.biz" class="svelte-ctthd8">live link</a> - <a href="https://github.com/andrewyur/photography-portfolio" class="svelte-ctthd8">github</a></h3> <p class="svelte-ctthd8">I publish all of my photography onto a shared album on apple photos, and
        I wanted to find a way to display that album on a custom website,
        without having to worry about posting my photography in multiple places.
        I found out that apple photos provides a web viewer for the shared
        album, and so I decided to reverse engineer the front end code, and
        figure out how to call the private API that the apple photos website
        uses to fetch photos from the album, so that I could display the photos
        on my website without having to worry about storing them. I became very
        familiar with the devtools debugger with this project, there was about
        4k lines of minified code to dig through. I built the website with
        Svelte, and made a special effort to create a site that looks good on
        mobile and desktop.</p> <h3 class="svelte-ctthd8">Collaborative text editor - <a href="https://collab-notepad.baetylboy.biz" class="svelte-ctthd8">live link</a> - <a href="https://github.com/andrewyur/collab_notepad" class="svelte-ctthd8">github</a></h3> <p class="svelte-ctthd8">I built a google-docs-style collaborative text editor, that allows
        multiple people to edit a text document in real time, without having to
        worry about edit conflicts. I ended up creating my own version of an
        operational transformation algorithm, which allowed for merging
        divergent document states of any length. This means that clients can
        push changes to the server without pulling them in first, or have a
        really slow connection to the server and still have the same document
        once the dust settles. I wrote this project in Elixir, a functional
        programming language that is a sibling of Erlang, famous for its fault
        tolerance features. It was a really unique experience, and it was also
        very interesting to tackle the challenges using a functional programming
        language presented.</p> <h3 class="svelte-ctthd8">QR code image encoder - <a href="https://github.com/andrewyur/qart" class="svelte-ctthd8">github</a> - <a href="https://crates.io/crates/qart" class="svelte-ctthd8">crates.io</a></h3> <p class="svelte-ctthd8">I wrote a Rust implementation of the process described in <a href="https://research.swtch.com/qart" class="svelte-ctthd8">this article</a>, which
        utilized multithreading and Rust's high performance to do it at least
        100 times faster than other implementations. the process of encoding an
        image into a working QR code was really complex, and the article only
        gave vague instructions. I had to piece this together from bits of code
        across repositories, and without any prior understanding of linear
        algebra or of QR codes, it was a significant learning experience.
        Looking back on it, the code is pretty messy and not very idiomatic, I
        am certain I could write better Rust code these days...</p> <h2 class="svelte-ctthd8">other things</h2> <p class="svelte-ctthd8">I fence for my college (I got <a href="https://docs.google.com/viewer?url=https%3A%2F%2Fusfca.org%2Fwp-admin%2Fadmin-ajax.php%3Fjuwpfisadmin%3Dfalse%26action%3Dwpfd%26task%3Dfile.download%26wpfd_category_id%3D77%26wpfd_file_id%3D42521%26token%3D%26preview%3D1&amp;embedded=true" class="svelte-ctthd8">all american honorable mention</a> last season), I enjoy playing pool and video games, listening to music and
        fantasy/sci-fi audiobooks, and <a href="https://photos.baetylboy.biz" class="svelte-ctthd8">photography</a> in my free time</p></div>`);function Zi(f,g){var p=Ki();let M;Pi(v=>M=_i(p,"",M,v),[()=>({"pointer-events":g.pointerEvents?"none":"auto"})]),At(f,p)}jn();var Zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Ji=$e.exports,Jt;function Yi(){return Jt||(Jt=1,function(f,g){(function(M,v){f.exports=v()})(Ji,function(){return function(p){var M={};function v(e){if(M[e])return M[e].exports;var l=M[e]={i:e,l:!1,exports:{}};return p[e].call(l.exports,l,l.exports,v),l.l=!0,l.exports}return v.m=p,v.c=M,v.d=function(e,l,a){v.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:a})},v.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},v.t=function(e,l){if(l&1&&(e=v(e)),l&8||l&4&&typeof e=="object"&&e&&e.__esModule)return e;var a=Object.create(null);if(v.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),l&2&&typeof e!="string")for(var i in e)v.d(a,i,(function(c){return e[c]}).bind(null,i));return a},v.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return v.d(l,"a",l),l},v.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},v.p="",v(v.s=20)}([function(p,M){var v={};p.exports=v,function(){v._baseDelta=1e3/60,v._nextId=0,v._seed=0,v._nowStartTime=+new Date,v._warnedOnce={},v._decomp=null,v.extend=function(l,a){var i,c;typeof a=="boolean"?(i=2,c=a):(i=1,c=!0);for(var n=i;n<arguments.length;n++){var u=arguments[n];if(u)for(var r in u)c&&u[r]&&u[r].constructor===Object&&(!l[r]||l[r].constructor===Object)?(l[r]=l[r]||{},v.extend(l[r],c,u[r])):l[r]=u[r]}return l},v.clone=function(l,a){return v.extend({},a,l)},v.keys=function(l){if(Object.keys)return Object.keys(l);var a=[];for(var i in l)a.push(i);return a},v.values=function(l){var a=[];if(Object.keys){for(var i=Object.keys(l),c=0;c<i.length;c++)a.push(l[i[c]]);return a}for(var n in l)a.push(l[n]);return a},v.get=function(l,a,i,c){a=a.split(".").slice(i,c);for(var n=0;n<a.length;n+=1)l=l[a[n]];return l},v.set=function(l,a,i,c,n){var u=a.split(".").slice(c,n);return v.get(l,a,0,-1)[u[u.length-1]]=i,i},v.shuffle=function(l){for(var a=l.length-1;a>0;a--){var i=Math.floor(v.random()*(a+1)),c=l[a];l[a]=l[i],l[i]=c}return l},v.choose=function(l){return l[Math.floor(v.random()*l.length)]},v.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},v.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},v.isFunction=function(l){return typeof l=="function"},v.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},v.isString=function(l){return toString.call(l)==="[object String]"},v.clamp=function(l,a,i){return l<a?a:l>i?i:l},v.sign=function(l){return l<0?-1:1},v.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-v._nowStartTime},v.random=function(l,a){return l=typeof l<"u"?l:0,a=typeof a<"u"?a:1,l+e()*(a-l)};var e=function(){return v._seed=(v._seed*9301+49297)%233280,v._seed/233280};v.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},v.logLevel=1,v.log=function(){console&&v.logLevel>0&&v.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},v.info=function(){console&&v.logLevel>0&&v.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},v.warn=function(){console&&v.logLevel>0&&v.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},v.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");v._warnedOnce[l]||(v.warn(l),v._warnedOnce[l]=!0)},v.deprecated=function(l,a,i){l[a]=v.chain(function(){v.warnOnce("🔅 deprecated 🔅",i)},l[a])},v.nextId=function(){return v._nextId++},v.indexOf=function(l,a){if(l.indexOf)return l.indexOf(a);for(var i=0;i<l.length;i++)if(l[i]===a)return i;return-1},v.map=function(l,a){if(l.map)return l.map(a);for(var i=[],c=0;c<l.length;c+=1)i.push(a(l[c]));return i},v.topologicalSort=function(l){var a=[],i=[],c=[];for(var n in l)!i[n]&&!c[n]&&v._topologicalSort(n,i,c,l,a);return a},v._topologicalSort=function(l,a,i,c,n){var u=c[l]||[];i[l]=!0;for(var r=0;r<u.length;r+=1){var t=u[r];i[t]||a[t]||v._topologicalSort(t,a,i,c,n)}i[l]=!1,a[l]=!0,n.push(l)},v.chain=function(){for(var l=[],a=0;a<arguments.length;a+=1){var i=arguments[a];i._chained?l.push.apply(l,i._chained):l.push(i)}var c=function(){for(var n,u=new Array(arguments.length),r=0,t=arguments.length;r<t;r++)u[r]=arguments[r];for(r=0;r<l.length;r+=1){var o=l[r].apply(n,u);typeof o<"u"&&(n=o)}return n};return c._chained=l,c},v.chainPathBefore=function(l,a,i){return v.set(l,a,v.chain(i,v.get(l,a)))},v.chainPathAfter=function(l,a,i){return v.set(l,a,v.chain(v.get(l,a),i))},v.setDecomp=function(l){v._decomp=l},v.getDecomp=function(){var l=v._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof Zt<"u"&&(l=Zt.decomp)}catch{l=null}return l}}()},function(p,M){var v={};p.exports=v,function(){v.create=function(e){var l={min:{x:0,y:0},max:{x:0,y:0}};return e&&v.update(l,e),l},v.update=function(e,l,a){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var i=0;i<l.length;i++){var c=l[i];c.x>e.max.x&&(e.max.x=c.x),c.x<e.min.x&&(e.min.x=c.x),c.y>e.max.y&&(e.max.y=c.y),c.y<e.min.y&&(e.min.y=c.y)}a&&(a.x>0?e.max.x+=a.x:e.min.x+=a.x,a.y>0?e.max.y+=a.y:e.min.y+=a.y)},v.contains=function(e,l){return l.x>=e.min.x&&l.x<=e.max.x&&l.y>=e.min.y&&l.y<=e.max.y},v.overlaps=function(e,l){return e.min.x<=l.max.x&&e.max.x>=l.min.x&&e.max.y>=l.min.y&&e.min.y<=l.max.y},v.translate=function(e,l){e.min.x+=l.x,e.max.x+=l.x,e.min.y+=l.y,e.max.y+=l.y},v.shift=function(e,l){var a=e.max.x-e.min.x,i=e.max.y-e.min.y;e.min.x=l.x,e.max.x=l.x+a,e.min.y=l.y,e.max.y=l.y+i}}()},function(p,M){var v={};p.exports=v,function(){v.create=function(e,l){return{x:e||0,y:l||0}},v.clone=function(e){return{x:e.x,y:e.y}},v.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},v.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},v.rotate=function(e,l,a){var i=Math.cos(l),c=Math.sin(l);a||(a={});var n=e.x*i-e.y*c;return a.y=e.x*c+e.y*i,a.x=n,a},v.rotateAbout=function(e,l,a,i){var c=Math.cos(l),n=Math.sin(l);i||(i={});var u=a.x+((e.x-a.x)*c-(e.y-a.y)*n);return i.y=a.y+((e.x-a.x)*n+(e.y-a.y)*c),i.x=u,i},v.normalise=function(e){var l=v.magnitude(e);return l===0?{x:0,y:0}:{x:e.x/l,y:e.y/l}},v.dot=function(e,l){return e.x*l.x+e.y*l.y},v.cross=function(e,l){return e.x*l.y-e.y*l.x},v.cross3=function(e,l,a){return(l.x-e.x)*(a.y-e.y)-(l.y-e.y)*(a.x-e.x)},v.add=function(e,l,a){return a||(a={}),a.x=e.x+l.x,a.y=e.y+l.y,a},v.sub=function(e,l,a){return a||(a={}),a.x=e.x-l.x,a.y=e.y-l.y,a},v.mult=function(e,l){return{x:e.x*l,y:e.y*l}},v.div=function(e,l){return{x:e.x/l,y:e.y/l}},v.perp=function(e,l){return l=l===!0?-1:1,{x:l*-e.y,y:l*e.x}},v.neg=function(e){return{x:-e.x,y:-e.y}},v.angle=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)},v._temp=[v.create(),v.create(),v.create(),v.create(),v.create(),v.create()]}()},function(p,M,v){var e={};p.exports=e;var l=v(2),a=v(0);(function(){e.create=function(i,c){for(var n=[],u=0;u<i.length;u++){var r=i[u],t={x:r.x,y:r.y,index:u,body:c,isInternal:!1};n.push(t)}return n},e.fromPath=function(i,c){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,u=[];return i.replace(n,function(r,t,o){u.push({x:parseFloat(t),y:parseFloat(o)})}),e.create(u,c)},e.centre=function(i){for(var c=e.area(i,!0),n={x:0,y:0},u,r,t,o=0;o<i.length;o++)t=(o+1)%i.length,u=l.cross(i[o],i[t]),r=l.mult(l.add(i[o],i[t]),u),n=l.add(n,r);return l.div(n,6*c)},e.mean=function(i){for(var c={x:0,y:0},n=0;n<i.length;n++)c.x+=i[n].x,c.y+=i[n].y;return l.div(c,i.length)},e.area=function(i,c){for(var n=0,u=i.length-1,r=0;r<i.length;r++)n+=(i[u].x-i[r].x)*(i[u].y+i[r].y),u=r;return c?n/2:Math.abs(n)/2},e.inertia=function(i,c){for(var n=0,u=0,r=i,t,o,s=0;s<r.length;s++)o=(s+1)%r.length,t=Math.abs(l.cross(r[o],r[s])),n+=t*(l.dot(r[o],r[o])+l.dot(r[o],r[s])+l.dot(r[s],r[s])),u+=t;return c/6*(n/u)},e.translate=function(i,c,n){n=typeof n<"u"?n:1;var u=i.length,r=c.x*n,t=c.y*n,o;for(o=0;o<u;o++)i[o].x+=r,i[o].y+=t;return i},e.rotate=function(i,c,n){if(c!==0){var u=Math.cos(c),r=Math.sin(c),t=n.x,o=n.y,s=i.length,h,x,P,E;for(E=0;E<s;E++)h=i[E],x=h.x-t,P=h.y-o,h.x=t+(x*u-P*r),h.y=o+(x*r+P*u);return i}},e.contains=function(i,c){for(var n=c.x,u=c.y,r=i.length,t=i[r-1],o,s=0;s<r;s++){if(o=i[s],(n-t.x)*(o.y-t.y)+(u-t.y)*(t.x-o.x)>0)return!1;t=o}return!0},e.scale=function(i,c,n,u){if(c===1&&n===1)return i;u=u||e.centre(i);for(var r,t,o=0;o<i.length;o++)r=i[o],t=l.sub(r,u),i[o].x=u.x+t.x*c,i[o].y=u.y+t.y*n;return i},e.chamfer=function(i,c,n,u,r){typeof c=="number"?c=[c]:c=c||[8],n=typeof n<"u"?n:-1,u=u||2,r=r||14;for(var t=[],o=0;o<i.length;o++){var s=i[o-1>=0?o-1:i.length-1],h=i[o],x=i[(o+1)%i.length],P=c[o<c.length?o:c.length-1];if(P===0){t.push(h);continue}var E=l.normalise({x:h.y-s.y,y:s.x-h.x}),A=l.normalise({x:x.y-h.y,y:h.x-x.x}),d=Math.sqrt(2*Math.pow(P,2)),y=l.mult(a.clone(E),P),w=l.normalise(l.mult(l.add(E,A),.5)),m=l.sub(h,l.mult(w,d)),C=n;n===-1&&(C=Math.pow(P,.32)*1.75),C=a.clamp(C,u,r),C%2===1&&(C+=1);for(var S=Math.acos(l.dot(E,A)),I=S/C,T=0;T<C;T++)t.push(l.add(l.rotate(y,I*T),m))}return t},e.clockwiseSort=function(i){var c=e.mean(i);return i.sort(function(n,u){return l.angle(c,n)-l.angle(c,u)}),i},e.isConvex=function(i){var c=0,n=i.length,u,r,t,o;if(n<3)return null;for(u=0;u<n;u++)if(r=(u+1)%n,t=(u+2)%n,o=(i[r].x-i[u].x)*(i[t].y-i[r].y),o-=(i[r].y-i[u].y)*(i[t].x-i[r].x),o<0?c|=1:o>0&&(c|=2),c===3)return!1;return c!==0?!0:null},e.hull=function(i){var c=[],n=[],u,r;for(i=i.slice(0),i.sort(function(t,o){var s=t.x-o.x;return s!==0?s:t.y-o.y}),r=0;r<i.length;r+=1){for(u=i[r];n.length>=2&&l.cross3(n[n.length-2],n[n.length-1],u)<=0;)n.pop();n.push(u)}for(r=i.length-1;r>=0;r-=1){for(u=i[r];c.length>=2&&l.cross3(c[c.length-2],c[c.length-1],u)<=0;)c.pop();c.push(u)}return c.pop(),n.pop(),c.concat(n)}})()},function(p,M,v){var e={};p.exports=e;var l=v(3),a=v(2),i=v(7),c=v(0),n=v(1),u=v(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var o={id:c.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},s=c.extend(o,t);return r(s,t),s},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var r=function(t,o){o=o||{},e.set(t,{bounds:t.bounds||n.create(t.vertices),positionPrev:t.positionPrev||a.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),l.rotate(t.vertices,t.angle,t.position),u.rotate(t.axes,t.angle),n.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:o.axes||t.axes,area:o.area||t.area,mass:o.mass||t.mass,inertia:o.inertia||t.inertia});var s=t.isStatic?"#14151f":c.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),h=t.isStatic?"#555":"#ccc",x=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||s,t.render.strokeStyle=t.render.strokeStyle||h,t.render.lineWidth=t.render.lineWidth||x,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,o,s){var h;typeof o=="string"&&(h=o,o={},o[h]=s);for(h in o)if(Object.prototype.hasOwnProperty.call(o,h))switch(s=o[h],h){case"isStatic":e.setStatic(t,s);break;case"isSleeping":i.set(t,s);break;case"mass":e.setMass(t,s);break;case"density":e.setDensity(t,s);break;case"inertia":e.setInertia(t,s);break;case"vertices":e.setVertices(t,s);break;case"position":e.setPosition(t,s);break;case"angle":e.setAngle(t,s);break;case"velocity":e.setVelocity(t,s);break;case"angularVelocity":e.setAngularVelocity(t,s);break;case"speed":e.setSpeed(t,s);break;case"angularSpeed":e.setAngularSpeed(t,s);break;case"parts":e.setParts(t,s);break;case"centre":e.setCentre(t,s);break;default:t[h]=s}},e.setStatic=function(t,o){for(var s=0;s<t.parts.length;s++){var h=t.parts[s];o?(h.isStatic||(h._original={restitution:h.restitution,friction:h.friction,mass:h.mass,inertia:h.inertia,density:h.density,inverseMass:h.inverseMass,inverseInertia:h.inverseInertia}),h.restitution=0,h.friction=1,h.mass=h.inertia=h.density=1/0,h.inverseMass=h.inverseInertia=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.angularVelocity=0,h.speed=0,h.angularSpeed=0,h.motion=0):h._original&&(h.restitution=h._original.restitution,h.friction=h._original.friction,h.mass=h._original.mass,h.inertia=h._original.inertia,h.density=h._original.density,h.inverseMass=h._original.inverseMass,h.inverseInertia=h._original.inverseInertia,h._original=null),h.isStatic=o}},e.setMass=function(t,o){var s=t.inertia/(t.mass/6);t.inertia=s*(o/6),t.inverseInertia=1/t.inertia,t.mass=o,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,o){e.setMass(t,o*t.area),t.density=o},e.setInertia=function(t,o){t.inertia=o,t.inverseInertia=1/t.inertia},e.setVertices=function(t,o){o[0].body===t?t.vertices=o:t.vertices=l.create(o,t),t.axes=u.fromVertices(t.vertices),t.area=l.area(t.vertices),e.setMass(t,t.density*t.area);var s=l.centre(t.vertices);l.translate(t.vertices,s,-1),e.setInertia(t,e._inertiaScale*l.inertia(t.vertices,t.mass)),l.translate(t.vertices,t.position),n.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,o,s){var h;for(o=o.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,h=0;h<o.length;h++){var x=o[h];x!==t&&(x.parent=t,t.parts.push(x))}if(t.parts.length!==1){if(s=typeof s<"u"?s:!0,s){var P=[];for(h=0;h<o.length;h++)P=P.concat(o[h].vertices);l.clockwiseSort(P);var E=l.hull(P),A=l.centre(E);e.setVertices(t,E),l.translate(t.vertices,A)}var d=e._totalProperties(t);t.area=d.area,t.parent=t,t.position.x=d.centre.x,t.position.y=d.centre.y,t.positionPrev.x=d.centre.x,t.positionPrev.y=d.centre.y,e.setMass(t,d.mass),e.setInertia(t,d.inertia),e.setPosition(t,d.centre)}},e.setCentre=function(t,o,s){s?(t.positionPrev.x+=o.x,t.positionPrev.y+=o.y,t.position.x+=o.x,t.position.y+=o.y):(t.positionPrev.x=o.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=o.y-(t.position.y-t.positionPrev.y),t.position.x=o.x,t.position.y=o.y)},e.setPosition=function(t,o,s){var h=a.sub(o,t.position);s?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=h.x,t.velocity.y=h.y,t.speed=a.magnitude(h)):(t.positionPrev.x+=h.x,t.positionPrev.y+=h.y);for(var x=0;x<t.parts.length;x++){var P=t.parts[x];P.position.x+=h.x,P.position.y+=h.y,l.translate(P.vertices,h),n.update(P.bounds,P.vertices,t.velocity)}},e.setAngle=function(t,o,s){var h=o-t.angle;s?(t.anglePrev=t.angle,t.angularVelocity=h,t.angularSpeed=Math.abs(h)):t.anglePrev+=h;for(var x=0;x<t.parts.length;x++){var P=t.parts[x];P.angle+=h,l.rotate(P.vertices,h,t.position),u.rotate(P.axes,h),n.update(P.bounds,P.vertices,t.velocity),x>0&&a.rotateAbout(P.position,h,t.position,P.position)}},e.setVelocity=function(t,o){var s=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-o.x*s,t.positionPrev.y=t.position.y-o.y*s,t.velocity.x=(t.position.x-t.positionPrev.x)/s,t.velocity.y=(t.position.y-t.positionPrev.y)/s,t.speed=a.magnitude(t.velocity)},e.getVelocity=function(t){var o=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*o,y:(t.position.y-t.positionPrev.y)*o}},e.getSpeed=function(t){return a.magnitude(e.getVelocity(t))},e.setSpeed=function(t,o){e.setVelocity(t,a.mult(a.normalise(e.getVelocity(t)),o))},e.setAngularVelocity=function(t,o){var s=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-o*s,t.angularVelocity=(t.angle-t.anglePrev)/s,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,o){e.setAngularVelocity(t,c.sign(e.getAngularVelocity(t))*o)},e.translate=function(t,o,s){e.setPosition(t,a.add(t.position,o),s)},e.rotate=function(t,o,s,h){if(!s)e.setAngle(t,t.angle+o,h);else{var x=Math.cos(o),P=Math.sin(o),E=t.position.x-s.x,A=t.position.y-s.y;e.setPosition(t,{x:s.x+(E*x-A*P),y:s.y+(E*P+A*x)},h),e.setAngle(t,t.angle+o,h)}},e.scale=function(t,o,s,h){var x=0,P=0;h=h||t.position;for(var E=0;E<t.parts.length;E++){var A=t.parts[E];l.scale(A.vertices,o,s,h),A.axes=u.fromVertices(A.vertices),A.area=l.area(A.vertices),e.setMass(A,t.density*A.area),l.translate(A.vertices,{x:-A.position.x,y:-A.position.y}),e.setInertia(A,e._inertiaScale*l.inertia(A.vertices,A.mass)),l.translate(A.vertices,{x:A.position.x,y:A.position.y}),E>0&&(x+=A.area,P+=A.inertia),A.position.x=h.x+(A.position.x-h.x)*o,A.position.y=h.y+(A.position.y-h.y)*s,n.update(A.bounds,A.vertices,t.velocity)}t.parts.length>1&&(t.area=x,t.isStatic||(e.setMass(t,t.density*x),e.setInertia(t,P))),t.circleRadius&&(o===s?t.circleRadius*=o:t.circleRadius=null)},e.update=function(t,o){o=(typeof o<"u"?o:1e3/60)*t.timeScale;var s=o*o,h=e._timeCorrection?o/(t.deltaTime||o):1,x=1-t.frictionAir*(o/c._baseDelta),P=(t.position.x-t.positionPrev.x)*h,E=(t.position.y-t.positionPrev.y)*h;t.velocity.x=P*x+t.force.x/t.mass*s,t.velocity.y=E*x+t.force.y/t.mass*s,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=o,t.angularVelocity=(t.angle-t.anglePrev)*x*h+t.torque/t.inertia*s,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var A=0;A<t.parts.length;A++){var d=t.parts[A];l.translate(d.vertices,t.velocity),A>0&&(d.position.x+=t.velocity.x,d.position.y+=t.velocity.y),t.angularVelocity!==0&&(l.rotate(d.vertices,t.angularVelocity,t.position),u.rotate(d.axes,t.angularVelocity),A>0&&a.rotateAbout(d.position,t.angularVelocity,t.position,d.position)),n.update(d.bounds,d.vertices,t.velocity)}},e.updateVelocities=function(t){var o=e._baseDelta/t.deltaTime,s=t.velocity;s.x=(t.position.x-t.positionPrev.x)*o,s.y=(t.position.y-t.positionPrev.y)*o,t.speed=Math.sqrt(s.x*s.x+s.y*s.y),t.angularVelocity=(t.angle-t.anglePrev)*o,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,o,s){var h={x:o.x-t.position.x,y:o.y-t.position.y};t.force.x+=s.x,t.force.y+=s.y,t.torque+=h.x*s.y-h.y*s.x},e._totalProperties=function(t){for(var o={mass:0,area:0,inertia:0,centre:{x:0,y:0}},s=t.parts.length===1?0:1;s<t.parts.length;s++){var h=t.parts[s],x=h.mass!==1/0?h.mass:1;o.mass+=x,o.area+=h.area,o.inertia+=h.inertia,o.centre=a.add(o.centre,a.mult(h.position,x))}return o.centre=a.div(o.centre,o.mass),o}})()},function(p,M,v){var e={};p.exports=e;var l=v(0);(function(){e.on=function(a,i,c){for(var n=i.split(" "),u,r=0;r<n.length;r++)u=n[r],a.events=a.events||{},a.events[u]=a.events[u]||[],a.events[u].push(c);return c},e.off=function(a,i,c){if(!i){a.events={};return}typeof i=="function"&&(c=i,i=l.keys(a.events).join(" "));for(var n=i.split(" "),u=0;u<n.length;u++){var r=a.events[n[u]],t=[];if(c&&r)for(var o=0;o<r.length;o++)r[o]!==c&&t.push(r[o]);a.events[n[u]]=t}},e.trigger=function(a,i,c){var n,u,r,t,o=a.events;if(o&&l.keys(o).length>0){c||(c={}),n=i.split(" ");for(var s=0;s<n.length;s++)if(u=n[s],r=o[u],r){t=l.clone(c,!1),t.name=u,t.source=a;for(var h=0;h<r.length;h++)r[h].apply(a,[t])}}}})()},function(p,M,v){var e={};p.exports=e;var l=v(5),a=v(0),i=v(1),c=v(4);(function(){e.create=function(n){return a.extend({id:a.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},e.setModified=function(n,u,r,t){if(n.isModified=u,u&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),r&&n.parent&&e.setModified(n.parent,u,r,t),t)for(var o=0;o<n.composites.length;o++){var s=n.composites[o];e.setModified(s,u,r,t)}},e.add=function(n,u){var r=[].concat(u);l.trigger(n,"beforeAdd",{object:u});for(var t=0;t<r.length;t++){var o=r[t];switch(o.type){case"body":if(o.parent!==o){a.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(n,o);break;case"constraint":e.addConstraint(n,o);break;case"composite":e.addComposite(n,o);break;case"mouseConstraint":e.addConstraint(n,o.constraint);break}}return l.trigger(n,"afterAdd",{object:u}),n},e.remove=function(n,u,r){var t=[].concat(u);l.trigger(n,"beforeRemove",{object:u});for(var o=0;o<t.length;o++){var s=t[o];switch(s.type){case"body":e.removeBody(n,s,r);break;case"constraint":e.removeConstraint(n,s,r);break;case"composite":e.removeComposite(n,s,r);break;case"mouseConstraint":e.removeConstraint(n,s.constraint);break}}return l.trigger(n,"afterRemove",{object:u}),n},e.addComposite=function(n,u){return n.composites.push(u),u.parent=n,e.setModified(n,!0,!0,!1),n},e.removeComposite=function(n,u,r){var t=a.indexOf(n.composites,u);if(t!==-1){var o=e.allBodies(u);e.removeCompositeAt(n,t);for(var s=0;s<o.length;s++)o[s].sleepCounter=0}if(r)for(var s=0;s<n.composites.length;s++)e.removeComposite(n.composites[s],u,!0);return n},e.removeCompositeAt=function(n,u){return n.composites.splice(u,1),e.setModified(n,!0,!0,!1),n},e.addBody=function(n,u){return n.bodies.push(u),e.setModified(n,!0,!0,!1),n},e.removeBody=function(n,u,r){var t=a.indexOf(n.bodies,u);if(t!==-1&&(e.removeBodyAt(n,t),u.sleepCounter=0),r)for(var o=0;o<n.composites.length;o++)e.removeBody(n.composites[o],u,!0);return n},e.removeBodyAt=function(n,u){return n.bodies.splice(u,1),e.setModified(n,!0,!0,!1),n},e.addConstraint=function(n,u){return n.constraints.push(u),e.setModified(n,!0,!0,!1),n},e.removeConstraint=function(n,u,r){var t=a.indexOf(n.constraints,u);if(t!==-1&&e.removeConstraintAt(n,t),r)for(var o=0;o<n.composites.length;o++)e.removeConstraint(n.composites[o],u,!0);return n},e.removeConstraintAt=function(n,u){return n.constraints.splice(u,1),e.setModified(n,!0,!0,!1),n},e.clear=function(n,u,r){if(r)for(var t=0;t<n.composites.length;t++)e.clear(n.composites[t],u,!0);return u?n.bodies=n.bodies.filter(function(o){return o.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,e.setModified(n,!0,!0,!1),n},e.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var u=[].concat(n.bodies),r=0;r<n.composites.length;r++)u=u.concat(e.allBodies(n.composites[r]));return n.cache&&(n.cache.allBodies=u),u},e.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var u=[].concat(n.constraints),r=0;r<n.composites.length;r++)u=u.concat(e.allConstraints(n.composites[r]));return n.cache&&(n.cache.allConstraints=u),u},e.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var u=[].concat(n.composites),r=0;r<n.composites.length;r++)u=u.concat(e.allComposites(n.composites[r]));return n.cache&&(n.cache.allComposites=u),u},e.get=function(n,u,r){var t,o;switch(r){case"body":t=e.allBodies(n);break;case"constraint":t=e.allConstraints(n);break;case"composite":t=e.allComposites(n).concat(n);break}return t?(o=t.filter(function(s){return s.id.toString()===u.toString()}),o.length===0?null:o[0]):null},e.move=function(n,u,r){return e.remove(n,u),e.add(r,u),n},e.rebase=function(n){for(var u=e.allBodies(n).concat(e.allConstraints(n)).concat(e.allComposites(n)),r=0;r<u.length;r++)u[r].id=a.nextId();return n},e.translate=function(n,u,r){for(var t=r?e.allBodies(n):n.bodies,o=0;o<t.length;o++)c.translate(t[o],u);return n},e.rotate=function(n,u,r,t){for(var o=Math.cos(u),s=Math.sin(u),h=t?e.allBodies(n):n.bodies,x=0;x<h.length;x++){var P=h[x],E=P.position.x-r.x,A=P.position.y-r.y;c.setPosition(P,{x:r.x+(E*o-A*s),y:r.y+(E*s+A*o)}),c.rotate(P,u)}return n},e.scale=function(n,u,r,t,o){for(var s=o?e.allBodies(n):n.bodies,h=0;h<s.length;h++){var x=s[h],P=x.position.x-t.x,E=x.position.y-t.y;c.setPosition(x,{x:t.x+P*u,y:t.y+E*r}),c.scale(x,u,r)}return n},e.bounds=function(n){for(var u=e.allBodies(n),r=[],t=0;t<u.length;t+=1){var o=u[t];r.push(o.bounds.min,o.bounds.max)}return i.create(r)}})()},function(p,M,v){var e={};p.exports=e;var l=v(4),a=v(5),i=v(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(c,n){for(var u=n/i._baseDelta,r=e._motionSleepThreshold,t=0;t<c.length;t++){var o=c[t],s=l.getSpeed(o),h=l.getAngularSpeed(o),x=s*s+h*h;if(o.force.x!==0||o.force.y!==0){e.set(o,!1);continue}var P=Math.min(o.motion,x),E=Math.max(o.motion,x);o.motion=e._minBias*P+(1-e._minBias)*E,o.sleepThreshold>0&&o.motion<r?(o.sleepCounter+=1,o.sleepCounter>=o.sleepThreshold/u&&e.set(o,!0)):o.sleepCounter>0&&(o.sleepCounter-=1)}},e.afterCollisions=function(c){for(var n=e._motionSleepThreshold,u=0;u<c.length;u++){var r=c[u];if(r.isActive){var t=r.collision,o=t.bodyA.parent,s=t.bodyB.parent;if(!(o.isSleeping&&s.isSleeping||o.isStatic||s.isStatic)&&(o.isSleeping||s.isSleeping)){var h=o.isSleeping&&!o.isStatic?o:s,x=h===o?s:o;!h.isStatic&&x.motion>n&&e.set(h,!1)}}}},e.set=function(c,n){var u=c.isSleeping;n?(c.isSleeping=!0,c.sleepCounter=c.sleepThreshold,c.positionImpulse.x=0,c.positionImpulse.y=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.speed=0,c.angularSpeed=0,c.motion=0,u||a.trigger(c,"sleepStart")):(c.isSleeping=!1,c.sleepCounter=0,u&&a.trigger(c,"sleepEnd"))}})()},function(p,M,v){var e={};p.exports=e;var l=v(3),a=v(9);(function(){var i=[],c={overlap:0,axis:null},n={overlap:0,axis:null};e.create=function(u,r){return{pair:null,collided:!1,bodyA:u,bodyB:r,parentA:u.parent,parentB:r.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(u,r,t){if(e._overlapAxes(c,u.vertices,r.vertices,u.axes),c.overlap<=0||(e._overlapAxes(n,r.vertices,u.vertices,r.axes),n.overlap<=0))return null;var o=t&&t.table[a.id(u,r)],s;o?s=o.collision:(s=e.create(u,r),s.collided=!0,s.bodyA=u.id<r.id?u:r,s.bodyB=u.id<r.id?r:u,s.parentA=s.bodyA.parent,s.parentB=s.bodyB.parent),u=s.bodyA,r=s.bodyB;var h;c.overlap<n.overlap?h=c:h=n;var x=s.normal,P=s.tangent,E=s.penetration,A=s.supports,d=h.overlap,y=h.axis,w=y.x,m=y.y,C=r.position.x-u.position.x,S=r.position.y-u.position.y;w*C+m*S>=0&&(w=-w,m=-m),x.x=w,x.y=m,P.x=-m,P.y=w,E.x=w*d,E.y=m*d,s.depth=d;var I=e._findSupports(u,r,x,1),T=0;if(l.contains(u.vertices,I[0])&&(A[T++]=I[0]),l.contains(u.vertices,I[1])&&(A[T++]=I[1]),T<2){var B=e._findSupports(r,u,x,-1);l.contains(r.vertices,B[0])&&(A[T++]=B[0]),T<2&&l.contains(r.vertices,B[1])&&(A[T++]=B[1])}return T===0&&(A[T++]=I[0]),s.supportCount=T,s},e._overlapAxes=function(u,r,t,o){var s=r.length,h=t.length,x=r[0].x,P=r[0].y,E=t[0].x,A=t[0].y,d=o.length,y=Number.MAX_VALUE,w=0,m,C,S,I,T,B;for(T=0;T<d;T++){var D=o[T],R=D.x,F=D.y,k=x*R+P*F,L=E*R+A*F,V=k,N=L;for(B=1;B<s;B+=1)I=r[B].x*R+r[B].y*F,I>V?V=I:I<k&&(k=I);for(B=1;B<h;B+=1)I=t[B].x*R+t[B].y*F,I>N?N=I:I<L&&(L=I);if(C=V-L,S=N-k,m=C<S?C:S,m<y&&(y=m,w=T,m<=0))break}u.axis=o[w],u.overlap=y},e._findSupports=function(u,r,t,o){var s=r.vertices,h=s.length,x=u.position.x,P=u.position.y,E=t.x*o,A=t.y*o,d=s[0],y=d,w=E*(x-y.x)+A*(P-y.y),m,C,S;for(S=1;S<h;S+=1)y=s[S],C=E*(x-y.x)+A*(P-y.y),C<w&&(w=C,d=y);return m=s[(h+d.index-1)%h],w=E*(x-m.x)+A*(P-m.y),y=s[(d.index+1)%h],E*(x-y.x)+A*(P-y.y)<w?(i[0]=d,i[1]=y,i):(i[0]=d,i[1]=m,i)}})()},function(p,M,v){var e={};p.exports=e;var l=v(16);(function(){e.create=function(a,i){var c=a.bodyA,n=a.bodyB,u={id:e.id(c,n),bodyA:c,bodyB:n,collision:a,contacts:[l.create(),l.create()],contactCount:0,separation:0,isActive:!0,isSensor:c.isSensor||n.isSensor,timeCreated:i,timeUpdated:i,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(u,a,i),u},e.update=function(a,i,c){var n=i.supports,u=i.supportCount,r=a.contacts,t=i.parentA,o=i.parentB;a.isActive=!0,a.timeUpdated=c,a.collision=i,a.separation=i.depth,a.inverseMass=t.inverseMass+o.inverseMass,a.friction=t.friction<o.friction?t.friction:o.friction,a.frictionStatic=t.frictionStatic>o.frictionStatic?t.frictionStatic:o.frictionStatic,a.restitution=t.restitution>o.restitution?t.restitution:o.restitution,a.slop=t.slop>o.slop?t.slop:o.slop,a.contactCount=u,i.pair=a;var s=n[0],h=r[0],x=n[1],P=r[1];(P.vertex===s||h.vertex===x)&&(r[1]=h,r[0]=h=P,P=r[1]),h.vertex=s,P.vertex=x},e.setActive=function(a,i,c){i?(a.isActive=!0,a.timeUpdated=c):(a.isActive=!1,a.contactCount=0)},e.id=function(a,i){return a.id<i.id?a.id.toString(36)+":"+i.id.toString(36):i.id.toString(36)+":"+a.id.toString(36)}})()},function(p,M,v){var e={};p.exports=e;var l=v(3),a=v(2),i=v(7),c=v(1),n=v(11),u=v(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(r){var t=r;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var o=t.bodyA?a.add(t.bodyA.position,t.pointA):t.pointA,s=t.bodyB?a.add(t.bodyB.position,t.pointB):t.pointB,h=a.magnitude(a.sub(o,s));t.length=typeof t.length<"u"?t.length:h,t.id=t.id||u.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var x={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(x.type="pin",x.anchors=!1):t.stiffness<.9&&(x.type="spring"),t.render=u.extend(x,t.render),t},e.preSolveAll=function(r){for(var t=0;t<r.length;t+=1){var o=r[t],s=o.constraintImpulse;o.isStatic||s.x===0&&s.y===0&&s.angle===0||(o.position.x+=s.x,o.position.y+=s.y,o.angle+=s.angle)}},e.solveAll=function(r,t){for(var o=u.clamp(t/u._baseDelta,0,1),s=0;s<r.length;s+=1){var h=r[s],x=!h.bodyA||h.bodyA&&h.bodyA.isStatic,P=!h.bodyB||h.bodyB&&h.bodyB.isStatic;(x||P)&&e.solve(r[s],o)}for(s=0;s<r.length;s+=1)h=r[s],x=!h.bodyA||h.bodyA&&h.bodyA.isStatic,P=!h.bodyB||h.bodyB&&h.bodyB.isStatic,!x&&!P&&e.solve(r[s],o)},e.solve=function(r,t){var o=r.bodyA,s=r.bodyB,h=r.pointA,x=r.pointB;if(!(!o&&!s)){o&&!o.isStatic&&(a.rotate(h,o.angle-r.angleA,h),r.angleA=o.angle),s&&!s.isStatic&&(a.rotate(x,s.angle-r.angleB,x),r.angleB=s.angle);var P=h,E=x;if(o&&(P=a.add(o.position,h)),s&&(E=a.add(s.position,x)),!(!P||!E)){var A=a.sub(P,E),d=a.magnitude(A);d<e._minLength&&(d=e._minLength);var y=(d-r.length)/d,w=r.stiffness>=1||r.length===0,m=w?r.stiffness*t:r.stiffness*t*t,C=r.damping*t,S=a.mult(A,y*m),I=(o?o.inverseMass:0)+(s?s.inverseMass:0),T=(o?o.inverseInertia:0)+(s?s.inverseInertia:0),B=I+T,D,R,F,k,L;if(C>0){var V=a.create();F=a.div(A,d),L=a.sub(s&&a.sub(s.position,s.positionPrev)||V,o&&a.sub(o.position,o.positionPrev)||V),k=a.dot(F,L)}o&&!o.isStatic&&(R=o.inverseMass/I,o.constraintImpulse.x-=S.x*R,o.constraintImpulse.y-=S.y*R,o.position.x-=S.x*R,o.position.y-=S.y*R,C>0&&(o.positionPrev.x-=C*F.x*k*R,o.positionPrev.y-=C*F.y*k*R),D=a.cross(h,S)/B*e._torqueDampen*o.inverseInertia*(1-r.angularStiffness),o.constraintImpulse.angle-=D,o.angle-=D),s&&!s.isStatic&&(R=s.inverseMass/I,s.constraintImpulse.x+=S.x*R,s.constraintImpulse.y+=S.y*R,s.position.x+=S.x*R,s.position.y+=S.y*R,C>0&&(s.positionPrev.x+=C*F.x*k*R,s.positionPrev.y+=C*F.y*k*R),D=a.cross(x,S)/B*e._torqueDampen*s.inverseInertia*(1-r.angularStiffness),s.constraintImpulse.angle+=D,s.angle+=D)}}},e.postSolveAll=function(r){for(var t=0;t<r.length;t++){var o=r[t],s=o.constraintImpulse;if(!(o.isStatic||s.x===0&&s.y===0&&s.angle===0)){i.set(o,!1);for(var h=0;h<o.parts.length;h++){var x=o.parts[h];l.translate(x.vertices,s),h>0&&(x.position.x+=s.x,x.position.y+=s.y),s.angle!==0&&(l.rotate(x.vertices,s.angle,o.position),n.rotate(x.axes,s.angle),h>0&&a.rotateAbout(x.position,s.angle,o.position,x.position)),c.update(x.bounds,x.vertices,o.velocity)}s.angle*=e._warming,s.x*=e._warming,s.y*=e._warming}}},e.pointAWorld=function(r){return{x:(r.bodyA?r.bodyA.position.x:0)+(r.pointA?r.pointA.x:0),y:(r.bodyA?r.bodyA.position.y:0)+(r.pointA?r.pointA.y:0)}},e.pointBWorld=function(r){return{x:(r.bodyB?r.bodyB.position.x:0)+(r.pointB?r.pointB.x:0),y:(r.bodyB?r.bodyB.position.y:0)+(r.pointB?r.pointB.y:0)}},e.currentLength=function(r){var t=(r.bodyA?r.bodyA.position.x:0)+(r.pointA?r.pointA.x:0),o=(r.bodyA?r.bodyA.position.y:0)+(r.pointA?r.pointA.y:0),s=(r.bodyB?r.bodyB.position.x:0)+(r.pointB?r.pointB.x:0),h=(r.bodyB?r.bodyB.position.y:0)+(r.pointB?r.pointB.y:0),x=t-s,P=o-h;return Math.sqrt(x*x+P*P)}})()},function(p,M,v){var e={};p.exports=e;var l=v(2),a=v(0);(function(){e.fromVertices=function(i){for(var c={},n=0;n<i.length;n++){var u=(n+1)%i.length,r=l.normalise({x:i[u].y-i[n].y,y:i[n].x-i[u].x}),t=r.y===0?1/0:r.x/r.y;t=t.toFixed(3).toString(),c[t]=r}return a.values(c)},e.rotate=function(i,c){if(c!==0)for(var n=Math.cos(c),u=Math.sin(c),r=0;r<i.length;r++){var t=i[r],o;o=t.x*n-t.y*u,t.y=t.x*u+t.y*n,t.x=o}}})()},function(p,M,v){var e={};p.exports=e;var l=v(3),a=v(0),i=v(4),c=v(1),n=v(2);(function(){e.rectangle=function(u,r,t,o,s){s=s||{};var h={label:"Rectangle Body",position:{x:u,y:r},vertices:l.fromPath("L 0 0 L "+t+" 0 L "+t+" "+o+" L 0 "+o)};if(s.chamfer){var x=s.chamfer;h.vertices=l.chamfer(h.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete s.chamfer}return i.create(a.extend({},h,s))},e.trapezoid=function(u,r,t,o,s,h){h=h||{},s>=1&&a.warn("Bodies.trapezoid: slope parameter must be < 1."),s*=.5;var x=(1-s*2)*t,P=t*s,E=P+x,A=E+P,d;s<.5?d="L 0 0 L "+P+" "+-o+" L "+E+" "+-o+" L "+A+" 0":d="L 0 0 L "+E+" "+-o+" L "+A+" 0";var y={label:"Trapezoid Body",position:{x:u,y:r},vertices:l.fromPath(d)};if(h.chamfer){var w=h.chamfer;y.vertices=l.chamfer(y.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete h.chamfer}return i.create(a.extend({},y,h))},e.circle=function(u,r,t,o,s){o=o||{};var h={label:"Circle Body",circleRadius:t};s=s||25;var x=Math.ceil(Math.max(10,Math.min(s,t)));return x%2===1&&(x+=1),e.polygon(u,r,x,t,a.extend({},h,o))},e.polygon=function(u,r,t,o,s){if(s=s||{},t<3)return e.circle(u,r,o,s);for(var h=2*Math.PI/t,x="",P=h*.5,E=0;E<t;E+=1){var A=P+E*h,d=Math.cos(A)*o,y=Math.sin(A)*o;x+="L "+d.toFixed(3)+" "+y.toFixed(3)+" "}var w={label:"Polygon Body",position:{x:u,y:r},vertices:l.fromPath(x)};if(s.chamfer){var m=s.chamfer;w.vertices=l.chamfer(w.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete s.chamfer}return i.create(a.extend({},w,s))},e.fromVertices=function(u,r,t,o,s,h,x,P){var E=a.getDecomp(),A,d,y,w,m,C,S,I,T,B,D;for(A=!!(E&&E.quickDecomp),o=o||{},y=[],s=typeof s<"u"?s:!1,h=typeof h<"u"?h:.01,x=typeof x<"u"?x:10,P=typeof P<"u"?P:.01,a.isArray(t[0])||(t=[t]),B=0;B<t.length;B+=1)if(C=t[B],w=l.isConvex(C),m=!w,m&&!A&&a.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),w||!A)w?C=l.clockwiseSort(C):C=l.hull(C),y.push({position:{x:u,y:r},vertices:C});else{var R=C.map(function(b){return[b.x,b.y]});E.makeCCW(R),h!==!1&&E.removeCollinearPoints(R,h),P!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(R,P);var F=E.quickDecomp(R);for(S=0;S<F.length;S++){var k=F[S],L=k.map(function(b){return{x:b[0],y:b[1]}});x>0&&l.area(L)<x||y.push({position:l.centre(L),vertices:L})}}for(S=0;S<y.length;S++)y[S]=i.create(a.extend(y[S],o));if(s){var V=5;for(S=0;S<y.length;S++){var N=y[S];for(I=S+1;I<y.length;I++){var _=y[I];if(c.overlaps(N.bounds,_.bounds)){var z=N.vertices,Z=_.vertices;for(T=0;T<N.vertices.length;T++)for(D=0;D<_.vertices.length;D++){var de=n.magnitudeSquared(n.sub(z[(T+1)%z.length],Z[D])),ie=n.magnitudeSquared(n.sub(z[T],Z[(D+1)%Z.length]));de<V&&ie<V&&(z[T].isInternal=!0,Z[D].isInternal=!0)}}}}}return y.length>1?(d=i.create(a.extend({parts:y.slice(0)},o)),i.setPosition(d,{x:u,y:r}),d):y[0]}})()},function(p,M,v){var e={};p.exports=e;var l=v(0),a=v(8);(function(){e.create=function(i){var c={bodies:[],collisions:[],pairs:null};return l.extend(c,i)},e.setBodies=function(i,c){i.bodies=c.slice(0)},e.clear=function(i){i.bodies=[],i.collisions=[]},e.collisions=function(i){var c=i.pairs,n=i.bodies,u=n.length,r=e.canCollide,t=a.collides,o=i.collisions,s=0,h,x;for(n.sort(e._compareBoundsX),h=0;h<u;h++){var P=n[h],E=P.bounds,A=P.bounds.max.x,d=P.bounds.max.y,y=P.bounds.min.y,w=P.isStatic||P.isSleeping,m=P.parts.length,C=m===1;for(x=h+1;x<u;x++){var S=n[x],I=S.bounds;if(I.min.x>A)break;if(!(d<I.min.y||y>I.max.y)&&!(w&&(S.isStatic||S.isSleeping))&&r(P.collisionFilter,S.collisionFilter)){var T=S.parts.length;if(C&&T===1){var B=t(P,S,c);B&&(o[s++]=B)}else for(var D=m>1?1:0,R=T>1?1:0,F=D;F<m;F++)for(var k=P.parts[F],E=k.bounds,L=R;L<T;L++){var V=S.parts[L],I=V.bounds;if(!(E.min.x>I.max.x||E.max.x<I.min.x||E.max.y<I.min.y||E.min.y>I.max.y)){var B=t(k,V,c);B&&(o[s++]=B)}}}}}return o.length!==s&&(o.length=s),o},e.canCollide=function(i,c){return i.group===c.group&&i.group!==0?i.group>0:(i.mask&c.category)!==0&&(c.mask&i.category)!==0},e._compareBoundsX=function(i,c){return i.bounds.min.x-c.bounds.min.x}})()},function(p,M,v){var e={};p.exports=e;var l=v(0);(function(){e.create=function(a){var i={};return a||l.log("Mouse.create: element was undefined, defaulting to document.body","warn"),i.element=a||document.body,i.absolute={x:0,y:0},i.position={x:0,y:0},i.mousedownPosition={x:0,y:0},i.mouseupPosition={x:0,y:0},i.offset={x:0,y:0},i.scale={x:1,y:1},i.wheelDelta=0,i.button=-1,i.pixelRatio=parseInt(i.element.getAttribute("data-pixel-ratio"),10)||1,i.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},i.mousemove=function(c){var n=e._getRelativeMousePosition(c,i.element,i.pixelRatio),u=c.changedTouches;u&&(i.button=0,c.preventDefault()),i.absolute.x=n.x,i.absolute.y=n.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.sourceEvents.mousemove=c},i.mousedown=function(c){var n=e._getRelativeMousePosition(c,i.element,i.pixelRatio),u=c.changedTouches;u?(i.button=0,c.preventDefault()):i.button=c.button,i.absolute.x=n.x,i.absolute.y=n.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.mousedownPosition.x=i.position.x,i.mousedownPosition.y=i.position.y,i.sourceEvents.mousedown=c},i.mouseup=function(c){var n=e._getRelativeMousePosition(c,i.element,i.pixelRatio),u=c.changedTouches;u&&c.preventDefault(),i.button=-1,i.absolute.x=n.x,i.absolute.y=n.y,i.position.x=i.absolute.x*i.scale.x+i.offset.x,i.position.y=i.absolute.y*i.scale.y+i.offset.y,i.mouseupPosition.x=i.position.x,i.mouseupPosition.y=i.position.y,i.sourceEvents.mouseup=c},i.mousewheel=function(c){i.wheelDelta=Math.max(-1,Math.min(1,c.wheelDelta||-c.detail)),c.preventDefault(),i.sourceEvents.mousewheel=c},e.setElement(i,i.element),i},e.setElement=function(a,i){a.element=i,i.addEventListener("mousemove",a.mousemove,{passive:!0}),i.addEventListener("mousedown",a.mousedown,{passive:!0}),i.addEventListener("mouseup",a.mouseup,{passive:!0}),i.addEventListener("wheel",a.mousewheel,{passive:!1}),i.addEventListener("touchmove",a.mousemove,{passive:!1}),i.addEventListener("touchstart",a.mousedown,{passive:!1}),i.addEventListener("touchend",a.mouseup,{passive:!1})},e.clearSourceEvents=function(a){a.sourceEvents.mousemove=null,a.sourceEvents.mousedown=null,a.sourceEvents.mouseup=null,a.sourceEvents.mousewheel=null,a.wheelDelta=0},e.setOffset=function(a,i){a.offset.x=i.x,a.offset.y=i.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},e.setScale=function(a,i){a.scale.x=i.x,a.scale.y=i.y,a.position.x=a.absolute.x*a.scale.x+a.offset.x,a.position.y=a.absolute.y*a.scale.y+a.offset.y},e._getRelativeMousePosition=function(a,i,c){var n=i.getBoundingClientRect(),u=document.documentElement||document.body.parentNode||document.body,r=window.pageXOffset!==void 0?window.pageXOffset:u.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:u.scrollTop,o=a.changedTouches,s,h;return o?(s=o[0].pageX-n.left-r,h=o[0].pageY-n.top-t):(s=a.pageX-n.left-r,h=a.pageY-n.top-t),{x:s/(i.clientWidth/(i.width||i.clientWidth)*c),y:h/(i.clientHeight/(i.height||i.clientHeight)*c)}}})()},function(p,M,v){var e={};p.exports=e;var l=v(0);(function(){e._registry={},e.register=function(a){if(e.isPlugin(a)||l.warn("Plugin.register:",e.toString(a),"does not implement all required fields."),a.name in e._registry){var i=e._registry[a.name],c=e.versionParse(a.version).number,n=e.versionParse(i.version).number;c>n?(l.warn("Plugin.register:",e.toString(i),"was upgraded to",e.toString(a)),e._registry[a.name]=a):c<n?l.warn("Plugin.register:",e.toString(i),"can not be downgraded to",e.toString(a)):a!==i&&l.warn("Plugin.register:",e.toString(a),"is already registered to different plugin object")}else e._registry[a.name]=a;return a},e.resolve=function(a){return e._registry[e.dependencyParse(a).name]},e.toString=function(a){return typeof a=="string"?a:(a.name||"anonymous")+"@"+(a.version||a.range||"0.0.0")},e.isPlugin=function(a){return a&&a.name&&a.version&&a.install},e.isUsed=function(a,i){return a.used.indexOf(i)>-1},e.isFor=function(a,i){var c=a.for&&e.dependencyParse(a.for);return!a.for||i.name===c.name&&e.versionSatisfies(i.version,c.range)},e.use=function(a,i){if(a.uses=(a.uses||[]).concat(i||[]),a.uses.length===0){l.warn("Plugin.use:",e.toString(a),"does not specify any dependencies to install.");return}for(var c=e.dependencies(a),n=l.topologicalSort(c),u=[],r=0;r<n.length;r+=1)if(n[r]!==a.name){var t=e.resolve(n[r]);if(!t){u.push("❌ "+n[r]);continue}e.isUsed(a,t.name)||(e.isFor(t,a)||(l.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(a)+"."),t._warned=!0),t.install?t.install(a):(l.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(u.push("🔶 "+e.toString(t)),delete t._warned):u.push("✅ "+e.toString(t)),a.used.push(t.name))}u.length>0&&l.info(u.join("  "))},e.dependencies=function(a,i){var c=e.dependencyParse(a),n=c.name;if(i=i||{},!(n in i)){a=e.resolve(a)||a,i[n]=l.map(a.uses||[],function(r){e.isPlugin(r)&&e.register(r);var t=e.dependencyParse(r),o=e.resolve(r);return o&&!e.versionSatisfies(o.version,t.range)?(l.warn("Plugin.dependencies:",e.toString(o),"does not satisfy",e.toString(t),"used by",e.toString(c)+"."),o._warned=!0,a._warned=!0):o||(l.warn("Plugin.dependencies:",e.toString(r),"used by",e.toString(c),"could not be resolved."),a._warned=!0),t.name});for(var u=0;u<i[n].length;u+=1)e.dependencies(i[n][u],i);return i}},e.dependencyParse=function(a){if(l.isString(a)){var i=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return i.test(a)||l.warn("Plugin.dependencyParse:",a,"is not a valid dependency string."),{name:a.split("@")[0],range:a.split("@")[1]||"*"}}return{name:a.name,range:a.range||a.version}},e.versionParse=function(a){var i=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;i.test(a)||l.warn("Plugin.versionParse:",a,"is not a valid version or range.");var c=i.exec(a),n=Number(c[4]),u=Number(c[5]),r=Number(c[6]);return{isRange:!!(c[1]||c[2]),version:c[3],range:a,operator:c[1]||c[2]||"",major:n,minor:u,patch:r,parts:[n,u,r],prerelease:c[7],number:n*1e8+u*1e4+r}},e.versionSatisfies=function(a,i){i=i||"*";var c=e.versionParse(i),n=e.versionParse(a);if(c.isRange){if(c.operator==="*"||a==="*")return!0;if(c.operator===">")return n.number>c.number;if(c.operator===">=")return n.number>=c.number;if(c.operator==="~")return n.major===c.major&&n.minor===c.minor&&n.patch>=c.patch;if(c.operator==="^")return c.major>0?n.major===c.major&&n.number>=c.number:c.minor>0?n.minor===c.minor&&n.patch>=c.patch:n.patch===c.patch}return a===i||a==="*"}})()},function(p,M){var v={};p.exports=v,function(){v.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(p,M,v){var e={};p.exports=e;var l=v(7),a=v(18),i=v(13),c=v(19),n=v(5),u=v(6),r=v(10),t=v(0),o=v(4);(function(){e._deltaMax=1e3/60,e.create=function(s){s=s||{};var h={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},x=t.extend(h,s);return x.world=s.world||u.create({label:"World"}),x.pairs=s.pairs||c.create(),x.detector=s.detector||i.create(),x.detector.pairs=x.pairs,x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},e.update=function(s,h){var x=t.now(),P=s.world,E=s.detector,A=s.pairs,d=s.timing,y=d.timestamp,w;h>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),h=typeof h<"u"?h:t._baseDelta,h*=d.timeScale,d.timestamp+=h,d.lastDelta=h;var m={timestamp:d.timestamp,delta:h};n.trigger(s,"beforeUpdate",m);var C=u.allBodies(P),S=u.allConstraints(P);for(P.isModified&&(i.setBodies(E,C),u.setModified(P,!1,!1,!0)),s.enableSleeping&&l.update(C,h),e._bodiesApplyGravity(C,s.gravity),h>0&&e._bodiesUpdate(C,h),n.trigger(s,"beforeSolve",m),r.preSolveAll(C),w=0;w<s.constraintIterations;w++)r.solveAll(S,h);r.postSolveAll(C);var I=i.collisions(E);c.update(A,I,y),s.enableSleeping&&l.afterCollisions(A.list),A.collisionStart.length>0&&n.trigger(s,"collisionStart",{pairs:A.collisionStart,timestamp:d.timestamp,delta:h});var T=t.clamp(20/s.positionIterations,0,1);for(a.preSolvePosition(A.list),w=0;w<s.positionIterations;w++)a.solvePosition(A.list,h,T);for(a.postSolvePosition(C),r.preSolveAll(C),w=0;w<s.constraintIterations;w++)r.solveAll(S,h);for(r.postSolveAll(C),a.preSolveVelocity(A.list),w=0;w<s.velocityIterations;w++)a.solveVelocity(A.list,h);return e._bodiesUpdateVelocities(C),A.collisionActive.length>0&&n.trigger(s,"collisionActive",{pairs:A.collisionActive,timestamp:d.timestamp,delta:h}),A.collisionEnd.length>0&&n.trigger(s,"collisionEnd",{pairs:A.collisionEnd,timestamp:d.timestamp,delta:h}),e._bodiesClearForces(C),n.trigger(s,"afterUpdate",m),s.timing.lastElapsed=t.now()-x,s},e.merge=function(s,h){if(t.extend(s,h),h.world){s.world=h.world,e.clear(s);for(var x=u.allBodies(s.world),P=0;P<x.length;P++){var E=x[P];l.set(E,!1),E.id=t.nextId()}}},e.clear=function(s){c.clear(s.pairs),i.clear(s.detector)},e._bodiesClearForces=function(s){for(var h=s.length,x=0;x<h;x++){var P=s[x];P.force.x=0,P.force.y=0,P.torque=0}},e._bodiesApplyGravity=function(s,h){var x=typeof h.scale<"u"?h.scale:.001,P=s.length;if(!(h.x===0&&h.y===0||x===0))for(var E=0;E<P;E++){var A=s[E];A.isStatic||A.isSleeping||(A.force.y+=A.mass*h.y*x,A.force.x+=A.mass*h.x*x)}},e._bodiesUpdate=function(s,h){for(var x=s.length,P=0;P<x;P++){var E=s[P];E.isStatic||E.isSleeping||o.update(E,h)}},e._bodiesUpdateVelocities=function(s){for(var h=s.length,x=0;x<h;x++)o.updateVelocities(s[x])}})()},function(p,M,v){var e={};p.exports=e;var l=v(3),a=v(0),i=v(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(c){var n,u,r,t=c.length;for(n=0;n<t;n++)u=c[n],u.isActive&&(r=u.contactCount,u.collision.parentA.totalContacts+=r,u.collision.parentB.totalContacts+=r)},e.solvePosition=function(c,n,u){var r,t,o,s,h,x,P,E,A=e._positionDampen*(u||1),d=a.clamp(n/a._baseDelta,0,1),y=c.length;for(r=0;r<y;r++)t=c[r],!(!t.isActive||t.isSensor)&&(o=t.collision,s=o.parentA,h=o.parentB,x=o.normal,t.separation=o.depth+x.x*(h.positionImpulse.x-s.positionImpulse.x)+x.y*(h.positionImpulse.y-s.positionImpulse.y));for(r=0;r<y;r++)t=c[r],!(!t.isActive||t.isSensor)&&(o=t.collision,s=o.parentA,h=o.parentB,x=o.normal,E=t.separation-t.slop*d,(s.isStatic||h.isStatic)&&(E*=2),s.isStatic||s.isSleeping||(P=A/s.totalContacts,s.positionImpulse.x+=x.x*E*P,s.positionImpulse.y+=x.y*E*P),h.isStatic||h.isSleeping||(P=A/h.totalContacts,h.positionImpulse.x-=x.x*E*P,h.positionImpulse.y-=x.y*E*P))},e.postSolvePosition=function(c){for(var n=e._positionWarming,u=c.length,r=l.translate,t=i.update,o=0;o<u;o++){var s=c[o],h=s.positionImpulse,x=h.x,P=h.y,E=s.velocity;if(s.totalContacts=0,x!==0||P!==0){for(var A=0;A<s.parts.length;A++){var d=s.parts[A];r(d.vertices,h),t(d.bounds,d.vertices,E),d.position.x+=x,d.position.y+=P}s.positionPrev.x+=x,s.positionPrev.y+=P,x*E.x+P*E.y<0?(h.x=0,h.y=0):(h.x*=n,h.y*=n)}}},e.preSolveVelocity=function(c){var n=c.length,u,r;for(u=0;u<n;u++){var t=c[u];if(!(!t.isActive||t.isSensor)){var o=t.contacts,s=t.contactCount,h=t.collision,x=h.parentA,P=h.parentB,E=h.normal,A=h.tangent;for(r=0;r<s;r++){var d=o[r],y=d.vertex,w=d.normalImpulse,m=d.tangentImpulse;if(w!==0||m!==0){var C=E.x*w+A.x*m,S=E.y*w+A.y*m;x.isStatic||x.isSleeping||(x.positionPrev.x+=C*x.inverseMass,x.positionPrev.y+=S*x.inverseMass,x.anglePrev+=x.inverseInertia*((y.x-x.position.x)*S-(y.y-x.position.y)*C)),P.isStatic||P.isSleeping||(P.positionPrev.x-=C*P.inverseMass,P.positionPrev.y-=S*P.inverseMass,P.anglePrev-=P.inverseInertia*((y.x-P.position.x)*S-(y.y-P.position.y)*C))}}}}},e.solveVelocity=function(c,n){var u=n/a._baseDelta,r=u*u,t=r*u,o=-e._restingThresh*u,s=e._restingThreshTangent,h=e._frictionNormalMultiplier*u,x=e._frictionMaxStatic,P=c.length,E,A,d,y;for(d=0;d<P;d++){var w=c[d];if(!(!w.isActive||w.isSensor)){var m=w.collision,C=m.parentA,S=m.parentB,I=m.normal.x,T=m.normal.y,B=m.tangent.x,D=m.tangent.y,R=w.inverseMass,F=w.friction*w.frictionStatic*h,k=w.contacts,L=w.contactCount,V=1/L,N=C.position.x-C.positionPrev.x,_=C.position.y-C.positionPrev.y,z=C.angle-C.anglePrev,Z=S.position.x-S.positionPrev.x,de=S.position.y-S.positionPrev.y,ie=S.angle-S.anglePrev;for(y=0;y<L;y++){var b=k[y],re=b.vertex,Q=re.x-C.position.x,Le=re.y-C.position.y,se=re.x-S.position.x,oe=re.y-S.position.y,Y=N-Le*z,En=_+Q*z,In=Z-oe*ie,Tn=de+se*ie,Bt=Y-In,Rt=En-Tn,nt=I*Bt+T*Rt,ue=B*Bt+D*Rt,Dt=w.separation+nt,it=Math.min(Dt,1);it=Dt<0?0:it;var kt=it*F;ue<-kt||ue>kt?(A=ue>0?ue:-ue,E=w.friction*(ue>0?1:-1)*t,E<-A?E=-A:E>A&&(E=A)):(E=ue,A=x);var Ft=Q*T-Le*I,Lt=se*T-oe*I,bt=V/(R+C.inverseInertia*Ft*Ft+S.inverseInertia*Lt*Lt),We=(1+w.restitution)*nt*bt;if(E*=bt,nt<o)b.normalImpulse=0;else{var An=b.normalImpulse;b.normalImpulse+=We,b.normalImpulse>0&&(b.normalImpulse=0),We=b.normalImpulse-An}if(ue<-s||ue>s)b.tangentImpulse=0;else{var Bn=b.tangentImpulse;b.tangentImpulse+=E,b.tangentImpulse<-A&&(b.tangentImpulse=-A),b.tangentImpulse>A&&(b.tangentImpulse=A),E=b.tangentImpulse-Bn}var _e=I*We+B*E,ze=T*We+D*E;C.isStatic||C.isSleeping||(C.positionPrev.x+=_e*C.inverseMass,C.positionPrev.y+=ze*C.inverseMass,C.anglePrev+=(Q*ze-Le*_e)*C.inverseInertia),S.isStatic||S.isSleeping||(S.positionPrev.x-=_e*S.inverseMass,S.positionPrev.y-=ze*S.inverseMass,S.anglePrev-=(se*ze-oe*_e)*S.inverseInertia)}}}}})()},function(p,M,v){var e={};p.exports=e;var l=v(9),a=v(0);(function(){e.create=function(i){return a.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},i)},e.update=function(i,c,n){var u=l.update,r=l.create,t=l.setActive,o=i.table,s=i.list,h=s.length,x=h,P=i.collisionStart,E=i.collisionEnd,A=i.collisionActive,d=c.length,y=0,w=0,m=0,C,S,I;for(I=0;I<d;I++)C=c[I],S=C.pair,S?(S.isActive&&(A[m++]=S),u(S,C,n)):(S=r(C,n),o[S.id]=S,P[y++]=S,s[x++]=S);for(x=0,h=s.length,I=0;I<h;I++)S=s[I],S.timeUpdated>=n?s[x++]=S:(t(S,!1,n),S.collision.bodyA.sleepCounter>0&&S.collision.bodyB.sleepCounter>0?s[x++]=S:(E[w++]=S,delete o[S.id]));s.length!==x&&(s.length=x),P.length!==y&&(P.length=y),E.length!==w&&(E.length=w),A.length!==m&&(A.length=m)},e.clear=function(i){return i.table={},i.list.length=0,i.collisionStart.length=0,i.collisionActive.length=0,i.collisionEnd.length=0,i}})()},function(p,M,v){var e=p.exports=v(21);e.Axes=v(11),e.Bodies=v(12),e.Body=v(4),e.Bounds=v(1),e.Collision=v(8),e.Common=v(0),e.Composite=v(6),e.Composites=v(22),e.Constraint=v(10),e.Contact=v(16),e.Detector=v(13),e.Engine=v(17),e.Events=v(5),e.Grid=v(23),e.Mouse=v(14),e.MouseConstraint=v(24),e.Pair=v(9),e.Pairs=v(19),e.Plugin=v(15),e.Query=v(25),e.Render=v(26),e.Resolver=v(18),e.Runner=v(27),e.SAT=v(28),e.Sleeping=v(7),e.Svg=v(29),e.Vector=v(2),e.Vertices=v(3),e.World=v(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(p,M,v){var e={};p.exports=e;var l=v(15),a=v(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){l.use(e,Array.prototype.slice.call(arguments))},e.before=function(i,c){return i=i.replace(/^Matter./,""),a.chainPathBefore(e,i,c)},e.after=function(i,c){return i=i.replace(/^Matter./,""),a.chainPathAfter(e,i,c)}})()},function(p,M,v){var e={};p.exports=e;var l=v(6),a=v(10),i=v(0),c=v(4),n=v(12),u=i.deprecated;(function(){e.stack=function(r,t,o,s,h,x,P){for(var E=l.create({label:"Stack"}),A=r,d=t,y,w=0,m=0;m<s;m++){for(var C=0,S=0;S<o;S++){var I=P(A,d,S,m,y,w);if(I){var T=I.bounds.max.y-I.bounds.min.y,B=I.bounds.max.x-I.bounds.min.x;T>C&&(C=T),c.translate(I,{x:B*.5,y:T*.5}),A=I.bounds.max.x+h,l.addBody(E,I),y=I,w+=1}else A+=h}d+=C+x,A=r}return E},e.chain=function(r,t,o,s,h,x){for(var P=r.bodies,E=1;E<P.length;E++){var A=P[E-1],d=P[E],y=A.bounds.max.y-A.bounds.min.y,w=A.bounds.max.x-A.bounds.min.x,m=d.bounds.max.y-d.bounds.min.y,C=d.bounds.max.x-d.bounds.min.x,S={bodyA:A,pointA:{x:w*t,y:y*o},bodyB:d,pointB:{x:C*s,y:m*h}},I=i.extend(S,x);l.addConstraint(r,a.create(I))}return r.label+=" Chain",r},e.mesh=function(r,t,o,s,h){var x=r.bodies,P,E,A,d,y;for(P=0;P<o;P++){for(E=1;E<t;E++)A=x[E-1+P*t],d=x[E+P*t],l.addConstraint(r,a.create(i.extend({bodyA:A,bodyB:d},h)));if(P>0)for(E=0;E<t;E++)A=x[E+(P-1)*t],d=x[E+P*t],l.addConstraint(r,a.create(i.extend({bodyA:A,bodyB:d},h))),s&&E>0&&(y=x[E-1+(P-1)*t],l.addConstraint(r,a.create(i.extend({bodyA:y,bodyB:d},h)))),s&&E<t-1&&(y=x[E+1+(P-1)*t],l.addConstraint(r,a.create(i.extend({bodyA:y,bodyB:d},h))))}return r.label+=" Mesh",r},e.pyramid=function(r,t,o,s,h,x,P){return e.stack(r,t,o,s,h,x,function(E,A,d,y,w,m){var C=Math.min(s,Math.ceil(o/2)),S=w?w.bounds.max.x-w.bounds.min.x:0;if(!(y>C)){y=C-y;var I=y,T=o-1-y;if(!(d<I||d>T)){m===1&&c.translate(w,{x:(d+(o%2===1?1:-1))*S,y:0});var B=w?d*S:0;return P(r+B+d*h,A,d,y,w,m)}}})},e.newtonsCradle=function(r,t,o,s,h){for(var x=l.create({label:"Newtons Cradle"}),P=0;P<o;P++){var E=1.9,A=n.circle(r+P*(s*E),t+h,s,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=a.create({pointA:{x:r+P*(s*E),y:t},bodyB:A});l.addBody(x,A),l.addConstraint(x,d)}return x},u(e,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),e.car=function(r,t,o,s,h){var x=c.nextGroup(!0),P=20,E=-o*.5+P,A=o*.5-P,d=0,y=l.create({label:"Car"}),w=n.rectangle(r,t,o,s,{collisionFilter:{group:x},chamfer:{radius:s*.5},density:2e-4}),m=n.circle(r+E,t+d,h,{collisionFilter:{group:x},friction:.8}),C=n.circle(r+A,t+d,h,{collisionFilter:{group:x},friction:.8}),S=a.create({bodyB:w,pointB:{x:E,y:d},bodyA:m,stiffness:1,length:0}),I=a.create({bodyB:w,pointB:{x:A,y:d},bodyA:C,stiffness:1,length:0});return l.addBody(y,w),l.addBody(y,m),l.addBody(y,C),l.addConstraint(y,S),l.addConstraint(y,I),y},u(e,"car","Composites.car ➤ moved to car example"),e.softBody=function(r,t,o,s,h,x,P,E,A,d){A=i.extend({inertia:1/0},A),d=i.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var y=e.stack(r,t,o,s,h,x,function(w,m){return n.circle(w,m,E,A)});return e.mesh(y,o,s,P,d),y.label="Soft Body",y},u(e,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(p,M,v){var e={};p.exports=e;var l=v(9),a=v(0),i=a.deprecated;(function(){e.create=function(c){var n={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(n,c)},e.update=function(c,n,u,r){var t,o,s,h=u.world,x=c.buckets,P,E,A=!1;for(t=0;t<n.length;t++){var d=n[t];if(!(d.isSleeping&&!r)&&!(h.bounds&&(d.bounds.max.x<h.bounds.min.x||d.bounds.min.x>h.bounds.max.x||d.bounds.max.y<h.bounds.min.y||d.bounds.min.y>h.bounds.max.y))){var y=e._getRegion(c,d);if(!d.region||y.id!==d.region.id||r){(!d.region||r)&&(d.region=y);var w=e._regionUnion(y,d.region);for(o=w.startCol;o<=w.endCol;o++)for(s=w.startRow;s<=w.endRow;s++){E=e._getBucketId(o,s),P=x[E];var m=o>=y.startCol&&o<=y.endCol&&s>=y.startRow&&s<=y.endRow,C=o>=d.region.startCol&&o<=d.region.endCol&&s>=d.region.startRow&&s<=d.region.endRow;!m&&C&&C&&P&&e._bucketRemoveBody(c,P,d),(d.region===y||m&&!C||r)&&(P||(P=e._createBucket(x,E)),e._bucketAddBody(c,P,d))}d.region=y,A=!0}}}A&&(c.pairsList=e._createActivePairsList(c))},i(e,"update","Grid.update ➤ replaced by Matter.Detector"),e.clear=function(c){c.buckets={},c.pairs={},c.pairsList=[]},i(e,"clear","Grid.clear ➤ replaced by Matter.Detector"),e._regionUnion=function(c,n){var u=Math.min(c.startCol,n.startCol),r=Math.max(c.endCol,n.endCol),t=Math.min(c.startRow,n.startRow),o=Math.max(c.endRow,n.endRow);return e._createRegion(u,r,t,o)},e._getRegion=function(c,n){var u=n.bounds,r=Math.floor(u.min.x/c.bucketWidth),t=Math.floor(u.max.x/c.bucketWidth),o=Math.floor(u.min.y/c.bucketHeight),s=Math.floor(u.max.y/c.bucketHeight);return e._createRegion(r,t,o,s)},e._createRegion=function(c,n,u,r){return{id:c+","+n+","+u+","+r,startCol:c,endCol:n,startRow:u,endRow:r}},e._getBucketId=function(c,n){return"C"+c+"R"+n},e._createBucket=function(c,n){var u=c[n]=[];return u},e._bucketAddBody=function(c,n,u){var r=c.pairs,t=l.id,o=n.length,s;for(s=0;s<o;s++){var h=n[s];if(!(u.id===h.id||u.isStatic&&h.isStatic)){var x=t(u,h),P=r[x];P?P[2]+=1:r[x]=[u,h,1]}}n.push(u)},e._bucketRemoveBody=function(c,n,u){var r=c.pairs,t=l.id,o;n.splice(a.indexOf(n,u),1);var s=n.length;for(o=0;o<s;o++){var h=r[t(u,n[o])];h&&(h[2]-=1)}},e._createActivePairsList=function(c){var n,u=c.pairs,r=a.keys(u),t=r.length,o=[],s;for(s=0;s<t;s++)n=u[r[s]],n[2]>0?o.push(n):delete u[r[s]];return o}})()},function(p,M,v){var e={};p.exports=e;var l=v(3),a=v(7),i=v(14),c=v(5),n=v(13),u=v(10),r=v(6),t=v(0),o=v(1);(function(){e.create=function(s,h){var x=(s?s.mouse:null)||(h?h.mouse:null);x||(s&&s.render&&s.render.canvas?x=i.create(s.render.canvas):h&&h.element?x=i.create(h.element):(x=i.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var P=u.create({label:"Mouse Constraint",pointA:x.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),E={type:"mouseConstraint",mouse:x,element:null,body:null,constraint:P,collisionFilter:{category:1,mask:4294967295,group:0}},A=t.extend(E,h);return c.on(s,"beforeUpdate",function(){var d=r.allBodies(s.world);e.update(A,d),e._triggerEvents(A)}),A},e.update=function(s,h){var x=s.mouse,P=s.constraint,E=s.body;if(x.button===0){if(P.bodyB)a.set(P.bodyB,!1),P.pointA=x.position;else for(var A=0;A<h.length;A++)if(E=h[A],o.contains(E.bounds,x.position)&&n.canCollide(E.collisionFilter,s.collisionFilter))for(var d=E.parts.length>1?1:0;d<E.parts.length;d++){var y=E.parts[d];if(l.contains(y.vertices,x.position)){P.pointA=x.position,P.bodyB=s.body=E,P.pointB={x:x.position.x-E.position.x,y:x.position.y-E.position.y},P.angleB=E.angle,a.set(E,!1),c.trigger(s,"startdrag",{mouse:x,body:E});break}}}else P.bodyB=s.body=null,P.pointB=null,E&&c.trigger(s,"enddrag",{mouse:x,body:E})},e._triggerEvents=function(s){var h=s.mouse,x=h.sourceEvents;x.mousemove&&c.trigger(s,"mousemove",{mouse:h}),x.mousedown&&c.trigger(s,"mousedown",{mouse:h}),x.mouseup&&c.trigger(s,"mouseup",{mouse:h}),i.clearSourceEvents(h)}})()},function(p,M,v){var e={};p.exports=e;var l=v(2),a=v(8),i=v(1),c=v(12),n=v(3);(function(){e.collides=function(u,r){for(var t=[],o=r.length,s=u.bounds,h=a.collides,x=i.overlaps,P=0;P<o;P++){var E=r[P],A=E.parts.length,d=A===1?0:1;if(x(E.bounds,s))for(var y=d;y<A;y++){var w=E.parts[y];if(x(w.bounds,s)){var m=h(w,u);if(m){t.push(m);break}}}}return t},e.ray=function(u,r,t,o){o=o||1e-100;for(var s=l.angle(r,t),h=l.magnitude(l.sub(r,t)),x=(t.x+r.x)*.5,P=(t.y+r.y)*.5,E=c.rectangle(x,P,h,o,{angle:s}),A=e.collides(E,u),d=0;d<A.length;d+=1){var y=A[d];y.body=y.bodyB=y.bodyA}return A},e.region=function(u,r,t){for(var o=[],s=0;s<u.length;s++){var h=u[s],x=i.overlaps(h.bounds,r);(x&&!t||!x&&t)&&o.push(h)}return o},e.point=function(u,r){for(var t=[],o=0;o<u.length;o++){var s=u[o];if(i.contains(s.bounds,r))for(var h=s.parts.length===1?0:1;h<s.parts.length;h++){var x=s.parts[h];if(i.contains(x.bounds,r)&&n.contains(x.vertices,r)){t.push(s);break}}}return t}})()},function(p,M,v){var e={};p.exports=e;var l=v(4),a=v(0),i=v(6),c=v(1),n=v(5),u=v(2),r=v(14);(function(){var t,o;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(d){window.setTimeout(function(){d(a.now())},1e3/60)},o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(d){var y={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!d.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},w=a.extend(y,d);return w.canvas&&(w.canvas.width=w.options.width||w.canvas.width,w.canvas.height=w.options.height||w.canvas.height),w.mouse=d.mouse,w.engine=d.engine,w.canvas=w.canvas||x(w.options.width,w.options.height),w.context=w.canvas.getContext("2d"),w.textures={},w.bounds=w.bounds||{min:{x:0,y:0},max:{x:w.canvas.width,y:w.canvas.height}},w.controller=e,w.options.showBroadphase=!1,w.options.pixelRatio!==1&&e.setPixelRatio(w,w.options.pixelRatio),a.isElement(w.element)&&w.element.appendChild(w.canvas),w},e.run=function(d){(function y(w){d.frameRequestId=t(y),s(d,w),e.world(d,w),d.context.setTransform(d.options.pixelRatio,0,0,d.options.pixelRatio,0,0),(d.options.showStats||d.options.showDebug)&&e.stats(d,d.context,w),(d.options.showPerformance||d.options.showDebug)&&e.performance(d,d.context,w),d.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(d){o(d.frameRequestId)},e.setPixelRatio=function(d,y){var w=d.options,m=d.canvas;y==="auto"&&(y=P(m)),w.pixelRatio=y,m.setAttribute("data-pixel-ratio",y),m.width=w.width*y,m.height=w.height*y,m.style.width=w.width+"px",m.style.height=w.height+"px"},e.setSize=function(d,y,w){d.options.width=y,d.options.height=w,d.bounds.max.x=d.bounds.min.x+y,d.bounds.max.y=d.bounds.min.y+w,d.options.pixelRatio!==1?e.setPixelRatio(d,d.options.pixelRatio):(d.canvas.width=y,d.canvas.height=w)},e.lookAt=function(d,y,w,m){m=typeof m<"u"?m:!0,y=a.isArray(y)?y:[y],w=w||{x:0,y:0};for(var C={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},S=0;S<y.length;S+=1){var I=y[S],T=I.bounds?I.bounds.min:I.min||I.position||I,B=I.bounds?I.bounds.max:I.max||I.position||I;T&&B&&(T.x<C.min.x&&(C.min.x=T.x),B.x>C.max.x&&(C.max.x=B.x),T.y<C.min.y&&(C.min.y=T.y),B.y>C.max.y&&(C.max.y=B.y))}var D=C.max.x-C.min.x+2*w.x,R=C.max.y-C.min.y+2*w.y,F=d.canvas.height,k=d.canvas.width,L=k/F,V=D/R,N=1,_=1;V>L?_=V/L:N=L/V,d.options.hasBounds=!0,d.bounds.min.x=C.min.x,d.bounds.max.x=C.min.x+D*N,d.bounds.min.y=C.min.y,d.bounds.max.y=C.min.y+R*_,m&&(d.bounds.min.x+=D*.5-D*N*.5,d.bounds.max.x+=D*.5-D*N*.5,d.bounds.min.y+=R*.5-R*_*.5,d.bounds.max.y+=R*.5-R*_*.5),d.bounds.min.x-=w.x,d.bounds.max.x-=w.x,d.bounds.min.y-=w.y,d.bounds.max.y-=w.y,d.mouse&&(r.setScale(d.mouse,{x:(d.bounds.max.x-d.bounds.min.x)/d.canvas.width,y:(d.bounds.max.y-d.bounds.min.y)/d.canvas.height}),r.setOffset(d.mouse,d.bounds.min))},e.startViewTransform=function(d){var y=d.bounds.max.x-d.bounds.min.x,w=d.bounds.max.y-d.bounds.min.y,m=y/d.options.width,C=w/d.options.height;d.context.setTransform(d.options.pixelRatio/m,0,0,d.options.pixelRatio/C,0,0),d.context.translate(-d.bounds.min.x,-d.bounds.min.y)},e.endViewTransform=function(d){d.context.setTransform(d.options.pixelRatio,0,0,d.options.pixelRatio,0,0)},e.world=function(d,y){var w=a.now(),m=d.engine,C=m.world,S=d.canvas,I=d.context,T=d.options,B=d.timing,D=i.allBodies(C),R=i.allConstraints(C),F=T.wireframes?T.wireframeBackground:T.background,k=[],L=[],V,N={timestamp:m.timing.timestamp};if(n.trigger(d,"beforeRender",N),d.currentBackground!==F&&A(d,F),I.globalCompositeOperation="source-in",I.fillStyle="transparent",I.fillRect(0,0,S.width,S.height),I.globalCompositeOperation="source-over",T.hasBounds){for(V=0;V<D.length;V++){var _=D[V];c.overlaps(_.bounds,d.bounds)&&k.push(_)}for(V=0;V<R.length;V++){var z=R[V],Z=z.bodyA,de=z.bodyB,ie=z.pointA,b=z.pointB;Z&&(ie=u.add(Z.position,z.pointA)),de&&(b=u.add(de.position,z.pointB)),!(!ie||!b)&&(c.contains(d.bounds,ie)||c.contains(d.bounds,b))&&L.push(z)}e.startViewTransform(d),d.mouse&&(r.setScale(d.mouse,{x:(d.bounds.max.x-d.bounds.min.x)/d.options.width,y:(d.bounds.max.y-d.bounds.min.y)/d.options.height}),r.setOffset(d.mouse,d.bounds.min))}else L=R,k=D,d.options.pixelRatio!==1&&d.context.setTransform(d.options.pixelRatio,0,0,d.options.pixelRatio,0,0);!T.wireframes||m.enableSleeping&&T.showSleeping?e.bodies(d,k,I):(T.showConvexHulls&&e.bodyConvexHulls(d,k,I),e.bodyWireframes(d,k,I)),T.showBounds&&e.bodyBounds(d,k,I),(T.showAxes||T.showAngleIndicator)&&e.bodyAxes(d,k,I),T.showPositions&&e.bodyPositions(d,k,I),T.showVelocity&&e.bodyVelocity(d,k,I),T.showIds&&e.bodyIds(d,k,I),T.showSeparations&&e.separations(d,m.pairs.list,I),T.showCollisions&&e.collisions(d,m.pairs.list,I),T.showVertexNumbers&&e.vertexNumbers(d,k,I),T.showMousePosition&&e.mousePosition(d,d.mouse,I),e.constraints(L,I),T.hasBounds&&e.endViewTransform(d),n.trigger(d,"afterRender",N),B.lastElapsed=a.now()-w},e.stats=function(d,y,w){for(var m=d.engine,C=m.world,S=i.allBodies(C),I=0,T=55,B=44,D=0,R=0,F=0;F<S.length;F+=1)I+=S[F].parts.length;var k={Part:I,Body:S.length,Cons:i.allConstraints(C).length,Comp:i.allComposites(C).length,Pair:m.pairs.list.length};y.fillStyle="#0e0f19",y.fillRect(D,R,T*5.5,B),y.font="12px Arial",y.textBaseline="top",y.textAlign="right";for(var L in k){var V=k[L];y.fillStyle="#aaa",y.fillText(L,D+T,R+8),y.fillStyle="#eee",y.fillText(V,D+T,R+26),D+=T}},e.performance=function(d,y){var w=d.engine,m=d.timing,C=m.deltaHistory,S=m.elapsedHistory,I=m.timestampElapsedHistory,T=m.engineDeltaHistory,B=m.engineUpdatesHistory,D=m.engineElapsedHistory,R=w.timing.lastUpdatesPerFrame,F=w.timing.lastDelta,k=h(C),L=h(S),V=h(T),N=h(B),_=h(D),z=h(I),Z=z/k||0,de=Math.round(k/F),ie=1e3/k||0,b=4,re=12,Q=60,Le=34,se=10,oe=69;y.fillStyle="#0e0f19",y.fillRect(0,50,re*5+Q*6+22,Le),e.status(y,se,oe,Q,b,C.length,Math.round(ie)+" fps",ie/e._goodFps,function(Y){return C[Y]/k-1}),e.status(y,se+re+Q,oe,Q,b,T.length,F.toFixed(2)+" dt",e._goodDelta/F,function(Y){return T[Y]/V-1}),e.status(y,se+(re+Q)*2,oe,Q,b,B.length,R+" upf",Math.pow(a.clamp(N/de||1,0,1),4),function(Y){return B[Y]/N-1}),e.status(y,se+(re+Q)*3,oe,Q,b,D.length,_.toFixed(2)+" ut",1-R*_/e._goodFps,function(Y){return D[Y]/_-1}),e.status(y,se+(re+Q)*4,oe,Q,b,S.length,L.toFixed(2)+" rt",1-L/e._goodFps,function(Y){return S[Y]/L-1}),e.status(y,se+(re+Q)*5,oe,Q,b,I.length,Z.toFixed(2)+" x",Z*Z*Z,function(Y){return(I[Y]/C[Y]/Z||0)-1})},e.status=function(d,y,w,m,C,S,I,T,B){d.strokeStyle="#888",d.fillStyle="#444",d.lineWidth=1,d.fillRect(y,w+7,m,1),d.beginPath(),d.moveTo(y,w+7-C*a.clamp(.4*B(0),-2,2));for(var D=0;D<m;D+=1)d.lineTo(y+D,w+7-(D<S?C*a.clamp(.4*B(D),-2,2):0));d.stroke(),d.fillStyle="hsl("+a.clamp(25+95*T,0,120)+",100%,60%)",d.fillRect(y,w-7,4,4),d.font="12px Arial",d.textBaseline="middle",d.textAlign="right",d.fillStyle="#eee",d.fillText(I,y+m,w-5)},e.constraints=function(d,y){for(var w=y,m=0;m<d.length;m++){var C=d[m];if(!(!C.render.visible||!C.pointA||!C.pointB)){var S=C.bodyA,I=C.bodyB,T,B;if(S?T=u.add(S.position,C.pointA):T=C.pointA,C.render.type==="pin")w.beginPath(),w.arc(T.x,T.y,3,0,2*Math.PI),w.closePath();else{if(I?B=u.add(I.position,C.pointB):B=C.pointB,w.beginPath(),w.moveTo(T.x,T.y),C.render.type==="spring")for(var D=u.sub(B,T),R=u.perp(u.normalise(D)),F=Math.ceil(a.clamp(C.length/5,12,20)),k,L=1;L<F;L+=1)k=L%2===0?1:-1,w.lineTo(T.x+D.x*(L/F)+R.x*k*4,T.y+D.y*(L/F)+R.y*k*4);w.lineTo(B.x,B.y)}C.render.lineWidth&&(w.lineWidth=C.render.lineWidth,w.strokeStyle=C.render.strokeStyle,w.stroke()),C.render.anchors&&(w.fillStyle=C.render.strokeStyle,w.beginPath(),w.arc(T.x,T.y,3,0,2*Math.PI),w.arc(B.x,B.y,3,0,2*Math.PI),w.closePath(),w.fill())}}},e.bodies=function(d,y,w){var m=w;d.engine;var C=d.options,S=C.showInternalEdges||!C.wireframes,I,T,B,D;for(B=0;B<y.length;B++)if(I=y[B],!!I.render.visible){for(D=I.parts.length>1?1:0;D<I.parts.length;D++)if(T=I.parts[D],!!T.render.visible){if(C.showSleeping&&I.isSleeping?m.globalAlpha=.5*T.render.opacity:T.render.opacity!==1&&(m.globalAlpha=T.render.opacity),T.render.sprite&&T.render.sprite.texture&&!C.wireframes){var R=T.render.sprite,F=E(d,R.texture);m.translate(T.position.x,T.position.y),m.rotate(T.angle),m.drawImage(F,F.width*-R.xOffset*R.xScale,F.height*-R.yOffset*R.yScale,F.width*R.xScale,F.height*R.yScale),m.rotate(-T.angle),m.translate(-T.position.x,-T.position.y)}else{if(T.circleRadius)m.beginPath(),m.arc(T.position.x,T.position.y,T.circleRadius,0,2*Math.PI);else{m.beginPath(),m.moveTo(T.vertices[0].x,T.vertices[0].y);for(var k=1;k<T.vertices.length;k++)!T.vertices[k-1].isInternal||S?m.lineTo(T.vertices[k].x,T.vertices[k].y):m.moveTo(T.vertices[k].x,T.vertices[k].y),T.vertices[k].isInternal&&!S&&m.moveTo(T.vertices[(k+1)%T.vertices.length].x,T.vertices[(k+1)%T.vertices.length].y);m.lineTo(T.vertices[0].x,T.vertices[0].y),m.closePath()}C.wireframes?(m.lineWidth=1,m.strokeStyle=d.options.wireframeStrokeStyle,m.stroke()):(m.fillStyle=T.render.fillStyle,T.render.lineWidth&&(m.lineWidth=T.render.lineWidth,m.strokeStyle=T.render.strokeStyle,m.stroke()),m.fill())}m.globalAlpha=1}}},e.bodyWireframes=function(d,y,w){var m=w,C=d.options.showInternalEdges,S,I,T,B,D;for(m.beginPath(),T=0;T<y.length;T++)if(S=y[T],!!S.render.visible)for(D=S.parts.length>1?1:0;D<S.parts.length;D++){for(I=S.parts[D],m.moveTo(I.vertices[0].x,I.vertices[0].y),B=1;B<I.vertices.length;B++)!I.vertices[B-1].isInternal||C?m.lineTo(I.vertices[B].x,I.vertices[B].y):m.moveTo(I.vertices[B].x,I.vertices[B].y),I.vertices[B].isInternal&&!C&&m.moveTo(I.vertices[(B+1)%I.vertices.length].x,I.vertices[(B+1)%I.vertices.length].y);m.lineTo(I.vertices[0].x,I.vertices[0].y)}m.lineWidth=1,m.strokeStyle=d.options.wireframeStrokeStyle,m.stroke()},e.bodyConvexHulls=function(d,y,w){var m=w,C,S,I;for(m.beginPath(),S=0;S<y.length;S++)if(C=y[S],!(!C.render.visible||C.parts.length===1)){for(m.moveTo(C.vertices[0].x,C.vertices[0].y),I=1;I<C.vertices.length;I++)m.lineTo(C.vertices[I].x,C.vertices[I].y);m.lineTo(C.vertices[0].x,C.vertices[0].y)}m.lineWidth=1,m.strokeStyle="rgba(255,255,255,0.2)",m.stroke()},e.vertexNumbers=function(d,y,w){var m=w,C,S,I;for(C=0;C<y.length;C++){var T=y[C].parts;for(I=T.length>1?1:0;I<T.length;I++){var B=T[I];for(S=0;S<B.vertices.length;S++)m.fillStyle="rgba(255,255,255,0.2)",m.fillText(C+"_"+S,B.position.x+(B.vertices[S].x-B.position.x)*.8,B.position.y+(B.vertices[S].y-B.position.y)*.8)}}},e.mousePosition=function(d,y,w){var m=w;m.fillStyle="rgba(255,255,255,0.8)",m.fillText(y.position.x+"  "+y.position.y,y.position.x+5,y.position.y-5)},e.bodyBounds=function(d,y,w){var m=w;d.engine;var C=d.options;m.beginPath();for(var S=0;S<y.length;S++){var I=y[S];if(I.render.visible)for(var T=y[S].parts,B=T.length>1?1:0;B<T.length;B++){var D=T[B];m.rect(D.bounds.min.x,D.bounds.min.y,D.bounds.max.x-D.bounds.min.x,D.bounds.max.y-D.bounds.min.y)}}C.wireframes?m.strokeStyle="rgba(255,255,255,0.08)":m.strokeStyle="rgba(0,0,0,0.1)",m.lineWidth=1,m.stroke()},e.bodyAxes=function(d,y,w){var m=w;d.engine;var C=d.options,S,I,T,B;for(m.beginPath(),I=0;I<y.length;I++){var D=y[I],R=D.parts;if(D.render.visible)if(C.showAxes)for(T=R.length>1?1:0;T<R.length;T++)for(S=R[T],B=0;B<S.axes.length;B++){var F=S.axes[B];m.moveTo(S.position.x,S.position.y),m.lineTo(S.position.x+F.x*20,S.position.y+F.y*20)}else for(T=R.length>1?1:0;T<R.length;T++)for(S=R[T],B=0;B<S.axes.length;B++)m.moveTo(S.position.x,S.position.y),m.lineTo((S.vertices[0].x+S.vertices[S.vertices.length-1].x)/2,(S.vertices[0].y+S.vertices[S.vertices.length-1].y)/2)}C.wireframes?(m.strokeStyle="indianred",m.lineWidth=1):(m.strokeStyle="rgba(255, 255, 255, 0.4)",m.globalCompositeOperation="overlay",m.lineWidth=2),m.stroke(),m.globalCompositeOperation="source-over"},e.bodyPositions=function(d,y,w){var m=w;d.engine;var C=d.options,S,I,T,B;for(m.beginPath(),T=0;T<y.length;T++)if(S=y[T],!!S.render.visible)for(B=0;B<S.parts.length;B++)I=S.parts[B],m.arc(I.position.x,I.position.y,3,0,2*Math.PI,!1),m.closePath();for(C.wireframes?m.fillStyle="indianred":m.fillStyle="rgba(0,0,0,0.5)",m.fill(),m.beginPath(),T=0;T<y.length;T++)S=y[T],S.render.visible&&(m.arc(S.positionPrev.x,S.positionPrev.y,2,0,2*Math.PI,!1),m.closePath());m.fillStyle="rgba(255,165,0,0.8)",m.fill()},e.bodyVelocity=function(d,y,w){var m=w;m.beginPath();for(var C=0;C<y.length;C++){var S=y[C];if(S.render.visible){var I=l.getVelocity(S);m.moveTo(S.position.x,S.position.y),m.lineTo(S.position.x+I.x,S.position.y+I.y)}}m.lineWidth=3,m.strokeStyle="cornflowerblue",m.stroke()},e.bodyIds=function(d,y,w){var m=w,C,S;for(C=0;C<y.length;C++)if(y[C].render.visible){var I=y[C].parts;for(S=I.length>1?1:0;S<I.length;S++){var T=I[S];m.font="12px Arial",m.fillStyle="rgba(255,255,255,0.5)",m.fillText(T.id,T.position.x+10,T.position.y-10)}}},e.collisions=function(d,y,w){var m=w,C=d.options,S,I,T,B;for(m.beginPath(),T=0;T<y.length;T++)if(S=y[T],!!S.isActive)for(I=S.collision,B=0;B<S.contactCount;B++){var D=S.contacts[B],R=D.vertex;m.rect(R.x-1.5,R.y-1.5,3.5,3.5)}for(C.wireframes?m.fillStyle="rgba(255,255,255,0.7)":m.fillStyle="orange",m.fill(),m.beginPath(),T=0;T<y.length;T++)if(S=y[T],!!S.isActive&&(I=S.collision,S.contactCount>0)){var F=S.contacts[0].vertex.x,k=S.contacts[0].vertex.y;S.contactCount===2&&(F=(S.contacts[0].vertex.x+S.contacts[1].vertex.x)/2,k=(S.contacts[0].vertex.y+S.contacts[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic===!0?m.moveTo(F-I.normal.x*8,k-I.normal.y*8):m.moveTo(F+I.normal.x*8,k+I.normal.y*8),m.lineTo(F,k)}C.wireframes?m.strokeStyle="rgba(255,165,0,0.7)":m.strokeStyle="orange",m.lineWidth=1,m.stroke()},e.separations=function(d,y,w){var m=w,C=d.options,S,I,T,B,D;for(m.beginPath(),D=0;D<y.length;D++)if(S=y[D],!!S.isActive){I=S.collision,T=I.bodyA,B=I.bodyB;var R=1;!B.isStatic&&!T.isStatic&&(R=.5),B.isStatic&&(R=0),m.moveTo(B.position.x,B.position.y),m.lineTo(B.position.x-I.penetration.x*R,B.position.y-I.penetration.y*R),R=1,!B.isStatic&&!T.isStatic&&(R=.5),T.isStatic&&(R=0),m.moveTo(T.position.x,T.position.y),m.lineTo(T.position.x+I.penetration.x*R,T.position.y+I.penetration.y*R)}C.wireframes?m.strokeStyle="rgba(255,165,0,0.5)":m.strokeStyle="orange",m.stroke()},e.inspector=function(d,y){d.engine;var w=d.selected,m=d.render,C=m.options,S;if(C.hasBounds){var I=m.bounds.max.x-m.bounds.min.x,T=m.bounds.max.y-m.bounds.min.y,B=I/m.options.width,D=T/m.options.height;y.scale(1/B,1/D),y.translate(-m.bounds.min.x,-m.bounds.min.y)}for(var R=0;R<w.length;R++){var F=w[R].data;switch(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.9)",y.setLineDash([1,2]),F.type){case"body":S=F.bounds,y.beginPath(),y.rect(Math.floor(S.min.x-3),Math.floor(S.min.y-3),Math.floor(S.max.x-S.min.x+6),Math.floor(S.max.y-S.min.y+6)),y.closePath(),y.stroke();break;case"constraint":var k=F.pointA;F.bodyA&&(k=F.pointB),y.beginPath(),y.arc(k.x,k.y,10,0,2*Math.PI),y.closePath(),y.stroke();break}y.setLineDash([]),y.translate(-.5,-.5)}d.selectStart!==null&&(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.6)",y.fillStyle="rgba(255,165,0,0.1)",S=d.selectBounds,y.beginPath(),y.rect(Math.floor(S.min.x),Math.floor(S.min.y),Math.floor(S.max.x-S.min.x),Math.floor(S.max.y-S.min.y)),y.closePath(),y.stroke(),y.fill(),y.translate(-.5,-.5)),C.hasBounds&&y.setTransform(1,0,0,1,0,0)};var s=function(d,y){var w=d.engine,m=d.timing,C=m.historySize,S=w.timing.timestamp;m.delta=y-m.lastTime||e._goodDelta,m.lastTime=y,m.timestampElapsed=S-m.lastTimestamp||0,m.lastTimestamp=S,m.deltaHistory.unshift(m.delta),m.deltaHistory.length=Math.min(m.deltaHistory.length,C),m.engineDeltaHistory.unshift(w.timing.lastDelta),m.engineDeltaHistory.length=Math.min(m.engineDeltaHistory.length,C),m.timestampElapsedHistory.unshift(m.timestampElapsed),m.timestampElapsedHistory.length=Math.min(m.timestampElapsedHistory.length,C),m.engineUpdatesHistory.unshift(w.timing.lastUpdatesPerFrame),m.engineUpdatesHistory.length=Math.min(m.engineUpdatesHistory.length,C),m.engineElapsedHistory.unshift(w.timing.lastElapsed),m.engineElapsedHistory.length=Math.min(m.engineElapsedHistory.length,C),m.elapsedHistory.unshift(m.lastElapsed),m.elapsedHistory.length=Math.min(m.elapsedHistory.length,C)},h=function(d){for(var y=0,w=0;w<d.length;w+=1)y+=d[w];return y/d.length||0},x=function(d,y){var w=document.createElement("canvas");return w.width=d,w.height=y,w.oncontextmenu=function(){return!1},w.onselectstart=function(){return!1},w},P=function(d){var y=d.getContext("2d"),w=window.devicePixelRatio||1,m=y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1;return w/m},E=function(d,y){var w=d.textures[y];return w||(w=d.textures[y]=new Image,w.src=y,w)},A=function(d,y){var w=y;/(jpg|gif|png)$/.test(y)&&(w="url("+y+")"),d.canvas.style.background=w,d.canvas.style.backgroundSize="contain",d.currentBackground=y}})()},function(p,M,v){var e={};p.exports=e;var l=v(5),a=v(17),i=v(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(n){var u={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},r=i.extend(u,n);return r.fps=0,r},e.run=function(n,u){return n.timeBuffer=e._frameDeltaFallback,function r(t){n.frameRequestId=e._onNextFrame(n,r),t&&n.enabled&&e.tick(n,u,t)}(),n},e.tick=function(n,u,r){var t=i.now(),o=n.delta,s=0,h=r-n.timeLastTick;if((!h||!n.timeLastTick||h>Math.max(e._maxFrameDelta,n.maxFrameTime))&&(h=n.frameDelta||e._frameDeltaFallback),n.frameDeltaSmoothing){n.frameDeltaHistory.push(h),n.frameDeltaHistory=n.frameDeltaHistory.slice(-n.frameDeltaHistorySize);var x=n.frameDeltaHistory.slice(0).sort(),P=n.frameDeltaHistory.slice(x.length*e._smoothingLowerBound,x.length*e._smoothingUpperBound),E=c(P);h=E||h}n.frameDeltaSnapping&&(h=1e3/Math.round(1e3/h)),n.frameDelta=h,n.timeLastTick=r,n.timeBuffer+=n.frameDelta,n.timeBuffer=i.clamp(n.timeBuffer,0,n.frameDelta+o*e._timeBufferMargin),n.lastUpdatesDeferred=0;var A=n.maxUpdates||Math.ceil(n.maxFrameTime/o),d={timestamp:u.timing.timestamp};l.trigger(n,"beforeTick",d),l.trigger(n,"tick",d);for(var y=i.now();o>0&&n.timeBuffer>=o*e._timeBufferMargin;){l.trigger(n,"beforeUpdate",d),a.update(u,o),l.trigger(n,"afterUpdate",d),n.timeBuffer-=o,s+=1;var w=i.now()-t,m=i.now()-y,C=w+e._elapsedNextEstimate*m/s;if(s>=A||C>n.maxFrameTime){n.lastUpdatesDeferred=Math.round(Math.max(0,n.timeBuffer/o-e._timeBufferMargin));break}}u.timing.lastUpdatesPerFrame=s,l.trigger(n,"afterTick",d),n.frameDeltaHistory.length>=100&&(n.lastUpdatesDeferred&&Math.round(n.frameDelta/o)>A?i.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):n.lastUpdatesDeferred&&i.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof n.isFixed<"u"&&i.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(n.deltaMin||n.deltaMax)&&i.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),n.fps!==0&&i.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(n){e._cancelNextFrame(n)},e._onNextFrame=function(n,u){if(typeof window<"u"&&window.requestAnimationFrame)n.frameRequestId=window.requestAnimationFrame(u);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return n.frameRequestId},e._cancelNextFrame=function(n){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(n.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var c=function(n){for(var u=0,r=n.length,t=0;t<r;t+=1)u+=n[t];return u/r||0}})()},function(p,M,v){var e={};p.exports=e;var l=v(8),a=v(0),i=a.deprecated;(function(){e.collides=function(c,n){return l.collides(c,n)},i(e,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(p,M,v){var e={};p.exports=e,v(1);var l=v(0);(function(){e.pathToVertices=function(a,i){typeof window<"u"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var c,n,u,r,t,o,s,h,x,P,E=[],A,d,y=0,w=0,m=0;i=i||15;var C=function(I,T,B){var D=B%2===1&&B>1;if(!x||I!=x.x||T!=x.y){x&&D?(A=x.x,d=x.y):(A=0,d=0);var R={x:A+I,y:d+T};(D||!x)&&(x=R),E.push(R),w=A+I,m=d+T}},S=function(I){var T=I.pathSegTypeAsLetter.toUpperCase();if(T!=="Z"){switch(T){case"M":case"L":case"T":case"C":case"S":case"Q":w=I.x,m=I.y;break;case"H":w=I.x;break;case"V":m=I.y;break}C(w,m,I.pathSegType)}};for(e._svgPathToAbsolute(a),u=a.getTotalLength(),o=[],c=0;c<a.pathSegList.numberOfItems;c+=1)o.push(a.pathSegList.getItem(c));for(s=o.concat();y<u;){if(P=a.getPathSegAtLength(y),t=o[P],t!=h){for(;s.length&&s[0]!=t;)S(s.shift());h=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":r=a.getPointAtLength(y),C(r.x,r.y,0);break}y+=i}for(c=0,n=s.length;c<n;++c)S(s[c]);return E},e._svgPathToAbsolute=function(a){for(var i,c,n,u,r,t,o=a.pathSegList,s=0,h=0,x=o.numberOfItems,P=0;P<x;++P){var E=o.getItem(P),A=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(A))"x"in E&&(s=E.x),"y"in E&&(h=E.y);else switch("x1"in E&&(n=s+E.x1),"x2"in E&&(r=s+E.x2),"y1"in E&&(u=h+E.y1),"y2"in E&&(t=h+E.y2),"x"in E&&(s+=E.x),"y"in E&&(h+=E.y),A){case"m":o.replaceItem(a.createSVGPathSegMovetoAbs(s,h),P);break;case"l":o.replaceItem(a.createSVGPathSegLinetoAbs(s,h),P);break;case"h":o.replaceItem(a.createSVGPathSegLinetoHorizontalAbs(s),P);break;case"v":o.replaceItem(a.createSVGPathSegLinetoVerticalAbs(h),P);break;case"c":o.replaceItem(a.createSVGPathSegCurvetoCubicAbs(s,h,n,u,r,t),P);break;case"s":o.replaceItem(a.createSVGPathSegCurvetoCubicSmoothAbs(s,h,r,t),P);break;case"q":o.replaceItem(a.createSVGPathSegCurvetoQuadraticAbs(s,h,n,u),P);break;case"t":o.replaceItem(a.createSVGPathSegCurvetoQuadraticSmoothAbs(s,h),P);break;case"a":o.replaceItem(a.createSVGPathSegArcAbs(s,h,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),P);break;case"z":case"Z":s=i,h=c;break}(A=="M"||A=="m")&&(i=s,c=h)}}})()},function(p,M,v){var e={};p.exports=e;var l=v(6);v(0),function(){e.create=l.create,e.add=l.add,e.remove=l.remove,e.clear=l.clear,e.addComposite=l.addComposite,e.addBody=l.addBody,e.addConstraint=l.addConstraint}()}])})}($e)),$e.exports}var W=Yi(),Xi=Tt('<div class="svelte-1jth8b5"></div>');function ji(f,g){yt(g,!1);let p=null,M=null;window.addEventListener("resize",u=>{console.log("resize")});function v(u){switch(u.type){case"mousemove":case"touchmove":p?.body&&M?.mousemove(u);break;case"mousedown":case"touchstart":M?.mousedown(u);break;case"mouseup":case"touchend":M?.mouseup(u);break}return!!p?.body}let e=ui();function l(){const u=window.innerWidth*.75,r=window.innerHeight/2,t={fillStyle:"#fff5da"};return[W.Bodies.rectangle(u,r+30,40,40,{render:t,angle:30}),W.Bodies.rectangle(u-30,r,50,60,{render:t}),W.Bodies.rectangle(u+15,r,50,30,{render:t,angle:120}),W.Bodies.rectangle(u,r-10,50,70,{render:t})]}function a(){const u=window.innerWidth,r=window.innerHeight;return[W.Bodies.rectangle(u/2,r+151,u,300,{isStatic:!0}),W.Bodies.rectangle(u/2,-151,u,300,{isStatic:!0}),W.Bodies.rectangle(-151,r/2,300,r,{isStatic:!0}),W.Bodies.rectangle(u+151,r/2,300,r,{isStatic:!0})]}let i=a(),c=l();Mn(()=>{const u=W.Engine.create();for(let x=0;x<60;x++)W.Engine.update(u,1e3/60);const r=W.Render.create({element:fe(e),engine:u,options:{width:window.innerWidth,height:window.innerHeight,background:"transparent",wireframeBackground:"transparent",wireframes:!1}});M=W.Mouse.create(r.canvas),p=W.MouseConstraint.create(u,{mouse:M,constraint:{stiffness:.2,render:{visible:!1}}}),W.Composite.add(u.world,[...i,...c,p]),r.mouse=M,W.Render.run(r);const t=W.Runner.create({});W.Runner.run(t,u);function o(){W.Composite.remove(u.world,[...i,...c]),i=a(),c=l(),W.Composite.add(u.world,[...c,...i]),r.canvas.width=window.innerWidth,r.canvas.height=window.innerHeight,r.options.width=window.innerWidth,r.options.height=window.innerHeight}let s;function h(){s&&(clearTimeout(s),s=void 0),s=setTimeout(()=>{clearTimeout(s),s=void 0,o()},700)}window.addEventListener("resize",h)}),Gi();var n=Xi();return Cn(n,u=>X(e,u),()=>fe(e)),At(f,n),zi(g,"fireEvent",v),wt({fireEvent:v})}var qi=Tt("<main><!> <!></main>");function er(f,g){yt(g,!0);let p,M=ce(!1);Mn(()=>{document.body.addEventListener("mousemove",a=>X(M,p.fireEvent(a),!0),{passive:!0}),document.body.addEventListener("mousedown",a=>X(M,p.fireEvent(a),!0),{passive:!0}),document.body.addEventListener("mouseup",a=>X(M,p.fireEvent(a),!0),{passive:!0}),document.body.addEventListener("touchmove",a=>X(M,p.fireEvent(a),!0),{passive:!1}),document.body.addEventListener("touchstart",a=>X(M,p.fireEvent(a),!0),{passive:!0}),document.body.addEventListener("touchend",a=>X(M,p.fireEvent(a),!0),{passive:!0})});var v=qi(),e=hi(v);Zi(e,{get pointerEvents(){return fe(M)}});var l=di(e,2);Cn(ji(l,{}),a=>p=a,()=>p),At(f,v),wt()}Hi(er,{target:document.getElementById("app")});
