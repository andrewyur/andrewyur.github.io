(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))C(f);new MutationObserver(f=>{for(const e of f)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&C(l)}).observe(document,{childList:!0,subtree:!0});function p(f){const e={};return f.integrity&&(e.integrity=f.integrity),f.referrerPolicy&&(e.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?e.credentials="include":f.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function C(f){if(f.ep)return;f.ep=!0;const e=p(f);fetch(f.href,e)}})();const _t=!1;var Qt=Array.isArray,An=Array.prototype.indexOf,Tn=Array.from,rt=Object.defineProperty,be=Object.getOwnPropertyDescriptor,Bn=Object.prototype,Ln=Array.prototype,Rn=Object.getPrototypeOf,Lt=Object.isExtensible;function Dn(c){for(var m=0;m<c.length;m++)c[m]()}function Fn(){var c,m,p=new Promise((C,f)=>{c=C,m=f});return{promise:p,resolve:c,reject:m}}const q=2,ft=4,Kt=8,Xe=16,ge=32,Be=64,Zt=128,j=256,_e=512,Q=1024,ne=2048,Pe=4096,Ie=8192,Le=16384,ut=32768,kn=65536,Rt=1<<17,bn=1<<18,ct=1<<19,Jt=1<<20,at=1<<21,vt=1<<22,me=1<<23,Ge=Symbol("$state"),ht=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function On(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Vn(c){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Hn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Nn(c){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Un(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Wn(c){throw new Error("https://svelte.dev/e/effect_orphan")}function $n(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Gn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function zn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function _n(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Qn=1,Kn=2,_=Symbol();function Yt(c){return c===this.v}let Zn=!1,ie=null;function Qe(c){ie=c}function dt(c,m=!1,p){ie={p:ie,c:null,e:null,s:c,x:null,l:null}}function pt(c){var m=ie,p=m.e;if(p!==null){m.e=null;for(var C of p)fn(C)}return c!==void 0&&(m.x=c),ie=m.p,c??{}}function Xt(){return!0}const Jn=new WeakMap;function Yn(c){var m=N;if(m===null)return O.f|=me,c;if((m.f&ut)===0){if((m.f&Zt)===0)throw!m.parent&&c instanceof Error&&jt(c),c;m.b.error(c)}else gt(c,m)}function gt(c,m){for(;m!==null;){if((m.f&Zt)!==0)try{m.b.error(c);return}catch(p){c=p}m=m.parent}throw c instanceof Error&&jt(c),c}function jt(c){const m=Jn.get(c);m&&(rt(c,"message",{value:m.message}),rt(c,"stack",{value:m.stack}))}let Ke=[];function Xn(){var c=Ke;Ke=[],Dn(c)}function jn(c){Ke.length===0&&queueMicrotask(Xn),Ke.push(c)}function qn(){for(var c=N.b;c!==null&&!c.has_pending_snippet();)c=c.parent;return c===null&&On(),c}function ei(c){var m=q|ne,p=O!==null&&(O.f&q)!==0?O:null;return N===null||p!==null&&(p.f&j)!==0?m|=j:N.f|=ct,{ctx:ie,deps:null,effects:null,equals:Yt,f:m,fn:c,reactions:null,rv:0,v:_,wv:0,parent:p??N,ac:null}}function ti(c,m){let p=N;p===null&&Hn();var C=p.b,f=void 0,e=nn(_),l=null,s=!O;return pi(()=>{try{var n=c()}catch(t){n=Promise.reject(t)}var u=()=>n;f=l?.then(u,u)??Promise.resolve(n),l=f;var i=se,h=C.pending;s&&(C.update_pending_count(1),h||i.increment());const o=(t,r=void 0)=>{l=null,h||i.activate(),r?r!==ht&&(e.f|=me,ot(e,r)):((e.f&me)!==0&&(e.f^=me),ot(e,t)),s&&(C.update_pending_count(-1),h||i.decrement()),tn()};if(f.then(o,t=>o(null,t||"unknown")),i)return()=>{queueMicrotask(()=>i.neuter())}}),new Promise(n=>{function u(i){function h(){i===f?n(e):u(f)}i.then(h,h)}u(f)})}function qt(c){var m=c.effects;if(m!==null){c.effects=null;for(var p=0;p<m.length;p+=1)Se(m[p])}}function ni(c){for(var m=c.parent;m!==null;){if((m.f&q)===0)return m;m=m.parent}return null}function mt(c){var m,p=N;Te(ni(c));try{qt(c),m=gn(c)}finally{Te(p)}return m}function en(c){var m=mt(c);if(c.equals(m)||(c.v=m,c.wv=dn()),!Re)if(Ae!==null)Ae.set(c,c.v);else{var p=(de||(c.f&j)!==0)&&c.deps!==null?Pe:Q;J(c,p)}}function ii(c,m,p){const C=ei;if(m.length===0){p(c.map(C));return}var f=se,e=N,l=ri(),s=qn();Promise.all(m.map(n=>ti(n))).then(n=>{f?.activate(),l();try{p([...c.map(C),...n])}catch(u){(e.f&Le)===0&&gt(u,e)}f?.deactivate(),tn()}).catch(n=>{s.error(n)})}function ri(){var c=N,m=O,p=ie;return function(){Te(c),pe(m),Qe(p)}}function tn(){Te(null),pe(null),Qe(null)}const We=new Set;let se=null,Ae=null,Dt=new Set,Fe=[],xt=null,st=!1;class je{#l=new Map;#a=new Map;#s=new Set;#t=0;#f=null;#u=!1;#i=[];#o=[];#n=[];#e=[];#r=[];skipped_effects=new Set;#v(m){Fe=[];var p=null;if(We.size>1){p=new Map,Ae=new Map;for(const[e,l]of this.#l)p.set(e,{v:e.v,wv:e.wv}),e.v=l;for(const e of We)if(e!==this)for(const[l,s]of e.#a)p.has(l)||(p.set(l,{v:l.v,wv:l.wv}),l.v=s)}for(const e of m)this.#h(e);if(this.#i.length===0&&this.#t===0){var C=this.#n,f=this.#e;this.#n=[],this.#e=[],this.#r=[],this.#c(),Ft(C),Ft(f),this.#f?.resolve()}else{for(const e of this.#n)J(e,Q);for(const e of this.#e)J(e,Q);for(const e of this.#r)J(e,Q)}if(p){for(const[e,{v:l,wv:s}]of p)e.wv<=s&&(e.v=l);Ae=null}for(const e of this.#i)Oe(e);for(const e of this.#o)Oe(e);this.#i=[],this.#o=[]}#h(m){m.f^=Q;for(var p=m.first;p!==null;){var C=p.f,f=(C&(ge|Be))!==0,e=f&&(C&Q)!==0,l=e||(C&Ie)!==0||this.skipped_effects.has(p);if(!l&&p.fn!==null){if(f)p.f^=Q;else if((C&ft)!==0)this.#e.push(p);else if(qe(p))if((C&vt)!==0){var s=p.b?.pending?this.#o:this.#i;s.push(p)}else(p.f&Xe)!==0&&this.#r.push(p),Oe(p);var n=p.first;if(n!==null){p=n;continue}}var u=p.parent;for(p=p.next;p===null&&u!==null;)p=u.next,u=u.parent}}capture(m,p){this.#a.has(m)||this.#a.set(m,p),this.#l.set(m,m.v)}activate(){se=this}deactivate(){se=null;for(const m of Dt)if(Dt.delete(m),m(),se!==null)break}neuter(){this.#u=!0}flush(){Fe.length>0?this.flush_effects():this.#c(),se===this&&(this.#t===0&&We.delete(this),this.deactivate())}flush_effects(){var m=Ee;st=!0;try{var p=0;for(bt(!0);Fe.length>0;){if(p++>1e3){var C,f;ai()}this.#v(Fe),ye.clear()}}finally{st=!1,bt(m),xt=null}}#c(){if(!this.#u)for(const m of this.#s)m();this.#s.clear()}increment(){this.#t+=1}decrement(){if(this.#t-=1,this.#t===0){for(const m of this.#n)J(m,ne),xe(m);for(const m of this.#e)J(m,ne),xe(m);for(const m of this.#r)J(m,ne),xe(m);this.#n=[],this.#e=[],this.flush()}else this.deactivate()}add_callback(m){this.#s.add(m)}settled(){return(this.#f??=Fn()).promise}static ensure(m=!0){if(se===null){const p=se=new je;We.add(se),m&&queueMicrotask(()=>{se===p&&p.flush()})}return se}}function ai(){try{$n()}catch(c){gt(c,xt)}}function Ft(c){var m=c.length;if(m!==0){for(var p=0;p<m;p++){var C=c[p];if((C.f&(Le|Ie))===0&&qe(C)){var f=Je;if(Oe(C),C.deps===null&&C.first===null&&C.nodes_start===null&&(C.teardown===null&&C.ac===null?vn(C):C.fn=null),Je>f&&(C.f&Jt)!==0)break}}for(;p<m;p+=1)xe(c[p])}}function xe(c){for(var m=xt=c;m.parent!==null;){m=m.parent;var p=m.f;if(st&&m===N&&(p&Xe)!==0)return;if((p&(Be|ge))!==0){if((p&Q)===0)return;m.f^=Q}}Fe.push(m)}const ye=new Map;function nn(c,m){var p={f:0,v:c,reactions:null,equals:Yt,rv:0,wv:0};return p}function te(c,m){const p=nn(c);return Pi(p),p}function G(c,m,p=!1){O!==null&&(!fe||(O.f&Rt)!==0)&&Xt()&&(O.f&(q|Xe|vt|Rt))!==0&&!ve?.includes(c)&&_n();let C=p?ke(m):m;return ot(c,C)}function ot(c,m){if(!c.equals(m)){var p=c.v;Re?ye.set(c,m):ye.set(c,p),c.v=m,je.ensure().capture(c,p),(c.f&q)!==0&&((c.f&ne)!==0&&mt(c),J(c,(c.f&j)===0?Q:Pe)),c.wv=dn(),rn(c,ne),N!==null&&(N.f&Q)!==0&&(N.f&(ge|Be))===0&&(ee===null?Ci([c]):ee.push(c))}return m}function nt(c){G(c,c.v+1)}function rn(c,m){var p=c.reactions;if(p!==null)for(var C=p.length,f=0;f<C;f++){var e=p[f],l=e.f;(l&ne)===0&&(J(e,m),(l&(Q|j))!==0&&((l&q)!==0?rn(e,Pe):xe(e)))}}function ke(c){if(typeof c!="object"||c===null||Ge in c)return c;const m=Rn(c);if(m!==Bn&&m!==Ln)return c;var p=new Map,C=Qt(c),f=te(0),e=we,l=s=>{if(we===e)return s();var n=O,u=we;pe(null),Vt(e);var i=s();return pe(n),Vt(u),i};return C&&p.set("length",te(c.length)),new Proxy(c,{defineProperty(s,n,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Gn();var i=p.get(n);return i===void 0?i=l(()=>{var h=te(u.value);return p.set(n,h),h}):G(i,u.value,!0),!0},deleteProperty(s,n){var u=p.get(n);if(u===void 0){if(n in s){const i=l(()=>te(_));p.set(n,i),nt(f)}}else G(u,_),nt(f);return!0},get(s,n,u){if(n===Ge)return c;var i=p.get(n),h=n in s;if(i===void 0&&(!h||be(s,n)?.writable)&&(i=l(()=>{var t=ke(h?s[n]:_),r=te(t);return r}),p.set(n,i)),i!==void 0){var o=ce(i);return o===_?void 0:o}return Reflect.get(s,n,u)},getOwnPropertyDescriptor(s,n){var u=Reflect.getOwnPropertyDescriptor(s,n);if(u&&"value"in u){var i=p.get(n);i&&(u.value=ce(i))}else if(u===void 0){var h=p.get(n),o=h?.v;if(h!==void 0&&o!==_)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return u},has(s,n){if(n===Ge)return!0;var u=p.get(n),i=u!==void 0&&u.v!==_||Reflect.has(s,n);if(u!==void 0||N!==null&&(!i||be(s,n)?.writable)){u===void 0&&(u=l(()=>{var o=i?ke(s[n]):_,t=te(o);return t}),p.set(n,u));var h=ce(u);if(h===_)return!1}return i},set(s,n,u,i){var h=p.get(n),o=n in s;if(C&&n==="length")for(var t=u;t<h.v;t+=1){var r=p.get(t+"");r!==void 0?G(r,_):t in s&&(r=l(()=>te(_)),p.set(t+"",r))}if(h===void 0)(!o||be(s,n)?.writable)&&(h=l(()=>te(void 0)),G(h,ke(u)),p.set(n,h));else{o=h.v!==_;var a=l(()=>ke(u));G(h,a)}var v=Reflect.getOwnPropertyDescriptor(s,n);if(v?.set&&v.set.call(i,u),!o){if(C&&typeof n=="string"){var g=p.get("length"),S=Number(n);Number.isInteger(S)&&S>=g.v&&G(g,S+1)}nt(f)}return!0},ownKeys(s){ce(f);var n=Reflect.ownKeys(s).filter(h=>{var o=p.get(h);return o===void 0||o.v!==_});for(var[u,i]of p)i.v!==_&&!(u in s)&&n.push(u);return n},setPrototypeOf(){zn()}})}var kt,an,sn,on;function si(){if(kt===void 0){kt=window,an=/Firefox/.test(navigator.userAgent);var c=Element.prototype,m=Node.prototype,p=Text.prototype;sn=be(m,"firstChild").get,on=be(m,"nextSibling").get,Lt(c)&&(c.__click=void 0,c.__className=void 0,c.__attributes=null,c.__style=void 0,c.__e=void 0),Lt(p)&&(p.__t=void 0)}}function oi(c=""){return document.createTextNode(c)}function Ze(c){return sn.call(c)}function yt(c){return on.call(c)}function li(c,m){return Ze(c)}function fi(c,m){{var p=Ze(c);return p instanceof Comment&&p.data===""?yt(p):p}}function ln(c,m=1,p=!1){let C=c;for(;m--;)C=yt(C);return C}function ui(c){N===null&&O===null&&Wn(),O!==null&&(O.f&j)!==0&&N===null&&Un(),Re&&Nn()}function ci(c,m){var p=m.last;p===null?m.last=m.first=c:(p.next=c,c.prev=p,m.last=c)}function Ce(c,m,p,C=!0){var f=N;f!==null&&(f.f&Ie)!==0&&(c|=Ie);var e={ctx:ie,deps:null,nodes_start:null,nodes_end:null,f:c|ne,first:null,fn:m,last:null,next:null,parent:f,b:f&&f.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(p)try{Oe(e),e.f|=ut}catch(n){throw Se(e),n}else m!==null&&xe(e);var l=p&&e.deps===null&&e.first===null&&e.nodes_start===null&&e.teardown===null&&(e.f&ct)===0;if(!l&&C&&(f!==null&&ci(e,f),O!==null&&(O.f&q)!==0)){var s=O;(s.effects??=[]).push(e)}return e}function vi(c){ui();var m=N.f,p=!O&&(m&ge)!==0&&(m&ut)===0;if(p){var C=ie;(C.e??=[]).push(c)}else return fn(c)}function fn(c){return Ce(ft|Jt,c,!1)}function hi(c){je.ensure();const m=Ce(Be,c,!0);return(p={})=>new Promise(C=>{p.outro?wi(m,()=>{Se(m),C(void 0)}):(Se(m),C(void 0))})}function di(c){return Ce(ft,c,!1)}function pi(c){return Ce(vt|ct,c,!0)}function gi(c,m=0){return Ce(Kt|m,c,!0)}function wt(c,m=[],p=[]){ii(m,p,C=>{Ce(Kt,()=>c(...C.map(ce)),!0)})}function mi(c,m=!0){return Ce(ge,c,!0,m)}function un(c){var m=c.teardown;if(m!==null){const p=Re,C=O;Ot(!0),pe(null);try{m.call(null)}finally{Ot(p),pe(C)}}}function cn(c,m=!1){var p=c.first;for(c.first=c.last=null;p!==null;){p.ac?.abort(ht);var C=p.next;(p.f&Be)!==0?p.parent=null:Se(p,m),p=C}}function xi(c){for(var m=c.first;m!==null;){var p=m.next;(m.f&ge)===0&&Se(m),m=p}}function Se(c,m=!0){var p=!1;(m||(c.f&bn)!==0)&&c.nodes_start!==null&&c.nodes_end!==null&&(yi(c.nodes_start,c.nodes_end),p=!0),cn(c,m&&!p),Ye(c,0),J(c,Le);var C=c.transitions;if(C!==null)for(const e of C)e.stop();un(c);var f=c.parent;f!==null&&f.first!==null&&vn(c),c.next=c.prev=c.teardown=c.ctx=c.deps=c.fn=c.nodes_start=c.nodes_end=c.ac=null}function yi(c,m){for(;c!==null;){var p=c===m?null:yt(c);c.remove(),c=p}}function vn(c){var m=c.parent,p=c.prev,C=c.next;p!==null&&(p.next=C),C!==null&&(C.prev=p),m!==null&&(m.first===c&&(m.first=C),m.last===c&&(m.last=p))}function wi(c,m){var p=[];hn(c,p,!0),Si(p,()=>{Se(c),m&&m()})}function Si(c,m){var p=c.length;if(p>0){var C=()=>--p||m();for(var f of c)f.out(C)}else m()}function hn(c,m,p){if((c.f&Ie)===0){if(c.f^=Ie,c.transitions!==null)for(const l of c.transitions)(l.is_global||p)&&m.push(l);for(var C=c.first;C!==null;){var f=C.next,e=(C.f&kn)!==0||(C.f&ge)!==0;hn(C,m,e?p:!1),C=f}}}let Ee=!1;function bt(c){Ee=c}let Re=!1;function Ot(c){Re=c}let O=null,fe=!1;function pe(c){O=c}let N=null;function Te(c){N=c}let ve=null;function Pi(c){O!==null&&(ve===null?ve=[c]:ve.push(c))}let Z=null,X=0,ee=null;function Ci(c){ee=c}let Je=1,Ve=0,we=Ve;function Vt(c){we=c}let de=!1;function dn(){return++Je}function qe(c){var m=c.f;if((m&ne)!==0)return!0;if((m&Pe)!==0){var p=c.deps,C=(m&j)!==0;if(p!==null){var f,e,l=(m&_e)!==0,s=C&&N!==null&&!de,n=p.length;if((l||s)&&(N===null||(N.f&Le)===0)){var u=c,i=u.parent;for(f=0;f<n;f++)e=p[f],(l||!e?.reactions?.includes(u))&&(e.reactions??=[]).push(u);l&&(u.f^=_e),s&&i!==null&&(i.f&j)===0&&(u.f^=j)}for(f=0;f<n;f++)if(e=p[f],qe(e)&&en(e),e.wv>c.wv)return!0}(!C||N!==null&&!de)&&J(c,Q)}return!1}function pn(c,m,p=!0){var C=c.reactions;if(C!==null&&!ve?.includes(c))for(var f=0;f<C.length;f++){var e=C[f];(e.f&q)!==0?pn(e,m,!1):m===e&&(p?J(e,ne):(e.f&Q)!==0&&J(e,Pe),xe(e))}}function gn(c){var m=Z,p=X,C=ee,f=O,e=de,l=ve,s=ie,n=fe,u=we,i=c.f;Z=null,X=0,ee=null,de=(i&j)!==0&&(fe||!Ee||O===null),O=(i&(ge|Be))===0?c:null,ve=null,Qe(c.ctx),fe=!1,we=++Ve,c.ac!==null&&(c.ac.abort(ht),c.ac=null);try{c.f|=at;var h=(0,c.fn)(),o=c.deps;if(Z!==null){var t;if(Ye(c,X),o!==null&&X>0)for(o.length=X+Z.length,t=0;t<Z.length;t++)o[X+t]=Z[t];else c.deps=o=Z;if(!de||(i&q)!==0&&c.reactions!==null)for(t=X;t<o.length;t++)(o[t].reactions??=[]).push(c)}else o!==null&&X<o.length&&(Ye(c,X),o.length=X);if(Xt()&&ee!==null&&!fe&&o!==null&&(c.f&(q|Pe|ne))===0)for(t=0;t<ee.length;t++)pn(ee[t],c);return f!==null&&f!==c&&(Ve++,ee!==null&&(C===null?C=ee:C.push(...ee))),(c.f&me)!==0&&(c.f^=me),h}catch(r){return Yn(r)}finally{c.f^=at,Z=m,X=p,ee=C,O=f,de=e,ve=l,Qe(s),fe=n,we=u}}function Mi(c,m){let p=m.reactions;if(p!==null){var C=An.call(p,c);if(C!==-1){var f=p.length-1;f===0?p=m.reactions=null:(p[C]=p[f],p.pop())}}p===null&&(m.f&q)!==0&&(Z===null||!Z.includes(m))&&(J(m,Pe),(m.f&(j|_e))===0&&(m.f^=_e),qt(m),Ye(m,0))}function Ye(c,m){var p=c.deps;if(p!==null)for(var C=m;C<p.length;C++)Mi(c,p[C])}function Oe(c){var m=c.f;if((m&Le)===0){J(c,Q);var p=N,C=Ee;N=c,Ee=!0;try{(m&Xe)!==0?xi(c):cn(c),un(c);var f=gn(c);c.teardown=typeof f=="function"?f:null,c.wv=Je;var e;_t&&Zn&&(c.f&ne)!==0&&c.deps}finally{Ee=C,N=p}}}function ce(c){var m=c.f,p=(m&q)!==0;if(O!==null&&!fe){var C=N!==null&&(N.f&Le)!==0;if(!C&&!ve?.includes(c)){var f=O.deps;if((O.f&at)!==0)c.rv<Ve&&(c.rv=Ve,Z===null&&f!==null&&f[X]===c?X++:Z===null?Z=[c]:(!de||!Z.includes(c))&&Z.push(c));else{(O.deps??=[]).push(c);var e=c.reactions;e===null?c.reactions=[O]:e.includes(O)||e.push(O)}}}else if(p&&c.deps===null&&c.effects===null){var l=c,s=l.parent;s!==null&&(s.f&j)===0&&(l.f^=j)}if(Re){if(ye.has(c))return ye.get(c);if(p){l=c;var n=l.v;return((l.f&Q)!==0||mn(l))&&(n=mt(l)),ye.set(l,n),n}}else if(p){if(l=c,Ae?.has(l))return Ae.get(l);qe(l)&&en(l)}if((c.f&me)!==0)throw c.v;return c.v}function mn(c){if(c.v===_)return!0;if(c.deps===null)return!1;for(const m of c.deps)if(ye.has(m)||(m.f&q)!==0&&mn(m))return!0;return!1}function xn(c){var m=fe;try{return fe=!0,c()}finally{fe=m}}const Ei=-7169;function J(c,m){c.f=c.f&Ei|m}const Ii=["touchstart","touchmove"];function Ai(c){return Ii.includes(c)}const Ti=new Set,Ht=new Set;function $e(c){var m=this,p=m.ownerDocument,C=c.type,f=c.composedPath?.()||[],e=f[0]||c.target,l=0,s=c.__root;if(s){var n=f.indexOf(s);if(n!==-1&&(m===document||m===window)){c.__root=m;return}var u=f.indexOf(m);if(u===-1)return;n<=u&&(l=n)}if(e=f[l]||c.target,e!==m){rt(c,"currentTarget",{configurable:!0,get(){return e||p}});var i=O,h=N;pe(null),Te(null);try{for(var o,t=[];e!==null;){var r=e.assignedSlot||e.parentNode||e.host||null;try{var a=e["__"+C];if(a!=null&&(!e.disabled||c.target===e))if(Qt(a)){var[v,...g]=a;v.apply(e,[c,...g])}else a.call(e,c)}catch(S){o?t.push(S):o=S}if(c.cancelBubble||r===m||r===null)break;e=r}if(o){for(let S of t)queueMicrotask(()=>{throw S});throw o}}finally{c.__root=m,delete c.currentTarget,pe(i),Te(h)}}}function Bi(c){var m=document.createElement("template");return m.innerHTML=c.replaceAll("<!>","<!---->"),m.content}function Nt(c,m){var p=N;p.nodes_start===null&&(p.nodes_start=c,p.nodes_end=m)}function St(c,m){var p=(m&Qn)!==0,C=(m&Kn)!==0,f,e=!c.startsWith("<!>");return()=>{f===void 0&&(f=Bi(e?c:"<!>"+c),p||(f=Ze(f)));var l=C||an?document.importNode(f,!0):f.cloneNode(!0);if(p){var s=Ze(l),n=l.lastChild;Nt(s,n)}else Nt(l,l);return l}}function Pt(c,m){c!==null&&c.before(m)}function Li(c,m){return Ri(c,m)}const Me=new Map;function Ri(c,{target:m,anchor:p,props:C={},events:f,context:e,intro:l=!0}){si();var s=new Set,n=h=>{for(var o=0;o<h.length;o++){var t=h[o];if(!s.has(t)){s.add(t);var r=Ai(t);m.addEventListener(t,$e,{passive:r});var a=Me.get(t);a===void 0?(document.addEventListener(t,$e,{passive:r}),Me.set(t,1)):Me.set(t,a+1)}}};n(Tn(Ti)),Ht.add(n);var u=void 0,i=hi(()=>{var h=p??m.appendChild(oi());return mi(()=>{if(e){dt({});var o=ie;o.c=e}f&&(C.$$events=f),u=c(h,C)||{},e&&pt()}),()=>{for(var o of s){m.removeEventListener(o,$e);var t=Me.get(o);--t===0?(document.removeEventListener(o,$e),Me.delete(o)):Me.set(o,t)}Ht.delete(n),h!==p&&h.parentNode?.removeChild(h)}});return Di.set(u,i),u}let Di=new WeakMap;function yn(c){var m,p,C="";if(typeof c=="string"||typeof c=="number")C+=c;else if(typeof c=="object")if(Array.isArray(c)){var f=c.length;for(m=0;m<f;m++)c[m]&&(p=yn(c[m]))&&(C&&(C+=" "),C+=p)}else for(p in c)c[p]&&(C&&(C+=" "),C+=p);return C}function Fi(){for(var c,m,p=0,C="",f=arguments.length;p<f;p++)(c=arguments[p])&&(m=yn(c))&&(C&&(C+=" "),C+=m);return C}function ki(c){return typeof c=="object"?Fi(c):c??""}const Ut=[...` 	
\r\f \v\uFEFF`];function bi(c,m,p){var C=c==null?"":""+c;if(m&&(C=C?C+" "+m:m),p){for(var f in p)if(p[f])C=C?C+" "+f:f;else if(C.length)for(var e=f.length,l=0;(l=C.indexOf(f,l))>=0;){var s=l+e;(l===0||Ut.includes(C[l-1]))&&(s===C.length||Ut.includes(C[s]))?C=(l===0?"":C.substring(0,l))+C.substring(s+1):l=s}}return C===""?null:C}function Wt(c,m=!1){var p=m?" !important;":";",C="";for(var f in c){var e=c[f];e!=null&&e!==""&&(C+=" "+f+": "+e+p)}return C}function Oi(c,m){if(m){var p="",C,f;return Array.isArray(m)?(C=m[0],f=m[1]):C=m,C&&(p+=Wt(C)),f&&(p+=Wt(f,!0)),p=p.trim(),p===""?null:p}return String(c)}function wn(c,m,p,C,f,e){var l=c.__className;if(l!==p||l===void 0){var s=bi(p,C,e);s==null?c.removeAttribute("class"):m?c.className=s:c.setAttribute("class",s),c.__className=p}else if(e&&f!==e)for(var n in e){var u=!!e[n];(f==null||u!==!!f[n])&&c.classList.toggle(n,u)}return e}function it(c,m={},p,C){for(var f in p){var e=p[f];m[f]!==e&&(p[f]==null?c.style.removeProperty(f):c.style.setProperty(f,e,C))}}function Vi(c,m,p,C){var f=c.__style;if(f!==m){var e=Oi(m,C);e==null?c.removeAttribute("style"):c.style.cssText=e,c.__style=m}else C&&(Array.isArray(C)?(it(c,p?.[0],C[0]),it(c,p?.[1],C[1],"important")):it(c,p,C));return C}function $t(c,m){return c===m||c?.[Ge]===m}function Sn(c={},m,p,C){return di(()=>{var f,e;return gi(()=>{f=e,e=[],xn(()=>{c!==p(...e)&&(m(c,...e),f&&$t(p(...f),c)&&m(null,...f))})}),()=>{jn(()=>{e&&$t(p(...e),c)&&m(null,...e)})}}),c}function lt(c){ie===null&&Vn(),vi(()=>{const m=xn(c);if(typeof m=="function")return m})}const Hi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Hi);var Ni=St(`<div class="scroll svelte-12s168x"><div class="content svelte-12s168x"><h1 class="svelte-12s168x">Andrew Yurovchak</h1> <h1 class="svelte-12s168x">Hoboken New Jersey || Nashua New Hampshire</h1> <h1 class="svelte-12s168x"><a href="mailto:andy@yurovchak.net" class="svelte-12s168x">andy@yurovchak.net</a></h1> <h1 class="svelte-12s168x"><a href="https://docs.google.com/viewer?url=https%3A%2F%2Fgithub.com%2Fandrewyur%2Fresume%2Freleases%2Flatest%2Fdownload%2Fresume.pdf" class="svelte-12s168x">view resume</a></h1> <p class="svelte-12s168x">I am computer science student at Stevens Institute of Technology. I
            am a really quick learner, and a talented software engineer. I enjoy
            designing and building software.</p> <h2 class="svelte-12s168x">work experience</h2> <h3 class="svelte-12s168x">Software Engineering Internship - BAE Systems - Summer 2025</h3> <p class="svelte-12s168x">I took ownership of a Fullstack Web UI for a Signals Intelligence
            platform, which was built with Vue and Node. During my time here, I
            rewrote the entire codebase from commonjs JavaScript to ES6
            Typescript, upgraded the frontend from Vue 2 to Vue 3, integrated a
            server framework into the backend, and added a build step with Vite
            that reduced uncached page load time from 10 seconds to 400
            milliseconds. I also added a user interface for the platform's file
            upload system, which involved designing a websocket protocol and
            common interface, making GRPC calls, and streaming files from the
            backend to the platform. I was also able to make a lot of container
            optimizations: The UI was running accross 4 pods in a kubernetes
            cluster, and I was able to condense them all into one pod and only 1
            exposed port, using Nginx as a reverse proxy. This reduced the
            combined image size for the UI by 1.1GB, and allowed the user to
            access the UI on their local browser with ssh port forwarding. I was
            also able to reduce the UI's image build time by 98% (6 mins to 5
            secs) by rewriting the dockerfile to take better advantage of layer
            caching. I had a blast working here, the work I was doing was
            similar to what I would have been doing for fun if I was unemployed,
            I often found myself pulling 11 hour days without meaning to.</p> <h3 class="svelte-12s168x">Software Engineering Internship - Jacobs Technology - Summer 2024</h3> <p class="svelte-12s168x">I worked on an agile software development team, and completed
            feature requests and bug fixes across a wide range of .NET based
            applications. The area I was in focused mostly on creating
            applications that compressed navigation data for military aircraft.
            Most of my time here was spent digging through confusing,
            undocumented code and traversing gigantic inheritance trees. I was
            also able to do some work on an internal load testing tool with some
            other interns, also written in .NET. I implemented error handling
            features which prevented the entire 4hr+ runtime from going forward
            if there was an error in the configuration.</p> <h3 class="svelte-12s168x">Head of Risk and Development - Stevens Student Managed Investment
            Fund - Fall 2024</h3> <p class="svelte-12s168x">I led a team of 4 developers in maintaining and developing new
            features for the fund's internal website, which provided portfolio
            information and analysis tools to the fund's equity analysts. The
            website was written in React, and used Python and Flask for the
            backend. While I was there, I made a page for the site that showed
            graphs depicting the fund's performance metrics, which involved
            pulling data from yfinance, calculating the fund performance metrics
            with pandas, and then caching the resulting data. I had a great time
            in this position, I learned a lot about managing people and leading
            a team of software engineers.</p> <h2 class="svelte-12s168x">projects</h2> <h3 class="svelte-12s168x">Reverse engineered photograpy portfolio - <a href="https://photos.baetylboy.biz" class="svelte-12s168x">live link</a> - <a href="https://github.com/andrewyur/photography-portfolio" class="svelte-12s168x">github</a></h3> <p class="svelte-12s168x">I publish all of my photography onto a shared album on apple photos,
            and I wanted to find a way to display that album on a custom
            website, without having to worry about posting my photography in
            multiple places. I found out that apple photos provides a web viewer
            for the shared album, and so I decided to reverse engineer the front
            end code, and figure out how to call the private API that the apple
            photos website uses to fetch photos from the album, so that I could
            display the photos on my website without having to worry about
            storing them. I became very familiar with the devtools debugger with
            this project, there was about 4k lines of minified code to dig
            through. I built the website with Svelte, and made a special effort
            to create a site that looks good on mobile and desktop.</p> <h3 class="svelte-12s168x">Collaborative text editor - <a href="https://collab-notepad.baetylboy.biz" class="svelte-12s168x">live link</a> - <a href="https://github.com/andrewyur/collab_notepad" class="svelte-12s168x">github</a></h3> <p class="svelte-12s168x">I built a google-docs-style collaborative text editor, that allows
            multiple people to edit a text document in real time, without having
            to worry about edit conflicts. I ended up creating my own version of
            an operational transformation algorithm, which allowed for merging
            divergent document states of any length. This means that clients can
            push changes to the server without pulling them in first, or have a
            really slow connection to the server and still have the same
            document once the dust settles. I wrote this project in Elixir, a
            functional programming language that is a sibling of Erlang, famous
            for its fault tolerance features. It was a really unique experience,
            and it was also very interesting to tackle the challenges using a
            functional programming language presented.</p> <h3 class="svelte-12s168x">QR code image encoder - <a href="https://github.com/andrewyur/qart" class="svelte-12s168x">github</a> - <a href="https://crates.io/crates/qart" class="svelte-12s168x">crates.io</a></h3> <p class="svelte-12s168x">I wrote a Rust implementation of the process described in <a href="https://research.swtch.com/qart" class="svelte-12s168x">this article</a>, which
            utilized multithreading and Rust's high performance to do it at
            least 100 times faster than other implementations. the process of
            encoding an image into a working QR code was really complex, and the
            article only gave vague instructions. I had to piece this together
            from bits of code across repositories, and without any prior
            understanding of linear algebra or of QR codes, it was a significant
            learning experience. Looking back on it, the code is pretty messy
            and not very idiomatic, I am certain I could write better Rust code
            these days...</p> <h2 class="svelte-12s168x">other things</h2> <p class="svelte-12s168x">I fence for my college (I got <a href="https://docs.google.com/viewer?url=https%3A%2F%2Fusfca.org%2Fwp-admin%2Fadmin-ajax.php%3Fjuwpfisadmin%3Dfalse%26action%3Dwpfd%26task%3Dfile.download%26wpfd_category_id%3D77%26wpfd_file_id%3D42521%26token%3D%26preview%3D1&amp;embedded=true" class="svelte-12s168x">all american honorable mention</a> last season), I enjoy playing pool and video games, listening to music
            and fantasy/sci-fi audiobooks, and <a href="https://photos.baetylboy.biz" class="svelte-12s168x">photography</a> in my free time</p></div></div>`);function Ui(c,m){var p=Ni();let C;wt(f=>C=Vi(p,"",C,f),[()=>({"pointer-events":m.pointerEvents?"none":"auto"})]),Pt(c,p)}var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ze={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Wi=ze.exports,zt;function $i(){return zt||(zt=1,function(c,m){(function(C,f){c.exports=f()})(Wi,function(){return function(p){var C={};function f(e){if(C[e])return C[e].exports;var l=C[e]={i:e,l:!1,exports:{}};return p[e].call(l.exports,l,l.exports,f),l.l=!0,l.exports}return f.m=p,f.c=C,f.d=function(e,l,s){f.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:s})},f.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},f.t=function(e,l){if(l&1&&(e=f(e)),l&8||l&4&&typeof e=="object"&&e&&e.__esModule)return e;var s=Object.create(null);if(f.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),l&2&&typeof e!="string")for(var n in e)f.d(s,n,(function(u){return e[u]}).bind(null,n));return s},f.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return f.d(l,"a",l),l},f.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},f.p="",f(f.s=20)}([function(p,C){var f={};p.exports=f,function(){f._baseDelta=1e3/60,f._nextId=0,f._seed=0,f._nowStartTime=+new Date,f._warnedOnce={},f._decomp=null,f.extend=function(l,s){var n,u;typeof s=="boolean"?(n=2,u=s):(n=1,u=!0);for(var i=n;i<arguments.length;i++){var h=arguments[i];if(h)for(var o in h)u&&h[o]&&h[o].constructor===Object&&(!l[o]||l[o].constructor===Object)?(l[o]=l[o]||{},f.extend(l[o],u,h[o])):l[o]=h[o]}return l},f.clone=function(l,s){return f.extend({},s,l)},f.keys=function(l){if(Object.keys)return Object.keys(l);var s=[];for(var n in l)s.push(n);return s},f.values=function(l){var s=[];if(Object.keys){for(var n=Object.keys(l),u=0;u<n.length;u++)s.push(l[n[u]]);return s}for(var i in l)s.push(l[i]);return s},f.get=function(l,s,n,u){s=s.split(".").slice(n,u);for(var i=0;i<s.length;i+=1)l=l[s[i]];return l},f.set=function(l,s,n,u,i){var h=s.split(".").slice(u,i);return f.get(l,s,0,-1)[h[h.length-1]]=n,n},f.shuffle=function(l){for(var s=l.length-1;s>0;s--){var n=Math.floor(f.random()*(s+1)),u=l[s];l[s]=l[n],l[n]=u}return l},f.choose=function(l){return l[Math.floor(f.random()*l.length)]},f.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},f.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},f.isFunction=function(l){return typeof l=="function"},f.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},f.isString=function(l){return toString.call(l)==="[object String]"},f.clamp=function(l,s,n){return l<s?s:l>n?n:l},f.sign=function(l){return l<0?-1:1},f.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-f._nowStartTime},f.random=function(l,s){return l=typeof l<"u"?l:0,s=typeof s<"u"?s:1,l+e()*(s-l)};var e=function(){return f._seed=(f._seed*9301+49297)%233280,f._seed/233280};f.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},f.logLevel=1,f.log=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.info=function(){console&&f.logLevel>0&&f.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warn=function(){console&&f.logLevel>0&&f.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},f.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");f._warnedOnce[l]||(f.warn(l),f._warnedOnce[l]=!0)},f.deprecated=function(l,s,n){l[s]=f.chain(function(){f.warnOnce("🔅 deprecated 🔅",n)},l[s])},f.nextId=function(){return f._nextId++},f.indexOf=function(l,s){if(l.indexOf)return l.indexOf(s);for(var n=0;n<l.length;n++)if(l[n]===s)return n;return-1},f.map=function(l,s){if(l.map)return l.map(s);for(var n=[],u=0;u<l.length;u+=1)n.push(s(l[u]));return n},f.topologicalSort=function(l){var s=[],n=[],u=[];for(var i in l)!n[i]&&!u[i]&&f._topologicalSort(i,n,u,l,s);return s},f._topologicalSort=function(l,s,n,u,i){var h=u[l]||[];n[l]=!0;for(var o=0;o<h.length;o+=1){var t=h[o];n[t]||s[t]||f._topologicalSort(t,s,n,u,i)}n[l]=!1,s[l]=!0,i.push(l)},f.chain=function(){for(var l=[],s=0;s<arguments.length;s+=1){var n=arguments[s];n._chained?l.push.apply(l,n._chained):l.push(n)}var u=function(){for(var i,h=new Array(arguments.length),o=0,t=arguments.length;o<t;o++)h[o]=arguments[o];for(o=0;o<l.length;o+=1){var r=l[o].apply(i,h);typeof r<"u"&&(i=r)}return i};return u._chained=l,u},f.chainPathBefore=function(l,s,n){return f.set(l,s,f.chain(n,f.get(l,s)))},f.chainPathAfter=function(l,s,n){return f.set(l,s,f.chain(f.get(l,s),n))},f.setDecomp=function(l){f._decomp=l},f.getDecomp=function(){var l=f._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof Gt<"u"&&(l=Gt.decomp)}catch{l=null}return l}}()},function(p,C){var f={};p.exports=f,function(){f.create=function(e){var l={min:{x:0,y:0},max:{x:0,y:0}};return e&&f.update(l,e),l},f.update=function(e,l,s){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var n=0;n<l.length;n++){var u=l[n];u.x>e.max.x&&(e.max.x=u.x),u.x<e.min.x&&(e.min.x=u.x),u.y>e.max.y&&(e.max.y=u.y),u.y<e.min.y&&(e.min.y=u.y)}s&&(s.x>0?e.max.x+=s.x:e.min.x+=s.x,s.y>0?e.max.y+=s.y:e.min.y+=s.y)},f.contains=function(e,l){return l.x>=e.min.x&&l.x<=e.max.x&&l.y>=e.min.y&&l.y<=e.max.y},f.overlaps=function(e,l){return e.min.x<=l.max.x&&e.max.x>=l.min.x&&e.max.y>=l.min.y&&e.min.y<=l.max.y},f.translate=function(e,l){e.min.x+=l.x,e.max.x+=l.x,e.min.y+=l.y,e.max.y+=l.y},f.shift=function(e,l){var s=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=l.x,e.max.x=l.x+s,e.min.y=l.y,e.max.y=l.y+n}}()},function(p,C){var f={};p.exports=f,function(){f.create=function(e,l){return{x:e||0,y:l||0}},f.clone=function(e){return{x:e.x,y:e.y}},f.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},f.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},f.rotate=function(e,l,s){var n=Math.cos(l),u=Math.sin(l);s||(s={});var i=e.x*n-e.y*u;return s.y=e.x*u+e.y*n,s.x=i,s},f.rotateAbout=function(e,l,s,n){var u=Math.cos(l),i=Math.sin(l);n||(n={});var h=s.x+((e.x-s.x)*u-(e.y-s.y)*i);return n.y=s.y+((e.x-s.x)*i+(e.y-s.y)*u),n.x=h,n},f.normalise=function(e){var l=f.magnitude(e);return l===0?{x:0,y:0}:{x:e.x/l,y:e.y/l}},f.dot=function(e,l){return e.x*l.x+e.y*l.y},f.cross=function(e,l){return e.x*l.y-e.y*l.x},f.cross3=function(e,l,s){return(l.x-e.x)*(s.y-e.y)-(l.y-e.y)*(s.x-e.x)},f.add=function(e,l,s){return s||(s={}),s.x=e.x+l.x,s.y=e.y+l.y,s},f.sub=function(e,l,s){return s||(s={}),s.x=e.x-l.x,s.y=e.y-l.y,s},f.mult=function(e,l){return{x:e.x*l,y:e.y*l}},f.div=function(e,l){return{x:e.x/l,y:e.y/l}},f.perp=function(e,l){return l=l===!0?-1:1,{x:l*-e.y,y:l*e.x}},f.neg=function(e){return{x:-e.x,y:-e.y}},f.angle=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)},f._temp=[f.create(),f.create(),f.create(),f.create(),f.create(),f.create()]}()},function(p,C,f){var e={};p.exports=e;var l=f(2),s=f(0);(function(){e.create=function(n,u){for(var i=[],h=0;h<n.length;h++){var o=n[h],t={x:o.x,y:o.y,index:h,body:u,isInternal:!1};i.push(t)}return i},e.fromPath=function(n,u){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,h=[];return n.replace(i,function(o,t,r){h.push({x:parseFloat(t),y:parseFloat(r)})}),e.create(h,u)},e.centre=function(n){for(var u=e.area(n,!0),i={x:0,y:0},h,o,t,r=0;r<n.length;r++)t=(r+1)%n.length,h=l.cross(n[r],n[t]),o=l.mult(l.add(n[r],n[t]),h),i=l.add(i,o);return l.div(i,6*u)},e.mean=function(n){for(var u={x:0,y:0},i=0;i<n.length;i++)u.x+=n[i].x,u.y+=n[i].y;return l.div(u,n.length)},e.area=function(n,u){for(var i=0,h=n.length-1,o=0;o<n.length;o++)i+=(n[h].x-n[o].x)*(n[h].y+n[o].y),h=o;return u?i/2:Math.abs(i)/2},e.inertia=function(n,u){for(var i=0,h=0,o=n,t,r,a=0;a<o.length;a++)r=(a+1)%o.length,t=Math.abs(l.cross(o[r],o[a])),i+=t*(l.dot(o[r],o[r])+l.dot(o[r],o[a])+l.dot(o[a],o[a])),h+=t;return u/6*(i/h)},e.translate=function(n,u,i){i=typeof i<"u"?i:1;var h=n.length,o=u.x*i,t=u.y*i,r;for(r=0;r<h;r++)n[r].x+=o,n[r].y+=t;return n},e.rotate=function(n,u,i){if(u!==0){var h=Math.cos(u),o=Math.sin(u),t=i.x,r=i.y,a=n.length,v,g,S,M;for(M=0;M<a;M++)v=n[M],g=v.x-t,S=v.y-r,v.x=t+(g*h-S*o),v.y=r+(g*o+S*h);return n}},e.contains=function(n,u){for(var i=u.x,h=u.y,o=n.length,t=n[o-1],r,a=0;a<o;a++){if(r=n[a],(i-t.x)*(r.y-t.y)+(h-t.y)*(t.x-r.x)>0)return!1;t=r}return!0},e.scale=function(n,u,i,h){if(u===1&&i===1)return n;h=h||e.centre(n);for(var o,t,r=0;r<n.length;r++)o=n[r],t=l.sub(o,h),n[r].x=h.x+t.x*u,n[r].y=h.y+t.y*i;return n},e.chamfer=function(n,u,i,h,o){typeof u=="number"?u=[u]:u=u||[8],i=typeof i<"u"?i:-1,h=h||2,o=o||14;for(var t=[],r=0;r<n.length;r++){var a=n[r-1>=0?r-1:n.length-1],v=n[r],g=n[(r+1)%n.length],S=u[r<u.length?r:u.length-1];if(S===0){t.push(v);continue}var M=l.normalise({x:v.y-a.y,y:a.x-v.x}),T=l.normalise({x:g.y-v.y,y:v.x-g.x}),d=Math.sqrt(2*Math.pow(S,2)),y=l.mult(s.clone(M),S),w=l.normalise(l.mult(l.add(M,T),.5)),x=l.sub(v,l.mult(w,d)),E=i;i===-1&&(E=Math.pow(S,.32)*1.75),E=s.clamp(E,h,o),E%2===1&&(E+=1);for(var P=Math.acos(l.dot(M,T)),I=P/E,A=0;A<E;A++)t.push(l.add(l.rotate(y,I*A),x))}return t},e.clockwiseSort=function(n){var u=e.mean(n);return n.sort(function(i,h){return l.angle(u,i)-l.angle(u,h)}),n},e.isConvex=function(n){var u=0,i=n.length,h,o,t,r;if(i<3)return null;for(h=0;h<i;h++)if(o=(h+1)%i,t=(h+2)%i,r=(n[o].x-n[h].x)*(n[t].y-n[o].y),r-=(n[o].y-n[h].y)*(n[t].x-n[o].x),r<0?u|=1:r>0&&(u|=2),u===3)return!1;return u!==0?!0:null},e.hull=function(n){var u=[],i=[],h,o;for(n=n.slice(0),n.sort(function(t,r){var a=t.x-r.x;return a!==0?a:t.y-r.y}),o=0;o<n.length;o+=1){for(h=n[o];i.length>=2&&l.cross3(i[i.length-2],i[i.length-1],h)<=0;)i.pop();i.push(h)}for(o=n.length-1;o>=0;o-=1){for(h=n[o];u.length>=2&&l.cross3(u[u.length-2],u[u.length-1],h)<=0;)u.pop();u.push(h)}return u.pop(),i.pop(),u.concat(i)}})()},function(p,C,f){var e={};p.exports=e;var l=f(3),s=f(2),n=f(7),u=f(0),i=f(1),h=f(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var r={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},a=u.extend(r,t);return o(a,t),a},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var o=function(t,r){r=r||{},e.set(t,{bounds:t.bounds||i.create(t.vertices),positionPrev:t.positionPrev||s.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),l.rotate(t.vertices,t.angle,t.position),h.rotate(t.axes,t.angle),i.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:r.axes||t.axes,area:r.area||t.area,mass:r.mass||t.mass,inertia:r.inertia||t.inertia});var a=t.isStatic?"#14151f":u.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),v=t.isStatic?"#555":"#ccc",g=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||a,t.render.strokeStyle=t.render.strokeStyle||v,t.render.lineWidth=t.render.lineWidth||g,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,r,a){var v;typeof r=="string"&&(v=r,r={},r[v]=a);for(v in r)if(Object.prototype.hasOwnProperty.call(r,v))switch(a=r[v],v){case"isStatic":e.setStatic(t,a);break;case"isSleeping":n.set(t,a);break;case"mass":e.setMass(t,a);break;case"density":e.setDensity(t,a);break;case"inertia":e.setInertia(t,a);break;case"vertices":e.setVertices(t,a);break;case"position":e.setPosition(t,a);break;case"angle":e.setAngle(t,a);break;case"velocity":e.setVelocity(t,a);break;case"angularVelocity":e.setAngularVelocity(t,a);break;case"speed":e.setSpeed(t,a);break;case"angularSpeed":e.setAngularSpeed(t,a);break;case"parts":e.setParts(t,a);break;case"centre":e.setCentre(t,a);break;default:t[v]=a}},e.setStatic=function(t,r){for(var a=0;a<t.parts.length;a++){var v=t.parts[a];r?(v.isStatic||(v._original={restitution:v.restitution,friction:v.friction,mass:v.mass,inertia:v.inertia,density:v.density,inverseMass:v.inverseMass,inverseInertia:v.inverseInertia}),v.restitution=0,v.friction=1,v.mass=v.inertia=v.density=1/0,v.inverseMass=v.inverseInertia=0,v.positionPrev.x=v.position.x,v.positionPrev.y=v.position.y,v.anglePrev=v.angle,v.angularVelocity=0,v.speed=0,v.angularSpeed=0,v.motion=0):v._original&&(v.restitution=v._original.restitution,v.friction=v._original.friction,v.mass=v._original.mass,v.inertia=v._original.inertia,v.density=v._original.density,v.inverseMass=v._original.inverseMass,v.inverseInertia=v._original.inverseInertia,v._original=null),v.isStatic=r}},e.setMass=function(t,r){var a=t.inertia/(t.mass/6);t.inertia=a*(r/6),t.inverseInertia=1/t.inertia,t.mass=r,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,r){e.setMass(t,r*t.area),t.density=r},e.setInertia=function(t,r){t.inertia=r,t.inverseInertia=1/t.inertia},e.setVertices=function(t,r){r[0].body===t?t.vertices=r:t.vertices=l.create(r,t),t.axes=h.fromVertices(t.vertices),t.area=l.area(t.vertices),e.setMass(t,t.density*t.area);var a=l.centre(t.vertices);l.translate(t.vertices,a,-1),e.setInertia(t,e._inertiaScale*l.inertia(t.vertices,t.mass)),l.translate(t.vertices,t.position),i.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,r,a){var v;for(r=r.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,v=0;v<r.length;v++){var g=r[v];g!==t&&(g.parent=t,t.parts.push(g))}if(t.parts.length!==1){if(a=typeof a<"u"?a:!0,a){var S=[];for(v=0;v<r.length;v++)S=S.concat(r[v].vertices);l.clockwiseSort(S);var M=l.hull(S),T=l.centre(M);e.setVertices(t,M),l.translate(t.vertices,T)}var d=e._totalProperties(t);t.area=d.area,t.parent=t,t.position.x=d.centre.x,t.position.y=d.centre.y,t.positionPrev.x=d.centre.x,t.positionPrev.y=d.centre.y,e.setMass(t,d.mass),e.setInertia(t,d.inertia),e.setPosition(t,d.centre)}},e.setCentre=function(t,r,a){a?(t.positionPrev.x+=r.x,t.positionPrev.y+=r.y,t.position.x+=r.x,t.position.y+=r.y):(t.positionPrev.x=r.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=r.y-(t.position.y-t.positionPrev.y),t.position.x=r.x,t.position.y=r.y)},e.setPosition=function(t,r,a){var v=s.sub(r,t.position);a?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=v.x,t.velocity.y=v.y,t.speed=s.magnitude(v)):(t.positionPrev.x+=v.x,t.positionPrev.y+=v.y);for(var g=0;g<t.parts.length;g++){var S=t.parts[g];S.position.x+=v.x,S.position.y+=v.y,l.translate(S.vertices,v),i.update(S.bounds,S.vertices,t.velocity)}},e.setAngle=function(t,r,a){var v=r-t.angle;a?(t.anglePrev=t.angle,t.angularVelocity=v,t.angularSpeed=Math.abs(v)):t.anglePrev+=v;for(var g=0;g<t.parts.length;g++){var S=t.parts[g];S.angle+=v,l.rotate(S.vertices,v,t.position),h.rotate(S.axes,v),i.update(S.bounds,S.vertices,t.velocity),g>0&&s.rotateAbout(S.position,v,t.position,S.position)}},e.setVelocity=function(t,r){var a=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-r.x*a,t.positionPrev.y=t.position.y-r.y*a,t.velocity.x=(t.position.x-t.positionPrev.x)/a,t.velocity.y=(t.position.y-t.positionPrev.y)/a,t.speed=s.magnitude(t.velocity)},e.getVelocity=function(t){var r=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*r,y:(t.position.y-t.positionPrev.y)*r}},e.getSpeed=function(t){return s.magnitude(e.getVelocity(t))},e.setSpeed=function(t,r){e.setVelocity(t,s.mult(s.normalise(e.getVelocity(t)),r))},e.setAngularVelocity=function(t,r){var a=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-r*a,t.angularVelocity=(t.angle-t.anglePrev)/a,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,r){e.setAngularVelocity(t,u.sign(e.getAngularVelocity(t))*r)},e.translate=function(t,r,a){e.setPosition(t,s.add(t.position,r),a)},e.rotate=function(t,r,a,v){if(!a)e.setAngle(t,t.angle+r,v);else{var g=Math.cos(r),S=Math.sin(r),M=t.position.x-a.x,T=t.position.y-a.y;e.setPosition(t,{x:a.x+(M*g-T*S),y:a.y+(M*S+T*g)},v),e.setAngle(t,t.angle+r,v)}},e.scale=function(t,r,a,v){var g=0,S=0;v=v||t.position;for(var M=0;M<t.parts.length;M++){var T=t.parts[M];l.scale(T.vertices,r,a,v),T.axes=h.fromVertices(T.vertices),T.area=l.area(T.vertices),e.setMass(T,t.density*T.area),l.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),e.setInertia(T,e._inertiaScale*l.inertia(T.vertices,T.mass)),l.translate(T.vertices,{x:T.position.x,y:T.position.y}),M>0&&(g+=T.area,S+=T.inertia),T.position.x=v.x+(T.position.x-v.x)*r,T.position.y=v.y+(T.position.y-v.y)*a,i.update(T.bounds,T.vertices,t.velocity)}t.parts.length>1&&(t.area=g,t.isStatic||(e.setMass(t,t.density*g),e.setInertia(t,S))),t.circleRadius&&(r===a?t.circleRadius*=r:t.circleRadius=null)},e.update=function(t,r){r=(typeof r<"u"?r:1e3/60)*t.timeScale;var a=r*r,v=e._timeCorrection?r/(t.deltaTime||r):1,g=1-t.frictionAir*(r/u._baseDelta),S=(t.position.x-t.positionPrev.x)*v,M=(t.position.y-t.positionPrev.y)*v;t.velocity.x=S*g+t.force.x/t.mass*a,t.velocity.y=M*g+t.force.y/t.mass*a,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=r,t.angularVelocity=(t.angle-t.anglePrev)*g*v+t.torque/t.inertia*a,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var T=0;T<t.parts.length;T++){var d=t.parts[T];l.translate(d.vertices,t.velocity),T>0&&(d.position.x+=t.velocity.x,d.position.y+=t.velocity.y),t.angularVelocity!==0&&(l.rotate(d.vertices,t.angularVelocity,t.position),h.rotate(d.axes,t.angularVelocity),T>0&&s.rotateAbout(d.position,t.angularVelocity,t.position,d.position)),i.update(d.bounds,d.vertices,t.velocity)}},e.updateVelocities=function(t){var r=e._baseDelta/t.deltaTime,a=t.velocity;a.x=(t.position.x-t.positionPrev.x)*r,a.y=(t.position.y-t.positionPrev.y)*r,t.speed=Math.sqrt(a.x*a.x+a.y*a.y),t.angularVelocity=(t.angle-t.anglePrev)*r,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,r,a){var v={x:r.x-t.position.x,y:r.y-t.position.y};t.force.x+=a.x,t.force.y+=a.y,t.torque+=v.x*a.y-v.y*a.x},e._totalProperties=function(t){for(var r={mass:0,area:0,inertia:0,centre:{x:0,y:0}},a=t.parts.length===1?0:1;a<t.parts.length;a++){var v=t.parts[a],g=v.mass!==1/0?v.mass:1;r.mass+=g,r.area+=v.area,r.inertia+=v.inertia,r.centre=s.add(r.centre,s.mult(v.position,g))}return r.centre=s.div(r.centre,r.mass),r}})()},function(p,C,f){var e={};p.exports=e;var l=f(0);(function(){e.on=function(s,n,u){for(var i=n.split(" "),h,o=0;o<i.length;o++)h=i[o],s.events=s.events||{},s.events[h]=s.events[h]||[],s.events[h].push(u);return u},e.off=function(s,n,u){if(!n){s.events={};return}typeof n=="function"&&(u=n,n=l.keys(s.events).join(" "));for(var i=n.split(" "),h=0;h<i.length;h++){var o=s.events[i[h]],t=[];if(u&&o)for(var r=0;r<o.length;r++)o[r]!==u&&t.push(o[r]);s.events[i[h]]=t}},e.trigger=function(s,n,u){var i,h,o,t,r=s.events;if(r&&l.keys(r).length>0){u||(u={}),i=n.split(" ");for(var a=0;a<i.length;a++)if(h=i[a],o=r[h],o){t=l.clone(u,!1),t.name=h,t.source=s;for(var v=0;v<o.length;v++)o[v].apply(s,[t])}}}})()},function(p,C,f){var e={};p.exports=e;var l=f(5),s=f(0),n=f(1),u=f(4);(function(){e.create=function(i){return s.extend({id:s.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},i)},e.setModified=function(i,h,o,t){if(i.isModified=h,h&&i.cache&&(i.cache.allBodies=null,i.cache.allConstraints=null,i.cache.allComposites=null),o&&i.parent&&e.setModified(i.parent,h,o,t),t)for(var r=0;r<i.composites.length;r++){var a=i.composites[r];e.setModified(a,h,o,t)}},e.add=function(i,h){var o=[].concat(h);l.trigger(i,"beforeAdd",{object:h});for(var t=0;t<o.length;t++){var r=o[t];switch(r.type){case"body":if(r.parent!==r){s.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(i,r);break;case"constraint":e.addConstraint(i,r);break;case"composite":e.addComposite(i,r);break;case"mouseConstraint":e.addConstraint(i,r.constraint);break}}return l.trigger(i,"afterAdd",{object:h}),i},e.remove=function(i,h,o){var t=[].concat(h);l.trigger(i,"beforeRemove",{object:h});for(var r=0;r<t.length;r++){var a=t[r];switch(a.type){case"body":e.removeBody(i,a,o);break;case"constraint":e.removeConstraint(i,a,o);break;case"composite":e.removeComposite(i,a,o);break;case"mouseConstraint":e.removeConstraint(i,a.constraint);break}}return l.trigger(i,"afterRemove",{object:h}),i},e.addComposite=function(i,h){return i.composites.push(h),h.parent=i,e.setModified(i,!0,!0,!1),i},e.removeComposite=function(i,h,o){var t=s.indexOf(i.composites,h);if(t!==-1){var r=e.allBodies(h);e.removeCompositeAt(i,t);for(var a=0;a<r.length;a++)r[a].sleepCounter=0}if(o)for(var a=0;a<i.composites.length;a++)e.removeComposite(i.composites[a],h,!0);return i},e.removeCompositeAt=function(i,h){return i.composites.splice(h,1),e.setModified(i,!0,!0,!1),i},e.addBody=function(i,h){return i.bodies.push(h),e.setModified(i,!0,!0,!1),i},e.removeBody=function(i,h,o){var t=s.indexOf(i.bodies,h);if(t!==-1&&(e.removeBodyAt(i,t),h.sleepCounter=0),o)for(var r=0;r<i.composites.length;r++)e.removeBody(i.composites[r],h,!0);return i},e.removeBodyAt=function(i,h){return i.bodies.splice(h,1),e.setModified(i,!0,!0,!1),i},e.addConstraint=function(i,h){return i.constraints.push(h),e.setModified(i,!0,!0,!1),i},e.removeConstraint=function(i,h,o){var t=s.indexOf(i.constraints,h);if(t!==-1&&e.removeConstraintAt(i,t),o)for(var r=0;r<i.composites.length;r++)e.removeConstraint(i.composites[r],h,!0);return i},e.removeConstraintAt=function(i,h){return i.constraints.splice(h,1),e.setModified(i,!0,!0,!1),i},e.clear=function(i,h,o){if(o)for(var t=0;t<i.composites.length;t++)e.clear(i.composites[t],h,!0);return h?i.bodies=i.bodies.filter(function(r){return r.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,e.setModified(i,!0,!0,!1),i},e.allBodies=function(i){if(i.cache&&i.cache.allBodies)return i.cache.allBodies;for(var h=[].concat(i.bodies),o=0;o<i.composites.length;o++)h=h.concat(e.allBodies(i.composites[o]));return i.cache&&(i.cache.allBodies=h),h},e.allConstraints=function(i){if(i.cache&&i.cache.allConstraints)return i.cache.allConstraints;for(var h=[].concat(i.constraints),o=0;o<i.composites.length;o++)h=h.concat(e.allConstraints(i.composites[o]));return i.cache&&(i.cache.allConstraints=h),h},e.allComposites=function(i){if(i.cache&&i.cache.allComposites)return i.cache.allComposites;for(var h=[].concat(i.composites),o=0;o<i.composites.length;o++)h=h.concat(e.allComposites(i.composites[o]));return i.cache&&(i.cache.allComposites=h),h},e.get=function(i,h,o){var t,r;switch(o){case"body":t=e.allBodies(i);break;case"constraint":t=e.allConstraints(i);break;case"composite":t=e.allComposites(i).concat(i);break}return t?(r=t.filter(function(a){return a.id.toString()===h.toString()}),r.length===0?null:r[0]):null},e.move=function(i,h,o){return e.remove(i,h),e.add(o,h),i},e.rebase=function(i){for(var h=e.allBodies(i).concat(e.allConstraints(i)).concat(e.allComposites(i)),o=0;o<h.length;o++)h[o].id=s.nextId();return i},e.translate=function(i,h,o){for(var t=o?e.allBodies(i):i.bodies,r=0;r<t.length;r++)u.translate(t[r],h);return i},e.rotate=function(i,h,o,t){for(var r=Math.cos(h),a=Math.sin(h),v=t?e.allBodies(i):i.bodies,g=0;g<v.length;g++){var S=v[g],M=S.position.x-o.x,T=S.position.y-o.y;u.setPosition(S,{x:o.x+(M*r-T*a),y:o.y+(M*a+T*r)}),u.rotate(S,h)}return i},e.scale=function(i,h,o,t,r){for(var a=r?e.allBodies(i):i.bodies,v=0;v<a.length;v++){var g=a[v],S=g.position.x-t.x,M=g.position.y-t.y;u.setPosition(g,{x:t.x+S*h,y:t.y+M*o}),u.scale(g,h,o)}return i},e.bounds=function(i){for(var h=e.allBodies(i),o=[],t=0;t<h.length;t+=1){var r=h[t];o.push(r.bounds.min,r.bounds.max)}return n.create(o)}})()},function(p,C,f){var e={};p.exports=e;var l=f(4),s=f(5),n=f(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(u,i){for(var h=i/n._baseDelta,o=e._motionSleepThreshold,t=0;t<u.length;t++){var r=u[t],a=l.getSpeed(r),v=l.getAngularSpeed(r),g=a*a+v*v;if(r.force.x!==0||r.force.y!==0){e.set(r,!1);continue}var S=Math.min(r.motion,g),M=Math.max(r.motion,g);r.motion=e._minBias*S+(1-e._minBias)*M,r.sleepThreshold>0&&r.motion<o?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold/h&&e.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}},e.afterCollisions=function(u){for(var i=e._motionSleepThreshold,h=0;h<u.length;h++){var o=u[h];if(o.isActive){var t=o.collision,r=t.bodyA.parent,a=t.bodyB.parent;if(!(r.isSleeping&&a.isSleeping||r.isStatic||a.isStatic)&&(r.isSleeping||a.isSleeping)){var v=r.isSleeping&&!r.isStatic?r:a,g=v===r?a:r;!v.isStatic&&g.motion>i&&e.set(v,!1)}}}},e.set=function(u,i){var h=u.isSleeping;i?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,h||s.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,h&&s.trigger(u,"sleepEnd"))}})()},function(p,C,f){var e={};p.exports=e;var l=f(3),s=f(9);(function(){var n=[],u={overlap:0,axis:null},i={overlap:0,axis:null};e.create=function(h,o){return{pair:null,collided:!1,bodyA:h,bodyB:o,parentA:h.parent,parentB:o.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(h,o,t){if(e._overlapAxes(u,h.vertices,o.vertices,h.axes),u.overlap<=0||(e._overlapAxes(i,o.vertices,h.vertices,o.axes),i.overlap<=0))return null;var r=t&&t.table[s.id(h,o)],a;r?a=r.collision:(a=e.create(h,o),a.collided=!0,a.bodyA=h.id<o.id?h:o,a.bodyB=h.id<o.id?o:h,a.parentA=a.bodyA.parent,a.parentB=a.bodyB.parent),h=a.bodyA,o=a.bodyB;var v;u.overlap<i.overlap?v=u:v=i;var g=a.normal,S=a.tangent,M=a.penetration,T=a.supports,d=v.overlap,y=v.axis,w=y.x,x=y.y,E=o.position.x-h.position.x,P=o.position.y-h.position.y;w*E+x*P>=0&&(w=-w,x=-x),g.x=w,g.y=x,S.x=-x,S.y=w,M.x=w*d,M.y=x*d,a.depth=d;var I=e._findSupports(h,o,g,1),A=0;if(l.contains(h.vertices,I[0])&&(T[A++]=I[0]),l.contains(h.vertices,I[1])&&(T[A++]=I[1]),A<2){var B=e._findSupports(o,h,g,-1);l.contains(o.vertices,B[0])&&(T[A++]=B[0]),A<2&&l.contains(o.vertices,B[1])&&(T[A++]=B[1])}return A===0&&(T[A++]=I[0]),a.supportCount=A,a},e._overlapAxes=function(h,o,t,r){var a=o.length,v=t.length,g=o[0].x,S=o[0].y,M=t[0].x,T=t[0].y,d=r.length,y=Number.MAX_VALUE,w=0,x,E,P,I,A,B;for(A=0;A<d;A++){var R=r[A],L=R.x,F=R.y,D=g*L+S*F,k=M*L+T*F,V=D,U=k;for(B=1;B<a;B+=1)I=o[B].x*L+o[B].y*F,I>V?V=I:I<D&&(D=I);for(B=1;B<v;B+=1)I=t[B].x*L+t[B].y*F,I>U?U=I:I<k&&(k=I);if(E=V-k,P=U-D,x=E<P?E:P,x<y&&(y=x,w=A,x<=0))break}h.axis=r[w],h.overlap=y},e._findSupports=function(h,o,t,r){var a=o.vertices,v=a.length,g=h.position.x,S=h.position.y,M=t.x*r,T=t.y*r,d=a[0],y=d,w=M*(g-y.x)+T*(S-y.y),x,E,P;for(P=1;P<v;P+=1)y=a[P],E=M*(g-y.x)+T*(S-y.y),E<w&&(w=E,d=y);return x=a[(v+d.index-1)%v],w=M*(g-x.x)+T*(S-x.y),y=a[(d.index+1)%v],M*(g-y.x)+T*(S-y.y)<w?(n[0]=d,n[1]=y,n):(n[0]=d,n[1]=x,n)}})()},function(p,C,f){var e={};p.exports=e;var l=f(16);(function(){e.create=function(s,n){var u=s.bodyA,i=s.bodyB,h={id:e.id(u,i),bodyA:u,bodyB:i,collision:s,contacts:[l.create(),l.create()],contactCount:0,separation:0,isActive:!0,isSensor:u.isSensor||i.isSensor,timeCreated:n,timeUpdated:n,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(h,s,n),h},e.update=function(s,n,u){var i=n.supports,h=n.supportCount,o=s.contacts,t=n.parentA,r=n.parentB;s.isActive=!0,s.timeUpdated=u,s.collision=n,s.separation=n.depth,s.inverseMass=t.inverseMass+r.inverseMass,s.friction=t.friction<r.friction?t.friction:r.friction,s.frictionStatic=t.frictionStatic>r.frictionStatic?t.frictionStatic:r.frictionStatic,s.restitution=t.restitution>r.restitution?t.restitution:r.restitution,s.slop=t.slop>r.slop?t.slop:r.slop,s.contactCount=h,n.pair=s;var a=i[0],v=o[0],g=i[1],S=o[1];(S.vertex===a||v.vertex===g)&&(o[1]=v,o[0]=v=S,S=o[1]),v.vertex=a,S.vertex=g},e.setActive=function(s,n,u){n?(s.isActive=!0,s.timeUpdated=u):(s.isActive=!1,s.contactCount=0)},e.id=function(s,n){return s.id<n.id?s.id.toString(36)+":"+n.id.toString(36):n.id.toString(36)+":"+s.id.toString(36)}})()},function(p,C,f){var e={};p.exports=e;var l=f(3),s=f(2),n=f(7),u=f(1),i=f(11),h=f(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(o){var t=o;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var r=t.bodyA?s.add(t.bodyA.position,t.pointA):t.pointA,a=t.bodyB?s.add(t.bodyB.position,t.pointB):t.pointB,v=s.magnitude(s.sub(r,a));t.length=typeof t.length<"u"?t.length:v,t.id=t.id||h.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var g={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(g.type="pin",g.anchors=!1):t.stiffness<.9&&(g.type="spring"),t.render=h.extend(g,t.render),t},e.preSolveAll=function(o){for(var t=0;t<o.length;t+=1){var r=o[t],a=r.constraintImpulse;r.isStatic||a.x===0&&a.y===0&&a.angle===0||(r.position.x+=a.x,r.position.y+=a.y,r.angle+=a.angle)}},e.solveAll=function(o,t){for(var r=h.clamp(t/h._baseDelta,0,1),a=0;a<o.length;a+=1){var v=o[a],g=!v.bodyA||v.bodyA&&v.bodyA.isStatic,S=!v.bodyB||v.bodyB&&v.bodyB.isStatic;(g||S)&&e.solve(o[a],r)}for(a=0;a<o.length;a+=1)v=o[a],g=!v.bodyA||v.bodyA&&v.bodyA.isStatic,S=!v.bodyB||v.bodyB&&v.bodyB.isStatic,!g&&!S&&e.solve(o[a],r)},e.solve=function(o,t){var r=o.bodyA,a=o.bodyB,v=o.pointA,g=o.pointB;if(!(!r&&!a)){r&&!r.isStatic&&(s.rotate(v,r.angle-o.angleA,v),o.angleA=r.angle),a&&!a.isStatic&&(s.rotate(g,a.angle-o.angleB,g),o.angleB=a.angle);var S=v,M=g;if(r&&(S=s.add(r.position,v)),a&&(M=s.add(a.position,g)),!(!S||!M)){var T=s.sub(S,M),d=s.magnitude(T);d<e._minLength&&(d=e._minLength);var y=(d-o.length)/d,w=o.stiffness>=1||o.length===0,x=w?o.stiffness*t:o.stiffness*t*t,E=o.damping*t,P=s.mult(T,y*x),I=(r?r.inverseMass:0)+(a?a.inverseMass:0),A=(r?r.inverseInertia:0)+(a?a.inverseInertia:0),B=I+A,R,L,F,D,k;if(E>0){var V=s.create();F=s.div(T,d),k=s.sub(a&&s.sub(a.position,a.positionPrev)||V,r&&s.sub(r.position,r.positionPrev)||V),D=s.dot(F,k)}r&&!r.isStatic&&(L=r.inverseMass/I,r.constraintImpulse.x-=P.x*L,r.constraintImpulse.y-=P.y*L,r.position.x-=P.x*L,r.position.y-=P.y*L,E>0&&(r.positionPrev.x-=E*F.x*D*L,r.positionPrev.y-=E*F.y*D*L),R=s.cross(v,P)/B*e._torqueDampen*r.inverseInertia*(1-o.angularStiffness),r.constraintImpulse.angle-=R,r.angle-=R),a&&!a.isStatic&&(L=a.inverseMass/I,a.constraintImpulse.x+=P.x*L,a.constraintImpulse.y+=P.y*L,a.position.x+=P.x*L,a.position.y+=P.y*L,E>0&&(a.positionPrev.x+=E*F.x*D*L,a.positionPrev.y+=E*F.y*D*L),R=s.cross(g,P)/B*e._torqueDampen*a.inverseInertia*(1-o.angularStiffness),a.constraintImpulse.angle+=R,a.angle+=R)}}},e.postSolveAll=function(o){for(var t=0;t<o.length;t++){var r=o[t],a=r.constraintImpulse;if(!(r.isStatic||a.x===0&&a.y===0&&a.angle===0)){n.set(r,!1);for(var v=0;v<r.parts.length;v++){var g=r.parts[v];l.translate(g.vertices,a),v>0&&(g.position.x+=a.x,g.position.y+=a.y),a.angle!==0&&(l.rotate(g.vertices,a.angle,r.position),i.rotate(g.axes,a.angle),v>0&&s.rotateAbout(g.position,a.angle,r.position,g.position)),u.update(g.bounds,g.vertices,r.velocity)}a.angle*=e._warming,a.x*=e._warming,a.y*=e._warming}}},e.pointAWorld=function(o){return{x:(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),y:(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0)}},e.pointBWorld=function(o){return{x:(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),y:(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0)}},e.currentLength=function(o){var t=(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),r=(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0),a=(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),v=(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0),g=t-a,S=r-v;return Math.sqrt(g*g+S*S)}})()},function(p,C,f){var e={};p.exports=e;var l=f(2),s=f(0);(function(){e.fromVertices=function(n){for(var u={},i=0;i<n.length;i++){var h=(i+1)%n.length,o=l.normalise({x:n[h].y-n[i].y,y:n[i].x-n[h].x}),t=o.y===0?1/0:o.x/o.y;t=t.toFixed(3).toString(),u[t]=o}return s.values(u)},e.rotate=function(n,u){if(u!==0)for(var i=Math.cos(u),h=Math.sin(u),o=0;o<n.length;o++){var t=n[o],r;r=t.x*i-t.y*h,t.y=t.x*h+t.y*i,t.x=r}}})()},function(p,C,f){var e={};p.exports=e;var l=f(3),s=f(0),n=f(4),u=f(1),i=f(2);(function(){e.rectangle=function(h,o,t,r,a){a=a||{};var v={label:"Rectangle Body",position:{x:h,y:o},vertices:l.fromPath("L 0 0 L "+t+" 0 L "+t+" "+r+" L 0 "+r)};if(a.chamfer){var g=a.chamfer;v.vertices=l.chamfer(v.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete a.chamfer}return n.create(s.extend({},v,a))},e.trapezoid=function(h,o,t,r,a,v){v=v||{},a>=1&&s.warn("Bodies.trapezoid: slope parameter must be < 1."),a*=.5;var g=(1-a*2)*t,S=t*a,M=S+g,T=M+S,d;a<.5?d="L 0 0 L "+S+" "+-r+" L "+M+" "+-r+" L "+T+" 0":d="L 0 0 L "+M+" "+-r+" L "+T+" 0";var y={label:"Trapezoid Body",position:{x:h,y:o},vertices:l.fromPath(d)};if(v.chamfer){var w=v.chamfer;y.vertices=l.chamfer(y.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete v.chamfer}return n.create(s.extend({},y,v))},e.circle=function(h,o,t,r,a){r=r||{};var v={label:"Circle Body",circleRadius:t};a=a||25;var g=Math.ceil(Math.max(10,Math.min(a,t)));return g%2===1&&(g+=1),e.polygon(h,o,g,t,s.extend({},v,r))},e.polygon=function(h,o,t,r,a){if(a=a||{},t<3)return e.circle(h,o,r,a);for(var v=2*Math.PI/t,g="",S=v*.5,M=0;M<t;M+=1){var T=S+M*v,d=Math.cos(T)*r,y=Math.sin(T)*r;g+="L "+d.toFixed(3)+" "+y.toFixed(3)+" "}var w={label:"Polygon Body",position:{x:h,y:o},vertices:l.fromPath(g)};if(a.chamfer){var x=a.chamfer;w.vertices=l.chamfer(w.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete a.chamfer}return n.create(s.extend({},w,a))},e.fromVertices=function(h,o,t,r,a,v,g,S){var M=s.getDecomp(),T,d,y,w,x,E,P,I,A,B,R;for(T=!!(M&&M.quickDecomp),r=r||{},y=[],a=typeof a<"u"?a:!1,v=typeof v<"u"?v:.01,g=typeof g<"u"?g:10,S=typeof S<"u"?S:.01,s.isArray(t[0])||(t=[t]),B=0;B<t.length;B+=1)if(E=t[B],w=l.isConvex(E),x=!w,x&&!T&&s.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),w||!T)w?E=l.clockwiseSort(E):E=l.hull(E),y.push({position:{x:h,y:o},vertices:E});else{var L=E.map(function(b){return[b.x,b.y]});M.makeCCW(L),v!==!1&&M.removeCollinearPoints(L,v),S!==!1&&M.removeDuplicatePoints&&M.removeDuplicatePoints(L,S);var F=M.quickDecomp(L);for(P=0;P<F.length;P++){var D=F[P],k=D.map(function(b){return{x:b[0],y:b[1]}});g>0&&l.area(k)<g||y.push({position:l.centre(k),vertices:k})}}for(P=0;P<y.length;P++)y[P]=n.create(s.extend(y[P],r));if(a){var V=5;for(P=0;P<y.length;P++){var U=y[P];for(I=P+1;I<y.length;I++){var W=y[I];if(u.overlaps(U.bounds,W.bounds)){var $=U.vertices,K=W.vertices;for(A=0;A<U.vertices.length;A++)for(R=0;R<W.vertices.length;R++){var he=i.magnitudeSquared(i.sub($[(A+1)%$.length],K[R])),re=i.magnitudeSquared(i.sub($[A],K[(R+1)%K.length]));he<V&&re<V&&($[A].isInternal=!0,K[R].isInternal=!0)}}}}}return y.length>1?(d=n.create(s.extend({parts:y.slice(0)},r)),n.setPosition(d,{x:h,y:o}),d):y[0]}})()},function(p,C,f){var e={};p.exports=e;var l=f(0),s=f(8);(function(){e.create=function(n){var u={bodies:[],collisions:[],pairs:null};return l.extend(u,n)},e.setBodies=function(n,u){n.bodies=u.slice(0)},e.clear=function(n){n.bodies=[],n.collisions=[]},e.collisions=function(n){var u=n.pairs,i=n.bodies,h=i.length,o=e.canCollide,t=s.collides,r=n.collisions,a=0,v,g;for(i.sort(e._compareBoundsX),v=0;v<h;v++){var S=i[v],M=S.bounds,T=S.bounds.max.x,d=S.bounds.max.y,y=S.bounds.min.y,w=S.isStatic||S.isSleeping,x=S.parts.length,E=x===1;for(g=v+1;g<h;g++){var P=i[g],I=P.bounds;if(I.min.x>T)break;if(!(d<I.min.y||y>I.max.y)&&!(w&&(P.isStatic||P.isSleeping))&&o(S.collisionFilter,P.collisionFilter)){var A=P.parts.length;if(E&&A===1){var B=t(S,P,u);B&&(r[a++]=B)}else for(var R=x>1?1:0,L=A>1?1:0,F=R;F<x;F++)for(var D=S.parts[F],M=D.bounds,k=L;k<A;k++){var V=P.parts[k],I=V.bounds;if(!(M.min.x>I.max.x||M.max.x<I.min.x||M.max.y<I.min.y||M.min.y>I.max.y)){var B=t(D,V,u);B&&(r[a++]=B)}}}}}return r.length!==a&&(r.length=a),r},e.canCollide=function(n,u){return n.group===u.group&&n.group!==0?n.group>0:(n.mask&u.category)!==0&&(u.mask&n.category)!==0},e._compareBoundsX=function(n,u){return n.bounds.min.x-u.bounds.min.x}})()},function(p,C,f){var e={};p.exports=e;var l=f(0);(function(){e.create=function(s){var n={};return s||l.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=s||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=parseInt(n.element.getAttribute("data-pixel-ratio"),10)||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(u){var i=e._getRelativeMousePosition(u,n.element,n.pixelRatio),h=u.changedTouches;h&&(n.button=0,u.preventDefault()),n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=u},n.mousedown=function(u){var i=e._getRelativeMousePosition(u,n.element,n.pixelRatio),h=u.changedTouches;h?(n.button=0,u.preventDefault()):n.button=u.button,n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=u},n.mouseup=function(u){var i=e._getRelativeMousePosition(u,n.element,n.pixelRatio),h=u.changedTouches;h&&u.preventDefault(),n.button=-1,n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=u},n.mousewheel=function(u){n.wheelDelta=Math.max(-1,Math.min(1,u.wheelDelta||-u.detail)),u.preventDefault(),n.sourceEvents.mousewheel=u},e.setElement(n,n.element),n},e.setElement=function(s,n){s.element=n,n.addEventListener("mousemove",s.mousemove,{passive:!0}),n.addEventListener("mousedown",s.mousedown,{passive:!0}),n.addEventListener("mouseup",s.mouseup,{passive:!0}),n.addEventListener("wheel",s.mousewheel,{passive:!1}),n.addEventListener("touchmove",s.mousemove,{passive:!1}),n.addEventListener("touchstart",s.mousedown,{passive:!1}),n.addEventListener("touchend",s.mouseup,{passive:!1})},e.clearSourceEvents=function(s){s.sourceEvents.mousemove=null,s.sourceEvents.mousedown=null,s.sourceEvents.mouseup=null,s.sourceEvents.mousewheel=null,s.wheelDelta=0},e.setOffset=function(s,n){s.offset.x=n.x,s.offset.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e.setScale=function(s,n){s.scale.x=n.x,s.scale.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y},e._getRelativeMousePosition=function(s,n,u){var i=n.getBoundingClientRect(),h=document.documentElement||document.body.parentNode||document.body,o=window.pageXOffset!==void 0?window.pageXOffset:h.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:h.scrollTop,r=s.changedTouches,a,v;return r?(a=r[0].pageX-i.left-o,v=r[0].pageY-i.top-t):(a=s.pageX-i.left-o,v=s.pageY-i.top-t),{x:a/(n.clientWidth/(n.width||n.clientWidth)*u),y:v/(n.clientHeight/(n.height||n.clientHeight)*u)}}})()},function(p,C,f){var e={};p.exports=e;var l=f(0);(function(){e._registry={},e.register=function(s){if(e.isPlugin(s)||l.warn("Plugin.register:",e.toString(s),"does not implement all required fields."),s.name in e._registry){var n=e._registry[s.name],u=e.versionParse(s.version).number,i=e.versionParse(n.version).number;u>i?(l.warn("Plugin.register:",e.toString(n),"was upgraded to",e.toString(s)),e._registry[s.name]=s):u<i?l.warn("Plugin.register:",e.toString(n),"can not be downgraded to",e.toString(s)):s!==n&&l.warn("Plugin.register:",e.toString(s),"is already registered to different plugin object")}else e._registry[s.name]=s;return s},e.resolve=function(s){return e._registry[e.dependencyParse(s).name]},e.toString=function(s){return typeof s=="string"?s:(s.name||"anonymous")+"@"+(s.version||s.range||"0.0.0")},e.isPlugin=function(s){return s&&s.name&&s.version&&s.install},e.isUsed=function(s,n){return s.used.indexOf(n)>-1},e.isFor=function(s,n){var u=s.for&&e.dependencyParse(s.for);return!s.for||n.name===u.name&&e.versionSatisfies(n.version,u.range)},e.use=function(s,n){if(s.uses=(s.uses||[]).concat(n||[]),s.uses.length===0){l.warn("Plugin.use:",e.toString(s),"does not specify any dependencies to install.");return}for(var u=e.dependencies(s),i=l.topologicalSort(u),h=[],o=0;o<i.length;o+=1)if(i[o]!==s.name){var t=e.resolve(i[o]);if(!t){h.push("❌ "+i[o]);continue}e.isUsed(s,t.name)||(e.isFor(t,s)||(l.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(s)+"."),t._warned=!0),t.install?t.install(s):(l.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(h.push("🔶 "+e.toString(t)),delete t._warned):h.push("✅ "+e.toString(t)),s.used.push(t.name))}h.length>0&&l.info(h.join("  "))},e.dependencies=function(s,n){var u=e.dependencyParse(s),i=u.name;if(n=n||{},!(i in n)){s=e.resolve(s)||s,n[i]=l.map(s.uses||[],function(o){e.isPlugin(o)&&e.register(o);var t=e.dependencyParse(o),r=e.resolve(o);return r&&!e.versionSatisfies(r.version,t.range)?(l.warn("Plugin.dependencies:",e.toString(r),"does not satisfy",e.toString(t),"used by",e.toString(u)+"."),r._warned=!0,s._warned=!0):r||(l.warn("Plugin.dependencies:",e.toString(o),"used by",e.toString(u),"could not be resolved."),s._warned=!0),t.name});for(var h=0;h<n[i].length;h+=1)e.dependencies(n[i][h],n);return n}},e.dependencyParse=function(s){if(l.isString(s)){var n=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return n.test(s)||l.warn("Plugin.dependencyParse:",s,"is not a valid dependency string."),{name:s.split("@")[0],range:s.split("@")[1]||"*"}}return{name:s.name,range:s.range||s.version}},e.versionParse=function(s){var n=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;n.test(s)||l.warn("Plugin.versionParse:",s,"is not a valid version or range.");var u=n.exec(s),i=Number(u[4]),h=Number(u[5]),o=Number(u[6]);return{isRange:!!(u[1]||u[2]),version:u[3],range:s,operator:u[1]||u[2]||"",major:i,minor:h,patch:o,parts:[i,h,o],prerelease:u[7],number:i*1e8+h*1e4+o}},e.versionSatisfies=function(s,n){n=n||"*";var u=e.versionParse(n),i=e.versionParse(s);if(u.isRange){if(u.operator==="*"||s==="*")return!0;if(u.operator===">")return i.number>u.number;if(u.operator===">=")return i.number>=u.number;if(u.operator==="~")return i.major===u.major&&i.minor===u.minor&&i.patch>=u.patch;if(u.operator==="^")return u.major>0?i.major===u.major&&i.number>=u.number:u.minor>0?i.minor===u.minor&&i.patch>=u.patch:i.patch===u.patch}return s===n||s==="*"}})()},function(p,C){var f={};p.exports=f,function(){f.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(p,C,f){var e={};p.exports=e;var l=f(7),s=f(18),n=f(13),u=f(19),i=f(5),h=f(6),o=f(10),t=f(0),r=f(4);(function(){e._deltaMax=1e3/60,e.create=function(a){a=a||{};var v={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},g=t.extend(v,a);return g.world=a.world||h.create({label:"World"}),g.pairs=a.pairs||u.create(),g.detector=a.detector||n.create(),g.detector.pairs=g.pairs,g.grid={buckets:[]},g.world.gravity=g.gravity,g.broadphase=g.grid,g.metrics={},g},e.update=function(a,v){var g=t.now(),S=a.world,M=a.detector,T=a.pairs,d=a.timing,y=d.timestamp,w;v>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),v=typeof v<"u"?v:t._baseDelta,v*=d.timeScale,d.timestamp+=v,d.lastDelta=v;var x={timestamp:d.timestamp,delta:v};i.trigger(a,"beforeUpdate",x);var E=h.allBodies(S),P=h.allConstraints(S);for(S.isModified&&(n.setBodies(M,E),h.setModified(S,!1,!1,!0)),a.enableSleeping&&l.update(E,v),e._bodiesApplyGravity(E,a.gravity),v>0&&e._bodiesUpdate(E,v),i.trigger(a,"beforeSolve",x),o.preSolveAll(E),w=0;w<a.constraintIterations;w++)o.solveAll(P,v);o.postSolveAll(E);var I=n.collisions(M);u.update(T,I,y),a.enableSleeping&&l.afterCollisions(T.list),T.collisionStart.length>0&&i.trigger(a,"collisionStart",{pairs:T.collisionStart,timestamp:d.timestamp,delta:v});var A=t.clamp(20/a.positionIterations,0,1);for(s.preSolvePosition(T.list),w=0;w<a.positionIterations;w++)s.solvePosition(T.list,v,A);for(s.postSolvePosition(E),o.preSolveAll(E),w=0;w<a.constraintIterations;w++)o.solveAll(P,v);for(o.postSolveAll(E),s.preSolveVelocity(T.list),w=0;w<a.velocityIterations;w++)s.solveVelocity(T.list,v);return e._bodiesUpdateVelocities(E),T.collisionActive.length>0&&i.trigger(a,"collisionActive",{pairs:T.collisionActive,timestamp:d.timestamp,delta:v}),T.collisionEnd.length>0&&i.trigger(a,"collisionEnd",{pairs:T.collisionEnd,timestamp:d.timestamp,delta:v}),e._bodiesClearForces(E),i.trigger(a,"afterUpdate",x),a.timing.lastElapsed=t.now()-g,a},e.merge=function(a,v){if(t.extend(a,v),v.world){a.world=v.world,e.clear(a);for(var g=h.allBodies(a.world),S=0;S<g.length;S++){var M=g[S];l.set(M,!1),M.id=t.nextId()}}},e.clear=function(a){u.clear(a.pairs),n.clear(a.detector)},e._bodiesClearForces=function(a){for(var v=a.length,g=0;g<v;g++){var S=a[g];S.force.x=0,S.force.y=0,S.torque=0}},e._bodiesApplyGravity=function(a,v){var g=typeof v.scale<"u"?v.scale:.001,S=a.length;if(!(v.x===0&&v.y===0||g===0))for(var M=0;M<S;M++){var T=a[M];T.isStatic||T.isSleeping||(T.force.y+=T.mass*v.y*g,T.force.x+=T.mass*v.x*g)}},e._bodiesUpdate=function(a,v){for(var g=a.length,S=0;S<g;S++){var M=a[S];M.isStatic||M.isSleeping||r.update(M,v)}},e._bodiesUpdateVelocities=function(a){for(var v=a.length,g=0;g<v;g++)r.updateVelocities(a[g])}})()},function(p,C,f){var e={};p.exports=e;var l=f(3),s=f(0),n=f(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(u){var i,h,o,t=u.length;for(i=0;i<t;i++)h=u[i],h.isActive&&(o=h.contactCount,h.collision.parentA.totalContacts+=o,h.collision.parentB.totalContacts+=o)},e.solvePosition=function(u,i,h){var o,t,r,a,v,g,S,M,T=e._positionDampen*(h||1),d=s.clamp(i/s._baseDelta,0,1),y=u.length;for(o=0;o<y;o++)t=u[o],!(!t.isActive||t.isSensor)&&(r=t.collision,a=r.parentA,v=r.parentB,g=r.normal,t.separation=r.depth+g.x*(v.positionImpulse.x-a.positionImpulse.x)+g.y*(v.positionImpulse.y-a.positionImpulse.y));for(o=0;o<y;o++)t=u[o],!(!t.isActive||t.isSensor)&&(r=t.collision,a=r.parentA,v=r.parentB,g=r.normal,M=t.separation-t.slop*d,(a.isStatic||v.isStatic)&&(M*=2),a.isStatic||a.isSleeping||(S=T/a.totalContacts,a.positionImpulse.x+=g.x*M*S,a.positionImpulse.y+=g.y*M*S),v.isStatic||v.isSleeping||(S=T/v.totalContacts,v.positionImpulse.x-=g.x*M*S,v.positionImpulse.y-=g.y*M*S))},e.postSolvePosition=function(u){for(var i=e._positionWarming,h=u.length,o=l.translate,t=n.update,r=0;r<h;r++){var a=u[r],v=a.positionImpulse,g=v.x,S=v.y,M=a.velocity;if(a.totalContacts=0,g!==0||S!==0){for(var T=0;T<a.parts.length;T++){var d=a.parts[T];o(d.vertices,v),t(d.bounds,d.vertices,M),d.position.x+=g,d.position.y+=S}a.positionPrev.x+=g,a.positionPrev.y+=S,g*M.x+S*M.y<0?(v.x=0,v.y=0):(v.x*=i,v.y*=i)}}},e.preSolveVelocity=function(u){var i=u.length,h,o;for(h=0;h<i;h++){var t=u[h];if(!(!t.isActive||t.isSensor)){var r=t.contacts,a=t.contactCount,v=t.collision,g=v.parentA,S=v.parentB,M=v.normal,T=v.tangent;for(o=0;o<a;o++){var d=r[o],y=d.vertex,w=d.normalImpulse,x=d.tangentImpulse;if(w!==0||x!==0){var E=M.x*w+T.x*x,P=M.y*w+T.y*x;g.isStatic||g.isSleeping||(g.positionPrev.x+=E*g.inverseMass,g.positionPrev.y+=P*g.inverseMass,g.anglePrev+=g.inverseInertia*((y.x-g.position.x)*P-(y.y-g.position.y)*E)),S.isStatic||S.isSleeping||(S.positionPrev.x-=E*S.inverseMass,S.positionPrev.y-=P*S.inverseMass,S.anglePrev-=S.inverseInertia*((y.x-S.position.x)*P-(y.y-S.position.y)*E))}}}}},e.solveVelocity=function(u,i){var h=i/s._baseDelta,o=h*h,t=o*h,r=-e._restingThresh*h,a=e._restingThreshTangent,v=e._frictionNormalMultiplier*h,g=e._frictionMaxStatic,S=u.length,M,T,d,y;for(d=0;d<S;d++){var w=u[d];if(!(!w.isActive||w.isSensor)){var x=w.collision,E=x.parentA,P=x.parentB,I=x.normal.x,A=x.normal.y,B=x.tangent.x,R=x.tangent.y,L=w.inverseMass,F=w.friction*w.frictionStatic*v,D=w.contacts,k=w.contactCount,V=1/k,U=E.position.x-E.positionPrev.x,W=E.position.y-E.positionPrev.y,$=E.angle-E.anglePrev,K=P.position.x-P.positionPrev.x,he=P.position.y-P.positionPrev.y,re=P.angle-P.anglePrev;for(y=0;y<k;y++){var b=D[y],ae=b.vertex,z=ae.x-E.position.x,De=ae.y-E.position.y,oe=ae.x-P.position.x,le=ae.y-P.position.y,Y=U-De*$,Pn=W+z*$,Cn=K-le*re,Mn=he+oe*re,Ct=Y-Cn,Mt=Pn-Mn,et=I*Ct+A*Mt,ue=B*Ct+R*Mt,Et=w.separation+et,tt=Math.min(Et,1);tt=Et<0?0:tt;var It=tt*F;ue<-It||ue>It?(T=ue>0?ue:-ue,M=w.friction*(ue>0?1:-1)*t,M<-T?M=-T:M>T&&(M=T)):(M=ue,T=g);var At=z*A-De*I,Tt=oe*A-le*I,Bt=V/(L+E.inverseInertia*At*At+P.inverseInertia*Tt*Tt),He=(1+w.restitution)*et*Bt;if(M*=Bt,et<r)b.normalImpulse=0;else{var En=b.normalImpulse;b.normalImpulse+=He,b.normalImpulse>0&&(b.normalImpulse=0),He=b.normalImpulse-En}if(ue<-a||ue>a)b.tangentImpulse=0;else{var In=b.tangentImpulse;b.tangentImpulse+=M,b.tangentImpulse<-T&&(b.tangentImpulse=-T),b.tangentImpulse>T&&(b.tangentImpulse=T),M=b.tangentImpulse-In}var Ne=I*He+B*M,Ue=A*He+R*M;E.isStatic||E.isSleeping||(E.positionPrev.x+=Ne*E.inverseMass,E.positionPrev.y+=Ue*E.inverseMass,E.anglePrev+=(z*Ue-De*Ne)*E.inverseInertia),P.isStatic||P.isSleeping||(P.positionPrev.x-=Ne*P.inverseMass,P.positionPrev.y-=Ue*P.inverseMass,P.anglePrev-=(oe*Ue-le*Ne)*P.inverseInertia)}}}}})()},function(p,C,f){var e={};p.exports=e;var l=f(9),s=f(0);(function(){e.create=function(n){return s.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},n)},e.update=function(n,u,i){var h=l.update,o=l.create,t=l.setActive,r=n.table,a=n.list,v=a.length,g=v,S=n.collisionStart,M=n.collisionEnd,T=n.collisionActive,d=u.length,y=0,w=0,x=0,E,P,I;for(I=0;I<d;I++)E=u[I],P=E.pair,P?(P.isActive&&(T[x++]=P),h(P,E,i)):(P=o(E,i),r[P.id]=P,S[y++]=P,a[g++]=P);for(g=0,v=a.length,I=0;I<v;I++)P=a[I],P.timeUpdated>=i?a[g++]=P:(t(P,!1,i),P.collision.bodyA.sleepCounter>0&&P.collision.bodyB.sleepCounter>0?a[g++]=P:(M[w++]=P,delete r[P.id]));a.length!==g&&(a.length=g),S.length!==y&&(S.length=y),M.length!==w&&(M.length=w),T.length!==x&&(T.length=x)},e.clear=function(n){return n.table={},n.list.length=0,n.collisionStart.length=0,n.collisionActive.length=0,n.collisionEnd.length=0,n}})()},function(p,C,f){var e=p.exports=f(21);e.Axes=f(11),e.Bodies=f(12),e.Body=f(4),e.Bounds=f(1),e.Collision=f(8),e.Common=f(0),e.Composite=f(6),e.Composites=f(22),e.Constraint=f(10),e.Contact=f(16),e.Detector=f(13),e.Engine=f(17),e.Events=f(5),e.Grid=f(23),e.Mouse=f(14),e.MouseConstraint=f(24),e.Pair=f(9),e.Pairs=f(19),e.Plugin=f(15),e.Query=f(25),e.Render=f(26),e.Resolver=f(18),e.Runner=f(27),e.SAT=f(28),e.Sleeping=f(7),e.Svg=f(29),e.Vector=f(2),e.Vertices=f(3),e.World=f(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run ➤ use Matter.Runner.run(engine) instead")},function(p,C,f){var e={};p.exports=e;var l=f(15),s=f(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){l.use(e,Array.prototype.slice.call(arguments))},e.before=function(n,u){return n=n.replace(/^Matter./,""),s.chainPathBefore(e,n,u)},e.after=function(n,u){return n=n.replace(/^Matter./,""),s.chainPathAfter(e,n,u)}})()},function(p,C,f){var e={};p.exports=e;var l=f(6),s=f(10),n=f(0),u=f(4),i=f(12),h=n.deprecated;(function(){e.stack=function(o,t,r,a,v,g,S){for(var M=l.create({label:"Stack"}),T=o,d=t,y,w=0,x=0;x<a;x++){for(var E=0,P=0;P<r;P++){var I=S(T,d,P,x,y,w);if(I){var A=I.bounds.max.y-I.bounds.min.y,B=I.bounds.max.x-I.bounds.min.x;A>E&&(E=A),u.translate(I,{x:B*.5,y:A*.5}),T=I.bounds.max.x+v,l.addBody(M,I),y=I,w+=1}else T+=v}d+=E+g,T=o}return M},e.chain=function(o,t,r,a,v,g){for(var S=o.bodies,M=1;M<S.length;M++){var T=S[M-1],d=S[M],y=T.bounds.max.y-T.bounds.min.y,w=T.bounds.max.x-T.bounds.min.x,x=d.bounds.max.y-d.bounds.min.y,E=d.bounds.max.x-d.bounds.min.x,P={bodyA:T,pointA:{x:w*t,y:y*r},bodyB:d,pointB:{x:E*a,y:x*v}},I=n.extend(P,g);l.addConstraint(o,s.create(I))}return o.label+=" Chain",o},e.mesh=function(o,t,r,a,v){var g=o.bodies,S,M,T,d,y;for(S=0;S<r;S++){for(M=1;M<t;M++)T=g[M-1+S*t],d=g[M+S*t],l.addConstraint(o,s.create(n.extend({bodyA:T,bodyB:d},v)));if(S>0)for(M=0;M<t;M++)T=g[M+(S-1)*t],d=g[M+S*t],l.addConstraint(o,s.create(n.extend({bodyA:T,bodyB:d},v))),a&&M>0&&(y=g[M-1+(S-1)*t],l.addConstraint(o,s.create(n.extend({bodyA:y,bodyB:d},v)))),a&&M<t-1&&(y=g[M+1+(S-1)*t],l.addConstraint(o,s.create(n.extend({bodyA:y,bodyB:d},v))))}return o.label+=" Mesh",o},e.pyramid=function(o,t,r,a,v,g,S){return e.stack(o,t,r,a,v,g,function(M,T,d,y,w,x){var E=Math.min(a,Math.ceil(r/2)),P=w?w.bounds.max.x-w.bounds.min.x:0;if(!(y>E)){y=E-y;var I=y,A=r-1-y;if(!(d<I||d>A)){x===1&&u.translate(w,{x:(d+(r%2===1?1:-1))*P,y:0});var B=w?d*P:0;return S(o+B+d*v,T,d,y,w,x)}}})},e.newtonsCradle=function(o,t,r,a,v){for(var g=l.create({label:"Newtons Cradle"}),S=0;S<r;S++){var M=1.9,T=i.circle(o+S*(a*M),t+v,a,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=s.create({pointA:{x:o+S*(a*M),y:t},bodyB:T});l.addBody(g,T),l.addConstraint(g,d)}return g},h(e,"newtonsCradle","Composites.newtonsCradle ➤ moved to newtonsCradle example"),e.car=function(o,t,r,a,v){var g=u.nextGroup(!0),S=20,M=-r*.5+S,T=r*.5-S,d=0,y=l.create({label:"Car"}),w=i.rectangle(o,t,r,a,{collisionFilter:{group:g},chamfer:{radius:a*.5},density:2e-4}),x=i.circle(o+M,t+d,v,{collisionFilter:{group:g},friction:.8}),E=i.circle(o+T,t+d,v,{collisionFilter:{group:g},friction:.8}),P=s.create({bodyB:w,pointB:{x:M,y:d},bodyA:x,stiffness:1,length:0}),I=s.create({bodyB:w,pointB:{x:T,y:d},bodyA:E,stiffness:1,length:0});return l.addBody(y,w),l.addBody(y,x),l.addBody(y,E),l.addConstraint(y,P),l.addConstraint(y,I),y},h(e,"car","Composites.car ➤ moved to car example"),e.softBody=function(o,t,r,a,v,g,S,M,T,d){T=n.extend({inertia:1/0},T),d=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},d);var y=e.stack(o,t,r,a,v,g,function(w,x){return i.circle(w,x,M,T)});return e.mesh(y,r,a,S,d),y.label="Soft Body",y},h(e,"softBody","Composites.softBody ➤ moved to softBody and cloth examples")})()},function(p,C,f){var e={};p.exports=e;var l=f(9),s=f(0),n=s.deprecated;(function(){e.create=function(u){var i={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return s.extend(i,u)},e.update=function(u,i,h,o){var t,r,a,v=h.world,g=u.buckets,S,M,T=!1;for(t=0;t<i.length;t++){var d=i[t];if(!(d.isSleeping&&!o)&&!(v.bounds&&(d.bounds.max.x<v.bounds.min.x||d.bounds.min.x>v.bounds.max.x||d.bounds.max.y<v.bounds.min.y||d.bounds.min.y>v.bounds.max.y))){var y=e._getRegion(u,d);if(!d.region||y.id!==d.region.id||o){(!d.region||o)&&(d.region=y);var w=e._regionUnion(y,d.region);for(r=w.startCol;r<=w.endCol;r++)for(a=w.startRow;a<=w.endRow;a++){M=e._getBucketId(r,a),S=g[M];var x=r>=y.startCol&&r<=y.endCol&&a>=y.startRow&&a<=y.endRow,E=r>=d.region.startCol&&r<=d.region.endCol&&a>=d.region.startRow&&a<=d.region.endRow;!x&&E&&E&&S&&e._bucketRemoveBody(u,S,d),(d.region===y||x&&!E||o)&&(S||(S=e._createBucket(g,M)),e._bucketAddBody(u,S,d))}d.region=y,T=!0}}}T&&(u.pairsList=e._createActivePairsList(u))},n(e,"update","Grid.update ➤ replaced by Matter.Detector"),e.clear=function(u){u.buckets={},u.pairs={},u.pairsList=[]},n(e,"clear","Grid.clear ➤ replaced by Matter.Detector"),e._regionUnion=function(u,i){var h=Math.min(u.startCol,i.startCol),o=Math.max(u.endCol,i.endCol),t=Math.min(u.startRow,i.startRow),r=Math.max(u.endRow,i.endRow);return e._createRegion(h,o,t,r)},e._getRegion=function(u,i){var h=i.bounds,o=Math.floor(h.min.x/u.bucketWidth),t=Math.floor(h.max.x/u.bucketWidth),r=Math.floor(h.min.y/u.bucketHeight),a=Math.floor(h.max.y/u.bucketHeight);return e._createRegion(o,t,r,a)},e._createRegion=function(u,i,h,o){return{id:u+","+i+","+h+","+o,startCol:u,endCol:i,startRow:h,endRow:o}},e._getBucketId=function(u,i){return"C"+u+"R"+i},e._createBucket=function(u,i){var h=u[i]=[];return h},e._bucketAddBody=function(u,i,h){var o=u.pairs,t=l.id,r=i.length,a;for(a=0;a<r;a++){var v=i[a];if(!(h.id===v.id||h.isStatic&&v.isStatic)){var g=t(h,v),S=o[g];S?S[2]+=1:o[g]=[h,v,1]}}i.push(h)},e._bucketRemoveBody=function(u,i,h){var o=u.pairs,t=l.id,r;i.splice(s.indexOf(i,h),1);var a=i.length;for(r=0;r<a;r++){var v=o[t(h,i[r])];v&&(v[2]-=1)}},e._createActivePairsList=function(u){var i,h=u.pairs,o=s.keys(h),t=o.length,r=[],a;for(a=0;a<t;a++)i=h[o[a]],i[2]>0?r.push(i):delete h[o[a]];return r}})()},function(p,C,f){var e={};p.exports=e;var l=f(3),s=f(7),n=f(14),u=f(5),i=f(13),h=f(10),o=f(6),t=f(0),r=f(1);(function(){e.create=function(a,v){var g=(a?a.mouse:null)||(v?v.mouse:null);g||(a&&a.render&&a.render.canvas?g=n.create(a.render.canvas):v&&v.element?g=n.create(v.element):(g=n.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var S=h.create({label:"Mouse Constraint",pointA:g.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),M={type:"mouseConstraint",mouse:g,element:null,body:null,constraint:S,collisionFilter:{category:1,mask:4294967295,group:0}},T=t.extend(M,v);return u.on(a,"beforeUpdate",function(){var d=o.allBodies(a.world);e.update(T,d),e._triggerEvents(T)}),T},e.update=function(a,v){var g=a.mouse,S=a.constraint,M=a.body;if(g.button===0){if(S.bodyB)s.set(S.bodyB,!1),S.pointA=g.position;else for(var T=0;T<v.length;T++)if(M=v[T],r.contains(M.bounds,g.position)&&i.canCollide(M.collisionFilter,a.collisionFilter))for(var d=M.parts.length>1?1:0;d<M.parts.length;d++){var y=M.parts[d];if(l.contains(y.vertices,g.position)){S.pointA=g.position,S.bodyB=a.body=M,S.pointB={x:g.position.x-M.position.x,y:g.position.y-M.position.y},S.angleB=M.angle,s.set(M,!1),u.trigger(a,"startdrag",{mouse:g,body:M});break}}}else S.bodyB=a.body=null,S.pointB=null,M&&u.trigger(a,"enddrag",{mouse:g,body:M})},e._triggerEvents=function(a){var v=a.mouse,g=v.sourceEvents;g.mousemove&&u.trigger(a,"mousemove",{mouse:v}),g.mousedown&&u.trigger(a,"mousedown",{mouse:v}),g.mouseup&&u.trigger(a,"mouseup",{mouse:v}),n.clearSourceEvents(v)}})()},function(p,C,f){var e={};p.exports=e;var l=f(2),s=f(8),n=f(1),u=f(12),i=f(3);(function(){e.collides=function(h,o){for(var t=[],r=o.length,a=h.bounds,v=s.collides,g=n.overlaps,S=0;S<r;S++){var M=o[S],T=M.parts.length,d=T===1?0:1;if(g(M.bounds,a))for(var y=d;y<T;y++){var w=M.parts[y];if(g(w.bounds,a)){var x=v(w,h);if(x){t.push(x);break}}}}return t},e.ray=function(h,o,t,r){r=r||1e-100;for(var a=l.angle(o,t),v=l.magnitude(l.sub(o,t)),g=(t.x+o.x)*.5,S=(t.y+o.y)*.5,M=u.rectangle(g,S,v,r,{angle:a}),T=e.collides(M,h),d=0;d<T.length;d+=1){var y=T[d];y.body=y.bodyB=y.bodyA}return T},e.region=function(h,o,t){for(var r=[],a=0;a<h.length;a++){var v=h[a],g=n.overlaps(v.bounds,o);(g&&!t||!g&&t)&&r.push(v)}return r},e.point=function(h,o){for(var t=[],r=0;r<h.length;r++){var a=h[r];if(n.contains(a.bounds,o))for(var v=a.parts.length===1?0:1;v<a.parts.length;v++){var g=a.parts[v];if(n.contains(g.bounds,o)&&i.contains(g.vertices,o)){t.push(a);break}}}return t}})()},function(p,C,f){var e={};p.exports=e;var l=f(4),s=f(0),n=f(6),u=f(1),i=f(5),h=f(2),o=f(14);(function(){var t,r;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(d){window.setTimeout(function(){d(s.now())},1e3/60)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(d){var y={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!d.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},w=s.extend(y,d);return w.canvas&&(w.canvas.width=w.options.width||w.canvas.width,w.canvas.height=w.options.height||w.canvas.height),w.mouse=d.mouse,w.engine=d.engine,w.canvas=w.canvas||g(w.options.width,w.options.height),w.context=w.canvas.getContext("2d"),w.textures={},w.bounds=w.bounds||{min:{x:0,y:0},max:{x:w.canvas.width,y:w.canvas.height}},w.controller=e,w.options.showBroadphase=!1,w.options.pixelRatio!==1&&e.setPixelRatio(w,w.options.pixelRatio),s.isElement(w.element)&&w.element.appendChild(w.canvas),w},e.run=function(d){(function y(w){d.frameRequestId=t(y),a(d,w),e.world(d,w),d.context.setTransform(d.options.pixelRatio,0,0,d.options.pixelRatio,0,0),(d.options.showStats||d.options.showDebug)&&e.stats(d,d.context,w),(d.options.showPerformance||d.options.showDebug)&&e.performance(d,d.context,w),d.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(d){r(d.frameRequestId)},e.setPixelRatio=function(d,y){var w=d.options,x=d.canvas;y==="auto"&&(y=S(x)),w.pixelRatio=y,x.setAttribute("data-pixel-ratio",y),x.width=w.width*y,x.height=w.height*y,x.style.width=w.width+"px",x.style.height=w.height+"px"},e.setSize=function(d,y,w){d.options.width=y,d.options.height=w,d.bounds.max.x=d.bounds.min.x+y,d.bounds.max.y=d.bounds.min.y+w,d.options.pixelRatio!==1?e.setPixelRatio(d,d.options.pixelRatio):(d.canvas.width=y,d.canvas.height=w)},e.lookAt=function(d,y,w,x){x=typeof x<"u"?x:!0,y=s.isArray(y)?y:[y],w=w||{x:0,y:0};for(var E={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},P=0;P<y.length;P+=1){var I=y[P],A=I.bounds?I.bounds.min:I.min||I.position||I,B=I.bounds?I.bounds.max:I.max||I.position||I;A&&B&&(A.x<E.min.x&&(E.min.x=A.x),B.x>E.max.x&&(E.max.x=B.x),A.y<E.min.y&&(E.min.y=A.y),B.y>E.max.y&&(E.max.y=B.y))}var R=E.max.x-E.min.x+2*w.x,L=E.max.y-E.min.y+2*w.y,F=d.canvas.height,D=d.canvas.width,k=D/F,V=R/L,U=1,W=1;V>k?W=V/k:U=k/V,d.options.hasBounds=!0,d.bounds.min.x=E.min.x,d.bounds.max.x=E.min.x+R*U,d.bounds.min.y=E.min.y,d.bounds.max.y=E.min.y+L*W,x&&(d.bounds.min.x+=R*.5-R*U*.5,d.bounds.max.x+=R*.5-R*U*.5,d.bounds.min.y+=L*.5-L*W*.5,d.bounds.max.y+=L*.5-L*W*.5),d.bounds.min.x-=w.x,d.bounds.max.x-=w.x,d.bounds.min.y-=w.y,d.bounds.max.y-=w.y,d.mouse&&(o.setScale(d.mouse,{x:(d.bounds.max.x-d.bounds.min.x)/d.canvas.width,y:(d.bounds.max.y-d.bounds.min.y)/d.canvas.height}),o.setOffset(d.mouse,d.bounds.min))},e.startViewTransform=function(d){var y=d.bounds.max.x-d.bounds.min.x,w=d.bounds.max.y-d.bounds.min.y,x=y/d.options.width,E=w/d.options.height;d.context.setTransform(d.options.pixelRatio/x,0,0,d.options.pixelRatio/E,0,0),d.context.translate(-d.bounds.min.x,-d.bounds.min.y)},e.endViewTransform=function(d){d.context.setTransform(d.options.pixelRatio,0,0,d.options.pixelRatio,0,0)},e.world=function(d,y){var w=s.now(),x=d.engine,E=x.world,P=d.canvas,I=d.context,A=d.options,B=d.timing,R=n.allBodies(E),L=n.allConstraints(E),F=A.wireframes?A.wireframeBackground:A.background,D=[],k=[],V,U={timestamp:x.timing.timestamp};if(i.trigger(d,"beforeRender",U),d.currentBackground!==F&&T(d,F),I.globalCompositeOperation="source-in",I.fillStyle="transparent",I.fillRect(0,0,P.width,P.height),I.globalCompositeOperation="source-over",A.hasBounds){for(V=0;V<R.length;V++){var W=R[V];u.overlaps(W.bounds,d.bounds)&&D.push(W)}for(V=0;V<L.length;V++){var $=L[V],K=$.bodyA,he=$.bodyB,re=$.pointA,b=$.pointB;K&&(re=h.add(K.position,$.pointA)),he&&(b=h.add(he.position,$.pointB)),!(!re||!b)&&(u.contains(d.bounds,re)||u.contains(d.bounds,b))&&k.push($)}e.startViewTransform(d),d.mouse&&(o.setScale(d.mouse,{x:(d.bounds.max.x-d.bounds.min.x)/d.options.width,y:(d.bounds.max.y-d.bounds.min.y)/d.options.height}),o.setOffset(d.mouse,d.bounds.min))}else k=L,D=R,d.options.pixelRatio!==1&&d.context.setTransform(d.options.pixelRatio,0,0,d.options.pixelRatio,0,0);!A.wireframes||x.enableSleeping&&A.showSleeping?e.bodies(d,D,I):(A.showConvexHulls&&e.bodyConvexHulls(d,D,I),e.bodyWireframes(d,D,I)),A.showBounds&&e.bodyBounds(d,D,I),(A.showAxes||A.showAngleIndicator)&&e.bodyAxes(d,D,I),A.showPositions&&e.bodyPositions(d,D,I),A.showVelocity&&e.bodyVelocity(d,D,I),A.showIds&&e.bodyIds(d,D,I),A.showSeparations&&e.separations(d,x.pairs.list,I),A.showCollisions&&e.collisions(d,x.pairs.list,I),A.showVertexNumbers&&e.vertexNumbers(d,D,I),A.showMousePosition&&e.mousePosition(d,d.mouse,I),e.constraints(k,I),A.hasBounds&&e.endViewTransform(d),i.trigger(d,"afterRender",U),B.lastElapsed=s.now()-w},e.stats=function(d,y,w){for(var x=d.engine,E=x.world,P=n.allBodies(E),I=0,A=55,B=44,R=0,L=0,F=0;F<P.length;F+=1)I+=P[F].parts.length;var D={Part:I,Body:P.length,Cons:n.allConstraints(E).length,Comp:n.allComposites(E).length,Pair:x.pairs.list.length};y.fillStyle="#0e0f19",y.fillRect(R,L,A*5.5,B),y.font="12px Arial",y.textBaseline="top",y.textAlign="right";for(var k in D){var V=D[k];y.fillStyle="#aaa",y.fillText(k,R+A,L+8),y.fillStyle="#eee",y.fillText(V,R+A,L+26),R+=A}},e.performance=function(d,y){var w=d.engine,x=d.timing,E=x.deltaHistory,P=x.elapsedHistory,I=x.timestampElapsedHistory,A=x.engineDeltaHistory,B=x.engineUpdatesHistory,R=x.engineElapsedHistory,L=w.timing.lastUpdatesPerFrame,F=w.timing.lastDelta,D=v(E),k=v(P),V=v(A),U=v(B),W=v(R),$=v(I),K=$/D||0,he=Math.round(D/F),re=1e3/D||0,b=4,ae=12,z=60,De=34,oe=10,le=69;y.fillStyle="#0e0f19",y.fillRect(0,50,ae*5+z*6+22,De),e.status(y,oe,le,z,b,E.length,Math.round(re)+" fps",re/e._goodFps,function(Y){return E[Y]/D-1}),e.status(y,oe+ae+z,le,z,b,A.length,F.toFixed(2)+" dt",e._goodDelta/F,function(Y){return A[Y]/V-1}),e.status(y,oe+(ae+z)*2,le,z,b,B.length,L+" upf",Math.pow(s.clamp(U/he||1,0,1),4),function(Y){return B[Y]/U-1}),e.status(y,oe+(ae+z)*3,le,z,b,R.length,W.toFixed(2)+" ut",1-L*W/e._goodFps,function(Y){return R[Y]/W-1}),e.status(y,oe+(ae+z)*4,le,z,b,P.length,k.toFixed(2)+" rt",1-k/e._goodFps,function(Y){return P[Y]/k-1}),e.status(y,oe+(ae+z)*5,le,z,b,I.length,K.toFixed(2)+" x",K*K*K,function(Y){return(I[Y]/E[Y]/K||0)-1})},e.status=function(d,y,w,x,E,P,I,A,B){d.strokeStyle="#888",d.fillStyle="#444",d.lineWidth=1,d.fillRect(y,w+7,x,1),d.beginPath(),d.moveTo(y,w+7-E*s.clamp(.4*B(0),-2,2));for(var R=0;R<x;R+=1)d.lineTo(y+R,w+7-(R<P?E*s.clamp(.4*B(R),-2,2):0));d.stroke(),d.fillStyle="hsl("+s.clamp(25+95*A,0,120)+",100%,60%)",d.fillRect(y,w-7,4,4),d.font="12px Arial",d.textBaseline="middle",d.textAlign="right",d.fillStyle="#eee",d.fillText(I,y+x,w-5)},e.constraints=function(d,y){for(var w=y,x=0;x<d.length;x++){var E=d[x];if(!(!E.render.visible||!E.pointA||!E.pointB)){var P=E.bodyA,I=E.bodyB,A,B;if(P?A=h.add(P.position,E.pointA):A=E.pointA,E.render.type==="pin")w.beginPath(),w.arc(A.x,A.y,3,0,2*Math.PI),w.closePath();else{if(I?B=h.add(I.position,E.pointB):B=E.pointB,w.beginPath(),w.moveTo(A.x,A.y),E.render.type==="spring")for(var R=h.sub(B,A),L=h.perp(h.normalise(R)),F=Math.ceil(s.clamp(E.length/5,12,20)),D,k=1;k<F;k+=1)D=k%2===0?1:-1,w.lineTo(A.x+R.x*(k/F)+L.x*D*4,A.y+R.y*(k/F)+L.y*D*4);w.lineTo(B.x,B.y)}E.render.lineWidth&&(w.lineWidth=E.render.lineWidth,w.strokeStyle=E.render.strokeStyle,w.stroke()),E.render.anchors&&(w.fillStyle=E.render.strokeStyle,w.beginPath(),w.arc(A.x,A.y,3,0,2*Math.PI),w.arc(B.x,B.y,3,0,2*Math.PI),w.closePath(),w.fill())}}},e.bodies=function(d,y,w){var x=w;d.engine;var E=d.options,P=E.showInternalEdges||!E.wireframes,I,A,B,R;for(B=0;B<y.length;B++)if(I=y[B],!!I.render.visible){for(R=I.parts.length>1?1:0;R<I.parts.length;R++)if(A=I.parts[R],!!A.render.visible){if(E.showSleeping&&I.isSleeping?x.globalAlpha=.5*A.render.opacity:A.render.opacity!==1&&(x.globalAlpha=A.render.opacity),A.render.sprite&&A.render.sprite.texture&&!E.wireframes){var L=A.render.sprite,F=M(d,L.texture);x.translate(A.position.x,A.position.y),x.rotate(A.angle),x.drawImage(F,F.width*-L.xOffset*L.xScale,F.height*-L.yOffset*L.yScale,F.width*L.xScale,F.height*L.yScale),x.rotate(-A.angle),x.translate(-A.position.x,-A.position.y)}else{if(A.circleRadius)x.beginPath(),x.arc(A.position.x,A.position.y,A.circleRadius,0,2*Math.PI);else{x.beginPath(),x.moveTo(A.vertices[0].x,A.vertices[0].y);for(var D=1;D<A.vertices.length;D++)!A.vertices[D-1].isInternal||P?x.lineTo(A.vertices[D].x,A.vertices[D].y):x.moveTo(A.vertices[D].x,A.vertices[D].y),A.vertices[D].isInternal&&!P&&x.moveTo(A.vertices[(D+1)%A.vertices.length].x,A.vertices[(D+1)%A.vertices.length].y);x.lineTo(A.vertices[0].x,A.vertices[0].y),x.closePath()}E.wireframes?(x.lineWidth=1,x.strokeStyle=d.options.wireframeStrokeStyle,x.stroke()):(x.fillStyle=A.render.fillStyle,A.render.lineWidth&&(x.lineWidth=A.render.lineWidth,x.strokeStyle=A.render.strokeStyle,x.stroke()),x.fill())}x.globalAlpha=1}}},e.bodyWireframes=function(d,y,w){var x=w,E=d.options.showInternalEdges,P,I,A,B,R;for(x.beginPath(),A=0;A<y.length;A++)if(P=y[A],!!P.render.visible)for(R=P.parts.length>1?1:0;R<P.parts.length;R++){for(I=P.parts[R],x.moveTo(I.vertices[0].x,I.vertices[0].y),B=1;B<I.vertices.length;B++)!I.vertices[B-1].isInternal||E?x.lineTo(I.vertices[B].x,I.vertices[B].y):x.moveTo(I.vertices[B].x,I.vertices[B].y),I.vertices[B].isInternal&&!E&&x.moveTo(I.vertices[(B+1)%I.vertices.length].x,I.vertices[(B+1)%I.vertices.length].y);x.lineTo(I.vertices[0].x,I.vertices[0].y)}x.lineWidth=1,x.strokeStyle=d.options.wireframeStrokeStyle,x.stroke()},e.bodyConvexHulls=function(d,y,w){var x=w,E,P,I;for(x.beginPath(),P=0;P<y.length;P++)if(E=y[P],!(!E.render.visible||E.parts.length===1)){for(x.moveTo(E.vertices[0].x,E.vertices[0].y),I=1;I<E.vertices.length;I++)x.lineTo(E.vertices[I].x,E.vertices[I].y);x.lineTo(E.vertices[0].x,E.vertices[0].y)}x.lineWidth=1,x.strokeStyle="rgba(255,255,255,0.2)",x.stroke()},e.vertexNumbers=function(d,y,w){var x=w,E,P,I;for(E=0;E<y.length;E++){var A=y[E].parts;for(I=A.length>1?1:0;I<A.length;I++){var B=A[I];for(P=0;P<B.vertices.length;P++)x.fillStyle="rgba(255,255,255,0.2)",x.fillText(E+"_"+P,B.position.x+(B.vertices[P].x-B.position.x)*.8,B.position.y+(B.vertices[P].y-B.position.y)*.8)}}},e.mousePosition=function(d,y,w){var x=w;x.fillStyle="rgba(255,255,255,0.8)",x.fillText(y.position.x+"  "+y.position.y,y.position.x+5,y.position.y-5)},e.bodyBounds=function(d,y,w){var x=w;d.engine;var E=d.options;x.beginPath();for(var P=0;P<y.length;P++){var I=y[P];if(I.render.visible)for(var A=y[P].parts,B=A.length>1?1:0;B<A.length;B++){var R=A[B];x.rect(R.bounds.min.x,R.bounds.min.y,R.bounds.max.x-R.bounds.min.x,R.bounds.max.y-R.bounds.min.y)}}E.wireframes?x.strokeStyle="rgba(255,255,255,0.08)":x.strokeStyle="rgba(0,0,0,0.1)",x.lineWidth=1,x.stroke()},e.bodyAxes=function(d,y,w){var x=w;d.engine;var E=d.options,P,I,A,B;for(x.beginPath(),I=0;I<y.length;I++){var R=y[I],L=R.parts;if(R.render.visible)if(E.showAxes)for(A=L.length>1?1:0;A<L.length;A++)for(P=L[A],B=0;B<P.axes.length;B++){var F=P.axes[B];x.moveTo(P.position.x,P.position.y),x.lineTo(P.position.x+F.x*20,P.position.y+F.y*20)}else for(A=L.length>1?1:0;A<L.length;A++)for(P=L[A],B=0;B<P.axes.length;B++)x.moveTo(P.position.x,P.position.y),x.lineTo((P.vertices[0].x+P.vertices[P.vertices.length-1].x)/2,(P.vertices[0].y+P.vertices[P.vertices.length-1].y)/2)}E.wireframes?(x.strokeStyle="indianred",x.lineWidth=1):(x.strokeStyle="rgba(255, 255, 255, 0.4)",x.globalCompositeOperation="overlay",x.lineWidth=2),x.stroke(),x.globalCompositeOperation="source-over"},e.bodyPositions=function(d,y,w){var x=w;d.engine;var E=d.options,P,I,A,B;for(x.beginPath(),A=0;A<y.length;A++)if(P=y[A],!!P.render.visible)for(B=0;B<P.parts.length;B++)I=P.parts[B],x.arc(I.position.x,I.position.y,3,0,2*Math.PI,!1),x.closePath();for(E.wireframes?x.fillStyle="indianred":x.fillStyle="rgba(0,0,0,0.5)",x.fill(),x.beginPath(),A=0;A<y.length;A++)P=y[A],P.render.visible&&(x.arc(P.positionPrev.x,P.positionPrev.y,2,0,2*Math.PI,!1),x.closePath());x.fillStyle="rgba(255,165,0,0.8)",x.fill()},e.bodyVelocity=function(d,y,w){var x=w;x.beginPath();for(var E=0;E<y.length;E++){var P=y[E];if(P.render.visible){var I=l.getVelocity(P);x.moveTo(P.position.x,P.position.y),x.lineTo(P.position.x+I.x,P.position.y+I.y)}}x.lineWidth=3,x.strokeStyle="cornflowerblue",x.stroke()},e.bodyIds=function(d,y,w){var x=w,E,P;for(E=0;E<y.length;E++)if(y[E].render.visible){var I=y[E].parts;for(P=I.length>1?1:0;P<I.length;P++){var A=I[P];x.font="12px Arial",x.fillStyle="rgba(255,255,255,0.5)",x.fillText(A.id,A.position.x+10,A.position.y-10)}}},e.collisions=function(d,y,w){var x=w,E=d.options,P,I,A,B;for(x.beginPath(),A=0;A<y.length;A++)if(P=y[A],!!P.isActive)for(I=P.collision,B=0;B<P.contactCount;B++){var R=P.contacts[B],L=R.vertex;x.rect(L.x-1.5,L.y-1.5,3.5,3.5)}for(E.wireframes?x.fillStyle="rgba(255,255,255,0.7)":x.fillStyle="orange",x.fill(),x.beginPath(),A=0;A<y.length;A++)if(P=y[A],!!P.isActive&&(I=P.collision,P.contactCount>0)){var F=P.contacts[0].vertex.x,D=P.contacts[0].vertex.y;P.contactCount===2&&(F=(P.contacts[0].vertex.x+P.contacts[1].vertex.x)/2,D=(P.contacts[0].vertex.y+P.contacts[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic===!0?x.moveTo(F-I.normal.x*8,D-I.normal.y*8):x.moveTo(F+I.normal.x*8,D+I.normal.y*8),x.lineTo(F,D)}E.wireframes?x.strokeStyle="rgba(255,165,0,0.7)":x.strokeStyle="orange",x.lineWidth=1,x.stroke()},e.separations=function(d,y,w){var x=w,E=d.options,P,I,A,B,R;for(x.beginPath(),R=0;R<y.length;R++)if(P=y[R],!!P.isActive){I=P.collision,A=I.bodyA,B=I.bodyB;var L=1;!B.isStatic&&!A.isStatic&&(L=.5),B.isStatic&&(L=0),x.moveTo(B.position.x,B.position.y),x.lineTo(B.position.x-I.penetration.x*L,B.position.y-I.penetration.y*L),L=1,!B.isStatic&&!A.isStatic&&(L=.5),A.isStatic&&(L=0),x.moveTo(A.position.x,A.position.y),x.lineTo(A.position.x+I.penetration.x*L,A.position.y+I.penetration.y*L)}E.wireframes?x.strokeStyle="rgba(255,165,0,0.5)":x.strokeStyle="orange",x.stroke()},e.inspector=function(d,y){d.engine;var w=d.selected,x=d.render,E=x.options,P;if(E.hasBounds){var I=x.bounds.max.x-x.bounds.min.x,A=x.bounds.max.y-x.bounds.min.y,B=I/x.options.width,R=A/x.options.height;y.scale(1/B,1/R),y.translate(-x.bounds.min.x,-x.bounds.min.y)}for(var L=0;L<w.length;L++){var F=w[L].data;switch(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.9)",y.setLineDash([1,2]),F.type){case"body":P=F.bounds,y.beginPath(),y.rect(Math.floor(P.min.x-3),Math.floor(P.min.y-3),Math.floor(P.max.x-P.min.x+6),Math.floor(P.max.y-P.min.y+6)),y.closePath(),y.stroke();break;case"constraint":var D=F.pointA;F.bodyA&&(D=F.pointB),y.beginPath(),y.arc(D.x,D.y,10,0,2*Math.PI),y.closePath(),y.stroke();break}y.setLineDash([]),y.translate(-.5,-.5)}d.selectStart!==null&&(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.6)",y.fillStyle="rgba(255,165,0,0.1)",P=d.selectBounds,y.beginPath(),y.rect(Math.floor(P.min.x),Math.floor(P.min.y),Math.floor(P.max.x-P.min.x),Math.floor(P.max.y-P.min.y)),y.closePath(),y.stroke(),y.fill(),y.translate(-.5,-.5)),E.hasBounds&&y.setTransform(1,0,0,1,0,0)};var a=function(d,y){var w=d.engine,x=d.timing,E=x.historySize,P=w.timing.timestamp;x.delta=y-x.lastTime||e._goodDelta,x.lastTime=y,x.timestampElapsed=P-x.lastTimestamp||0,x.lastTimestamp=P,x.deltaHistory.unshift(x.delta),x.deltaHistory.length=Math.min(x.deltaHistory.length,E),x.engineDeltaHistory.unshift(w.timing.lastDelta),x.engineDeltaHistory.length=Math.min(x.engineDeltaHistory.length,E),x.timestampElapsedHistory.unshift(x.timestampElapsed),x.timestampElapsedHistory.length=Math.min(x.timestampElapsedHistory.length,E),x.engineUpdatesHistory.unshift(w.timing.lastUpdatesPerFrame),x.engineUpdatesHistory.length=Math.min(x.engineUpdatesHistory.length,E),x.engineElapsedHistory.unshift(w.timing.lastElapsed),x.engineElapsedHistory.length=Math.min(x.engineElapsedHistory.length,E),x.elapsedHistory.unshift(x.lastElapsed),x.elapsedHistory.length=Math.min(x.elapsedHistory.length,E)},v=function(d){for(var y=0,w=0;w<d.length;w+=1)y+=d[w];return y/d.length||0},g=function(d,y){var w=document.createElement("canvas");return w.width=d,w.height=y,w.oncontextmenu=function(){return!1},w.onselectstart=function(){return!1},w},S=function(d){var y=d.getContext("2d"),w=window.devicePixelRatio||1,x=y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1;return w/x},M=function(d,y){var w=d.textures[y];return w||(w=d.textures[y]=new Image,w.src=y,w)},T=function(d,y){var w=y;/(jpg|gif|png)$/.test(y)&&(w="url("+y+")"),d.canvas.style.background=w,d.canvas.style.backgroundSize="contain",d.currentBackground=y}})()},function(p,C,f){var e={};p.exports=e;var l=f(5),s=f(17),n=f(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(i){var h={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},o=n.extend(h,i);return o.fps=0,o},e.run=function(i,h){return i.timeBuffer=e._frameDeltaFallback,function o(t){i.frameRequestId=e._onNextFrame(i,o),t&&i.enabled&&e.tick(i,h,t)}(),i},e.tick=function(i,h,o){var t=n.now(),r=i.delta,a=0,v=o-i.timeLastTick;if((!v||!i.timeLastTick||v>Math.max(e._maxFrameDelta,i.maxFrameTime))&&(v=i.frameDelta||e._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(v),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var g=i.frameDeltaHistory.slice(0).sort(),S=i.frameDeltaHistory.slice(g.length*e._smoothingLowerBound,g.length*e._smoothingUpperBound),M=u(S);v=M||v}i.frameDeltaSnapping&&(v=1e3/Math.round(1e3/v)),i.frameDelta=v,i.timeLastTick=o,i.timeBuffer+=i.frameDelta,i.timeBuffer=n.clamp(i.timeBuffer,0,i.frameDelta+r*e._timeBufferMargin),i.lastUpdatesDeferred=0;var T=i.maxUpdates||Math.ceil(i.maxFrameTime/r),d={timestamp:h.timing.timestamp};l.trigger(i,"beforeTick",d),l.trigger(i,"tick",d);for(var y=n.now();r>0&&i.timeBuffer>=r*e._timeBufferMargin;){l.trigger(i,"beforeUpdate",d),s.update(h,r),l.trigger(i,"afterUpdate",d),i.timeBuffer-=r,a+=1;var w=n.now()-t,x=n.now()-y,E=w+e._elapsedNextEstimate*x/a;if(a>=T||E>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/r-e._timeBufferMargin));break}}h.timing.lastUpdatesPerFrame=a,l.trigger(i,"afterTick",d),i.frameDeltaHistory.length>=100&&(i.lastUpdatesDeferred&&Math.round(i.frameDelta/r)>T?n.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):i.lastUpdatesDeferred&&n.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof i.isFixed<"u"&&n.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(i.deltaMin||i.deltaMax)&&n.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),i.fps!==0&&n.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(i){e._cancelNextFrame(i)},e._onNextFrame=function(i,h){if(typeof window<"u"&&window.requestAnimationFrame)i.frameRequestId=window.requestAnimationFrame(h);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return i.frameRequestId},e._cancelNextFrame=function(i){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(i.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var u=function(i){for(var h=0,o=i.length,t=0;t<o;t+=1)h+=i[t];return h/o||0}})()},function(p,C,f){var e={};p.exports=e;var l=f(8),s=f(0),n=s.deprecated;(function(){e.collides=function(u,i){return l.collides(u,i)},n(e,"collides","SAT.collides ➤ replaced by Collision.collides")})()},function(p,C,f){var e={};p.exports=e,f(1);var l=f(0);(function(){e.pathToVertices=function(s,n){typeof window<"u"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var u,i,h,o,t,r,a,v,g,S,M=[],T,d,y=0,w=0,x=0;n=n||15;var E=function(I,A,B){var R=B%2===1&&B>1;if(!g||I!=g.x||A!=g.y){g&&R?(T=g.x,d=g.y):(T=0,d=0);var L={x:T+I,y:d+A};(R||!g)&&(g=L),M.push(L),w=T+I,x=d+A}},P=function(I){var A=I.pathSegTypeAsLetter.toUpperCase();if(A!=="Z"){switch(A){case"M":case"L":case"T":case"C":case"S":case"Q":w=I.x,x=I.y;break;case"H":w=I.x;break;case"V":x=I.y;break}E(w,x,I.pathSegType)}};for(e._svgPathToAbsolute(s),h=s.getTotalLength(),r=[],u=0;u<s.pathSegList.numberOfItems;u+=1)r.push(s.pathSegList.getItem(u));for(a=r.concat();y<h;){if(S=s.getPathSegAtLength(y),t=r[S],t!=v){for(;a.length&&a[0]!=t;)P(a.shift());v=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=s.getPointAtLength(y),E(o.x,o.y,0);break}y+=n}for(u=0,i=a.length;u<i;++u)P(a[u]);return M},e._svgPathToAbsolute=function(s){for(var n,u,i,h,o,t,r=s.pathSegList,a=0,v=0,g=r.numberOfItems,S=0;S<g;++S){var M=r.getItem(S),T=M.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in M&&(a=M.x),"y"in M&&(v=M.y);else switch("x1"in M&&(i=a+M.x1),"x2"in M&&(o=a+M.x2),"y1"in M&&(h=v+M.y1),"y2"in M&&(t=v+M.y2),"x"in M&&(a+=M.x),"y"in M&&(v+=M.y),T){case"m":r.replaceItem(s.createSVGPathSegMovetoAbs(a,v),S);break;case"l":r.replaceItem(s.createSVGPathSegLinetoAbs(a,v),S);break;case"h":r.replaceItem(s.createSVGPathSegLinetoHorizontalAbs(a),S);break;case"v":r.replaceItem(s.createSVGPathSegLinetoVerticalAbs(v),S);break;case"c":r.replaceItem(s.createSVGPathSegCurvetoCubicAbs(a,v,i,h,o,t),S);break;case"s":r.replaceItem(s.createSVGPathSegCurvetoCubicSmoothAbs(a,v,o,t),S);break;case"q":r.replaceItem(s.createSVGPathSegCurvetoQuadraticAbs(a,v,i,h),S);break;case"t":r.replaceItem(s.createSVGPathSegCurvetoQuadraticSmoothAbs(a,v),S);break;case"a":r.replaceItem(s.createSVGPathSegArcAbs(a,v,M.r1,M.r2,M.angle,M.largeArcFlag,M.sweepFlag),S);break;case"z":case"Z":a=n,v=u;break}(T=="M"||T=="m")&&(n=a,u=v)}}})()},function(p,C,f){var e={};p.exports=e;var l=f(6);f(0),function(){e.create=l.create,e.add=l.add,e.remove=l.remove,e.clear=l.clear,e.addComposite=l.addComposite,e.addBody=l.addBody,e.addConstraint=l.addConstraint}()}])})}(ze)),ze.exports}var H=$i(),Gi=St('<div class="svelte-1ghenj1"></div> <svg viewBox="0 0 24 24"><path fill="black" d="M10,9A1,1 0 0,1 11,8A1,1 0 0,1 12,9V13.47L13.21,13.6L18.15,15.79C18.68,16.03 19,16.56 19,17.14V21.5C18.97,22.32 18.32,22.97 17.5,23H11C10.62,23 10.26,22.85 10,22.57L5.1,18.37L5.84,17.6C6.03,17.39 6.3,17.28 6.58,17.28H6.8L10,19V9M11,5A4,4 0 0,1 15,9C15,10.5 14.2,11.77 13,12.46V11.24C13.61,10.69 14,9.89 14,9A3,3 0 0,0 11,6A3,3 0 0,0 8,9C8,9.89 8.39,10.69 9,11.24V12.46C7.8,11.77 7,10.5 7,9A4,4 0 0,1 11,5Z"></path></svg>',1);function zi(c,m){dt(m,!0);let p=null,C=null,f=te(!1),e=te(!1);setTimeout(()=>{G(e,!ce(f))},1e4);function l(v){switch(v.type){case"mousemove":case"touchmove":p?.body&&C?.mousemove(v);break;case"mousedown":case"touchstart":C?.mousedown(v);break;case"mouseup":case"touchend":C?.mouseup(v);break}return!!p?.body}let s,n,u,i={top:null,left:null,right:null,bottom:null};const h=v=>{if(n){const g=window.innerWidth,S=window.innerHeight;if(n.bounds.max.x=g,n.bounds.max.y=S,n.options.width=g,n.options.height=S,n.canvas.width=g,n.canvas.height=S,i.top&&i.bottom&&i.left&&i.right){H.Body.setPosition(i.top,{x:g/2,y:S+151}),H.Body.setPosition(i.bottom,{x:g/2,y:-151}),H.Body.setPosition(i.left,{x:-151,y:S/2}),H.Body.setPosition(i.right,{x:g+151,y:S/2});const M=g+600,T=300,d=300,y=S;H.Body.setVertices(i.top,H.Vertices.fromPath(`'L 0 0 L ${M} 0 L ${M} ${T} L 0 ${T}`,i.top)),H.Body.setVertices(i.bottom,H.Vertices.fromPath(`'L 0 0 L ${M} 0 L ${M} ${T} L 0 ${T}`,i.bottom)),H.Body.setVertices(i.left,H.Vertices.fromPath(`'L 0 0 L ${d} 0 L ${d} ${y} L 0 ${y}`,i.left)),H.Body.setVertices(i.right,H.Vertices.fromPath(`'L 0 0 L ${d} 0 L ${d} ${y} L 0 ${y}`,i.right)),H.Render.lookAt(n,Object.values(i).filter(w=>w!==null),{x:-301,y:-301})}}};lt(async()=>{window.addEventListener("resize",h),await new Promise(requestAnimationFrame);const v=window.innerWidth,g=window.innerHeight,S=v*.75,M=g/2,T={fillStyle:"#fff5da"};i.top=H.Bodies.rectangle(v/2,g+151,v+600,300,{isStatic:!0}),i.bottom=H.Bodies.rectangle(v/2,-151,v+600,300,{isStatic:!0}),i.left=H.Bodies.rectangle(-151,g/2,300,g,{isStatic:!0}),i.right=H.Bodies.rectangle(v+151,g/2,300,g,{isStatic:!0});let d=[H.Bodies.rectangle(S,M+30,40,40,{render:T,angle:30}),H.Bodies.rectangle(S-30,M,50,60,{render:T}),H.Bodies.rectangle(S+15,M,50,30,{render:T,angle:120}),H.Bodies.rectangle(S,M-10,50,70,{render:T})];u=H.Engine.create();for(let w=0;w<60;w++)H.Engine.update(u,1e3/60);n=H.Render.create({element:s,engine:u,options:{width:v,height:g,background:"transparent",wireframeBackground:"transparent",wireframes:!1,hasBounds:!0},bounds:{min:{x:0,y:0},max:{x:window.innerWidth,y:window.innerHeight}}}),C=H.Mouse.create(n.canvas),p=H.MouseConstraint.create(u,{mouse:C,constraint:{stiffness:.2,render:{visible:!1}}}),H.Composite.add(u.world,[...Object.values(i).filter(w=>w!==null),...d,p]),n.mouse=C,H.Render.run(n);const y=H.Runner.create({});H.Runner.run(y,u),H.Events.on(p,"startdrag",()=>{G(f,!0),G(e,!1)})}),lt(()=>()=>{window.removeEventListener("resize",h)});var o=Gi(),t=fi(o);Sn(t,v=>s=v,()=>s);var r=ln(t,2);let a;return wt(v=>a=wn(r,0,"svelte-1ghenj1",null,a,v),[()=>({opaque:ce(e)})]),Pt(c,o),pt({fireEvent:l})}var _i=St("<main><!> <!></main>");function Qi(c,m){dt(m,!0);let p,C=te(!1),f=te(!1);lt(()=>{document.body.addEventListener("mousemove",n=>G(C,p.fireEvent(n),!0),{passive:!0}),document.body.addEventListener("mousedown",n=>G(C,p.fireEvent(n),!0),{passive:!0}),document.body.addEventListener("mouseup",n=>G(C,p.fireEvent(n),!0),{passive:!0}),document.body.addEventListener("touchmove",n=>G(C,p.fireEvent(n),!0),{passive:!1}),document.body.addEventListener("touchstart",n=>G(C,p.fireEvent(n),!0),{passive:!0}),document.body.addEventListener("touchend",n=>G(C,p.fireEvent(n),!0),{passive:!0}),setTimeout(()=>G(f,!0),200)});var e=_i(),l=li(e);Ui(l,{get pointerEvents(){return ce(C)}});var s=ln(l,2);Sn(zi(s,{}),n=>p=n,()=>p),wt(()=>wn(e,1,ki(ce(f)?"visible":null),"svelte-ov99jb")),Pt(c,e),pt()}Li(Qi,{target:document.getElementById("app")});
