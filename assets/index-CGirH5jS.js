(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))C(c);new MutationObserver(c=>{for(const e of c)if(e.type==="childList")for(const f of e.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&C(f)}).observe(document,{childList:!0,subtree:!0});function d(c){const e={};return c.integrity&&(e.integrity=c.integrity),c.referrerPolicy&&(e.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?e.credentials="include":c.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function C(c){if(c.ep)return;c.ep=!0;const e=d(c);fetch(c.href,e)}})();const Xt=!1;var jt=Array.isArray,Ln=Array.prototype.indexOf,bn=Array.from,lt=Object.defineProperty,Ie=Object.getOwnPropertyDescriptor,On=Object.getOwnPropertyDescriptors,Vn=Object.prototype,Hn=Array.prototype,qt=Object.getPrototypeOf,Vt=Object.isExtensible;function Nn(l){return l()}function Je(l){for(var g=0;g<l.length;g++)l[g]()}function Un(){var l,g,d=new Promise((C,c)=>{l=C,g=c});return{promise:d,resolve:l,reject:g}}const ee=2,dt=4,et=8,tt=16,me=32,De=64,en=128,q=256,Ye=512,z=1024,re=2048,Ce=4096,Be=8192,Fe=16384,gt=32768,_n=65536,Ht=1<<17,Wn=1<<18,mt=1<<19,xt=1<<20,ft=1<<21,yt=1<<22,xe=1<<23,Ae=Symbol("$state"),wt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Gn(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function zn(l){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Qn(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function $n(l){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Kn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Zn(l){throw new Error("https://svelte.dev/e/effect_orphan")}function Jn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Yn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Xn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function jn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const qn=2,$=Symbol();function tn(l){return l===this.v}function ei(l,g){return l!=l?g==g:l!==g||l!==null&&typeof l=="object"||typeof l=="function"}function nn(l){return!ei(l,this.v)}let Ue=!1,ti=!1;function ni(){Ue=!0}let U=null;function Xe(l){U=l}function St(l,g=!1,d){U={p:U,c:null,e:null,s:l,x:null,l:Ue&&!g?{s:null,u:null,$:[]}:null}}function Pt(l){var g=U,d=g.e;if(d!==null){g.e=null;for(var C of d)gn(C)}return l!==void 0&&(g.x=l),U=g.p,l??{}}function _e(){return!Ue||U!==null&&U.l===null}const ii=new WeakMap;function ri(l){var g=H;if(g===null)return O.f|=xe,l;if((g.f&gt)===0){if((g.f&en)===0)throw!g.parent&&l instanceof Error&&rn(l),l;g.b.error(l)}else Ct(l,g)}function Ct(l,g){for(;g!==null;){if((g.f&en)!==0)try{g.b.error(l);return}catch(d){l=d}g=g.parent}throw l instanceof Error&&rn(l),l}function rn(l){const g=ii.get(l);g&&(lt(l,"message",{value:g.message}),lt(l,"stack",{value:g.stack}))}let He=[],ut=[];function an(){var l=He;He=[],Je(l)}function ai(){var l=ut;ut=[],Je(l)}function si(l){He.length===0&&queueMicrotask(an),He.push(l)}function oi(){He.length>0&&an(),ut.length>0&&ai()}function li(){for(var l=H.b;l!==null&&!l.has_pending_snippet();)l=l.parent;return l===null&&Gn(),l}function Mt(l){var g=ee|re,d=O!==null&&(O.f&ee)!==0?O:null;return H===null||d!==null&&(d.f&q)!==0?g|=q:H.f|=mt,{ctx:U,deps:null,effects:null,equals:tn,f:g,fn:l,reactions:null,rv:0,v:$,wv:0,parent:d??H,ac:null}}function fi(l,g){let d=H;d===null&&Qn();var C=d.b,c=void 0,e=It($),f=null,r=!O;return Ii(()=>{try{var n=l()}catch(t){n=Promise.reject(t)}var u=()=>n;c=f?.then(u,u)??Promise.resolve(n),f=c;var i=te,v=C.pending;r&&(C.update_pending_count(1),v||i.increment());const o=(t,a=void 0)=>{f=null,v||i.activate(),a?a!==wt&&(e.f|=xe,vt(e,a)):((e.f&xe)!==0&&(e.f^=xe),vt(e,t)),r&&(C.update_pending_count(-1),v||i.decrement()),ln()};if(c.then(o,t=>o(null,t||"unknown")),i)return()=>{queueMicrotask(()=>i.neuter())}}),new Promise(n=>{function u(i){function v(){i===c?n(e):u(c)}i.then(v,v)}u(c)})}function ui(l){const g=Mt(l);return g.equals=nn,g}function sn(l){var g=l.effects;if(g!==null){l.effects=null;for(var d=0;d<g.length;d+=1)Pe(g[d])}}function ci(l){for(var g=l.parent;g!==null;){if((g.f&ee)===0)return g;g=g.parent}return null}function Et(l){var g,d=H;Re(ci(l));try{sn(l),g=Mn(l)}finally{Re(d)}return g}function on(l){var g=Et(l);if(l.equals(g)||(l.v=g,l.wv=Pn()),!Le)if(ke!==null)ke.set(l,l.v);else{var d=(de||(l.f&q)!==0)&&l.deps!==null?Ce:z;K(l,d)}}function vi(l,g,d){const C=_e()?Mt:ui;if(g.length===0){d(l.map(C));return}var c=te,e=H,f=hi(),r=li();Promise.all(g.map(n=>fi(n))).then(n=>{c?.activate(),f();try{d([...l.map(C),...n])}catch(u){(e.f&Fe)===0&&Ct(u,e)}c?.deactivate(),ln()}).catch(n=>{r.error(n)})}function hi(){var l=H,g=O,d=U;return function(){Re(l),ge(g),Xe(d)}}function ln(){Re(null),ge(null),Xe(null)}const $e=new Set;let te=null,ke=null,Nt=new Set,Ee=[],nt=null,ct=!1;class We{#l=new Map;#a=new Map;#s=new Set;#t=0;#f=null;#u=!1;#i=[];#o=[];#n=[];#e=[];#r=[];skipped_effects=new Set;#v(g){Ee=[];var d=null;if($e.size>1){d=new Map,ke=new Map;for(const[e,f]of this.#l)d.set(e,{v:e.v,wv:e.wv}),e.v=f;for(const e of $e)if(e!==this)for(const[f,r]of e.#a)d.has(f)||(d.set(f,{v:f.v,wv:f.wv}),f.v=r)}for(const e of g)this.#h(e);if(this.#i.length===0&&this.#t===0){var C=this.#n,c=this.#e;this.#n=[],this.#e=[],this.#r=[],this.#c(),Ut(C),Ut(c),this.#f?.resolve()}else{for(const e of this.#n)K(e,z);for(const e of this.#e)K(e,z);for(const e of this.#r)K(e,z)}if(d){for(const[e,{v:f,wv:r}]of d)e.wv<=r&&(e.v=f);ke=null}for(const e of this.#i)Ve(e);for(const e of this.#o)Ve(e);this.#i=[],this.#o=[]}#h(g){g.f^=z;for(var d=g.first;d!==null;){var C=d.f,c=(C&(me|De))!==0,e=c&&(C&z)!==0,f=e||(C&Be)!==0||this.skipped_effects.has(d);if(!f&&d.fn!==null){if(c)d.f^=z;else if((C&dt)!==0)this.#e.push(d);else if(it(d))if((C&yt)!==0){var r=d.b?.pending?this.#o:this.#i;r.push(d)}else(d.f&tt)!==0&&this.#r.push(d),Ve(d);var n=d.first;if(n!==null){d=n;continue}}var u=d.parent;for(d=d.next;d===null&&u!==null;)d=u.next,u=u.parent}}capture(g,d){this.#a.has(g)||this.#a.set(g,d),this.#l.set(g,g.v)}activate(){te=this}deactivate(){te=null;for(const g of Nt)if(Nt.delete(g),g(),te!==null)break}neuter(){this.#u=!0}flush(){Ee.length>0?this.flush_effects():this.#c(),te===this&&(this.#t===0&&$e.delete(this),this.deactivate())}flush_effects(){var g=Te;ct=!0;try{var d=0;for(Wt(!0);Ee.length>0;){if(d++>1e3){var C,c;di()}this.#v(Ee),we.clear()}}finally{ct=!1,Wt(g),nt=null}}#c(){if(!this.#u)for(const g of this.#s)g();this.#s.clear()}increment(){this.#t+=1}decrement(){if(this.#t-=1,this.#t===0){for(const g of this.#n)K(g,re),ye(g);for(const g of this.#e)K(g,re),ye(g);for(const g of this.#r)K(g,re),ye(g);this.#n=[],this.#e=[],this.flush()}else this.deactivate()}add_callback(g){this.#s.add(g)}settled(){return(this.#f??=Un()).promise}static ensure(g=!0){if(te===null){const d=te=new We;$e.add(te),g&&queueMicrotask(()=>{te===d&&d.flush()})}return te}}function pi(l){var g;const d=We.ensure(!1);for(;;){if(oi(),Ee.length===0)return d===te&&d.flush(),nt=null,g;d.flush_effects()}}function di(){try{Jn()}catch(l){Ct(l,nt)}}function Ut(l){var g=l.length;if(g!==0){for(var d=0;d<g;d++){var C=l[d];if((C.f&(Fe|Be))===0&&it(C)){var c=je;if(Ve(C),C.deps===null&&C.first===null&&C.nodes_start===null&&(C.teardown===null&&C.ac===null?wn(C):C.fn=null),je>c&&(C.f&xt)!==0)break}}for(;d<g;d+=1)ye(l[d])}}function ye(l){for(var g=nt=l;g.parent!==null;){g=g.parent;var d=g.f;if(ct&&g===H&&(d&tt)!==0)return;if((d&(De|me))!==0){if((d&z)===0)return;g.f^=z}}Ee.push(g)}const we=new Map;function It(l,g){var d={f:0,v:l,reactions:null,equals:tn,rv:0,wv:0};return d}function fe(l,g){const d=It(l);return Fi(d),d}function gi(l,g=!1,d=!0){const C=It(l);return g||(C.equals=nn),Ue&&d&&U!==null&&U.l!==null&&(U.l.s??=[]).push(C),C}function Y(l,g,d=!1){O!==null&&(!ue||(O.f&Ht)!==0)&&_e()&&(O.f&(ee|tt|yt|Ht))!==0&&!ve?.includes(l)&&jn();let C=d?Oe(g):g;return vt(l,C)}function vt(l,g){if(!l.equals(g)){var d=l.v;Le?we.set(l,g):we.set(l,d),l.v=g,We.ensure().capture(l,d),(l.f&ee)!==0&&((l.f&re)!==0&&Et(l),K(l,(l.f&q)===0?z:Ce)),l.wv=Pn(),fn(l,re),_e()&&H!==null&&(H.f&z)!==0&&(H.f&(me|De))===0&&(ne===null?Li([l]):ne.push(l))}return g}function st(l){Y(l,l.v+1)}function fn(l,g){var d=l.reactions;if(d!==null)for(var C=_e(),c=d.length,e=0;e<c;e++){var f=d[e],r=f.f;(r&re)===0&&(!C&&f===H||(K(f,g),(r&(z|q))!==0&&((r&ee)!==0?fn(f,Ce):ye(f))))}}function Oe(l){if(typeof l!="object"||l===null||Ae in l)return l;const g=qt(l);if(g!==Vn&&g!==Hn)return l;var d=new Map,C=jt(l),c=fe(0),e=Se,f=r=>{if(Se===e)return r();var n=O,u=Se;ge(null),zt(e);var i=r();return ge(n),zt(u),i};return C&&d.set("length",fe(l.length)),new Proxy(l,{defineProperty(r,n,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Yn();var i=d.get(n);return i===void 0?i=f(()=>{var v=fe(u.value);return d.set(n,v),v}):Y(i,u.value,!0),!0},deleteProperty(r,n){var u=d.get(n);if(u===void 0){if(n in r){const i=f(()=>fe($));d.set(n,i),st(c)}}else Y(u,$),st(c);return!0},get(r,n,u){if(n===Ae)return l;var i=d.get(n),v=n in r;if(i===void 0&&(!v||Ie(r,n)?.writable)&&(i=f(()=>{var t=Oe(v?r[n]:$),a=fe(t);return a}),d.set(n,i)),i!==void 0){var o=ie(i);return o===$?void 0:o}return Reflect.get(r,n,u)},getOwnPropertyDescriptor(r,n){var u=Reflect.getOwnPropertyDescriptor(r,n);if(u&&"value"in u){var i=d.get(n);i&&(u.value=ie(i))}else if(u===void 0){var v=d.get(n),o=v?.v;if(v!==void 0&&o!==$)return{enumerable:!0,configurable:!0,value:o,writable:!0}}return u},has(r,n){if(n===Ae)return!0;var u=d.get(n),i=u!==void 0&&u.v!==$||Reflect.has(r,n);if(u!==void 0||H!==null&&(!i||Ie(r,n)?.writable)){u===void 0&&(u=f(()=>{var o=i?Oe(r[n]):$,t=fe(o);return t}),d.set(n,u));var v=ie(u);if(v===$)return!1}return i},set(r,n,u,i){var v=d.get(n),o=n in r;if(C&&n==="length")for(var t=u;t<v.v;t+=1){var a=d.get(t+"");a!==void 0?Y(a,$):t in r&&(a=f(()=>fe($)),d.set(t+"",a))}if(v===void 0)(!o||Ie(r,n)?.writable)&&(v=f(()=>fe(void 0)),Y(v,Oe(u)),d.set(n,v));else{o=v.v!==$;var s=f(()=>Oe(u));Y(v,s)}var h=Reflect.getOwnPropertyDescriptor(r,n);if(h?.set&&h.set.call(i,u),!o){if(C&&typeof n=="string"){var x=d.get("length"),P=Number(n);Number.isInteger(P)&&P>=x.v&&Y(x,P+1)}st(c)}return!0},ownKeys(r){ie(c);var n=Reflect.ownKeys(r).filter(v=>{var o=d.get(v);return o===void 0||o.v!==$});for(var[u,i]of d)i.v!==$&&!(u in r)&&n.push(u);return n},setPrototypeOf(){Xn()}})}var _t,un,cn,vn;function mi(){if(_t===void 0){_t=window,un=/Firefox/.test(navigator.userAgent);var l=Element.prototype,g=Node.prototype,d=Text.prototype;cn=Ie(g,"firstChild").get,vn=Ie(g,"nextSibling").get,Vt(l)&&(l.__click=void 0,l.__className=void 0,l.__attributes=null,l.__style=void 0,l.__e=void 0),Vt(d)&&(d.__t=void 0)}}function xi(l=""){return document.createTextNode(l)}function hn(l){return cn.call(l)}function pn(l){return vn.call(l)}function yi(l,g){return hn(l)}function wi(l,g=1,d=!1){let C=l;for(;g--;)C=pn(C);return C}function dn(l){H===null&&O===null&&Zn(),O!==null&&(O.f&q)!==0&&H===null&&Kn(),Le&&$n()}function Si(l,g){var d=g.last;d===null?g.last=g.first=l:(d.next=l,l.prev=d,g.last=l)}function he(l,g,d,C=!0){var c=H;c!==null&&(c.f&Be)!==0&&(l|=Be);var e={ctx:U,deps:null,nodes_start:null,nodes_end:null,f:l|re,first:null,fn:g,last:null,next:null,parent:c,b:c&&c.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(d)try{Ve(e),e.f|=gt}catch(n){throw Pe(e),n}else g!==null&&ye(e);var f=d&&e.deps===null&&e.first===null&&e.nodes_start===null&&e.teardown===null&&(e.f&mt)===0;if(!f&&C&&(c!==null&&Si(e,c),O!==null&&(O.f&ee)!==0)){var r=O;(r.effects??=[]).push(e)}return e}function Pi(l){const g=he(et,null,!1);return K(g,z),g.teardown=l,g}function ht(l){dn();var g=H.f,d=!O&&(g&me)!==0&&(g&gt)===0;if(d){var C=U;(C.e??=[]).push(l)}else return gn(l)}function gn(l){return he(dt|xt,l,!1)}function Ci(l){return dn(),he(et|xt,l,!0)}function Mi(l){We.ensure();const g=he(De,l,!0);return(d={})=>new Promise(C=>{d.outro?Ri(g,()=>{Pe(g),C(void 0)}):(Pe(g),C(void 0))})}function Ei(l){return he(dt,l,!1)}function Ii(l){return he(yt|mt,l,!0)}function Ai(l,g=0){return he(et|g,l,!0)}function mn(l,g=[],d=[]){vi(g,d,C=>{he(et,()=>l(...C.map(ie)),!0)})}function Ti(l,g=!0){return he(me,l,!0,g)}function xn(l){var g=l.teardown;if(g!==null){const d=Le,C=O;Gt(!0),ge(null);try{g.call(null)}finally{Gt(d),ge(C)}}}function yn(l,g=!1){var d=l.first;for(l.first=l.last=null;d!==null;){d.ac?.abort(wt);var C=d.next;(d.f&De)!==0?d.parent=null:Pe(d,g),d=C}}function Bi(l){for(var g=l.first;g!==null;){var d=g.next;(g.f&me)===0&&Pe(g),g=d}}function Pe(l,g=!0){var d=!1;(g||(l.f&Wn)!==0)&&l.nodes_start!==null&&l.nodes_end!==null&&(ki(l.nodes_start,l.nodes_end),d=!0),yn(l,g&&!d),qe(l,0),K(l,Fe);var C=l.transitions;if(C!==null)for(const e of C)e.stop();xn(l);var c=l.parent;c!==null&&c.first!==null&&wn(l),l.next=l.prev=l.teardown=l.ctx=l.deps=l.fn=l.nodes_start=l.nodes_end=l.ac=null}function ki(l,g){for(;l!==null;){var d=l===g?null:pn(l);l.remove(),l=d}}function wn(l){var g=l.parent,d=l.prev,C=l.next;d!==null&&(d.next=C),C!==null&&(C.prev=d),g!==null&&(g.first===l&&(g.first=C),g.last===l&&(g.last=d))}function Ri(l,g){var d=[];Sn(l,d,!0),Di(d,()=>{Pe(l),g&&g()})}function Di(l,g){var d=l.length;if(d>0){var C=()=>--d||g();for(var c of l)c.out(C)}else g()}function Sn(l,g,d){if((l.f&Be)===0){if(l.f^=Be,l.transitions!==null)for(const f of l.transitions)(f.is_global||d)&&g.push(f);for(var C=l.first;C!==null;){var c=C.next,e=(C.f&_n)!==0||(C.f&me)!==0;Sn(C,g,e?d:!1),C=c}}}let Te=!1;function Wt(l){Te=l}let Le=!1;function Gt(l){Le=l}let O=null,ue=!1;function ge(l){O=l}let H=null;function Re(l){H=l}let ve=null;function Fi(l){O!==null&&(ve===null?ve=[l]:ve.push(l))}let J=null,j=0,ne=null;function Li(l){ne=l}let je=1,Ne=0,Se=Ne;function zt(l){Se=l}let de=!1;function Pn(){return++je}function it(l){var g=l.f;if((g&re)!==0)return!0;if((g&Ce)!==0){var d=l.deps,C=(g&q)!==0;if(d!==null){var c,e,f=(g&Ye)!==0,r=C&&H!==null&&!de,n=d.length;if((f||r)&&(H===null||(H.f&Fe)===0)){var u=l,i=u.parent;for(c=0;c<n;c++)e=d[c],(f||!e?.reactions?.includes(u))&&(e.reactions??=[]).push(u);f&&(u.f^=Ye),r&&i!==null&&(i.f&q)===0&&(u.f^=q)}for(c=0;c<n;c++)if(e=d[c],it(e)&&on(e),e.wv>l.wv)return!0}(!C||H!==null&&!de)&&K(l,z)}return!1}function Cn(l,g,d=!0){var C=l.reactions;if(C!==null&&!ve?.includes(l))for(var c=0;c<C.length;c++){var e=C[c];(e.f&ee)!==0?Cn(e,g,!1):g===e&&(d?K(e,re):(e.f&z)!==0&&K(e,Ce),ye(e))}}function Mn(l){var g=J,d=j,C=ne,c=O,e=de,f=ve,r=U,n=ue,u=Se,i=l.f;J=null,j=0,ne=null,de=(i&q)!==0&&(ue||!Te||O===null),O=(i&(me|De))===0?l:null,ve=null,Xe(l.ctx),ue=!1,Se=++Ne,l.ac!==null&&(l.ac.abort(wt),l.ac=null);try{l.f|=ft;var v=(0,l.fn)(),o=l.deps;if(J!==null){var t;if(qe(l,j),o!==null&&j>0)for(o.length=j+J.length,t=0;t<J.length;t++)o[j+t]=J[t];else l.deps=o=J;if(!de||(i&ee)!==0&&l.reactions!==null)for(t=j;t<o.length;t++)(o[t].reactions??=[]).push(l)}else o!==null&&j<o.length&&(qe(l,j),o.length=j);if(_e()&&ne!==null&&!ue&&o!==null&&(l.f&(ee|Ce|re))===0)for(t=0;t<ne.length;t++)Cn(ne[t],l);return c!==null&&c!==l&&(Ne++,ne!==null&&(C===null?C=ne:C.push(...ne))),(l.f&xe)!==0&&(l.f^=xe),v}catch(a){return ri(a)}finally{l.f^=ft,J=g,j=d,ne=C,O=c,de=e,ve=f,Xe(r),ue=n,Se=u}}function bi(l,g){let d=g.reactions;if(d!==null){var C=Ln.call(d,l);if(C!==-1){var c=d.length-1;c===0?d=g.reactions=null:(d[C]=d[c],d.pop())}}d===null&&(g.f&ee)!==0&&(J===null||!J.includes(g))&&(K(g,Ce),(g.f&(q|Ye))===0&&(g.f^=Ye),sn(g),qe(g,0))}function qe(l,g){var d=l.deps;if(d!==null)for(var C=g;C<d.length;C++)bi(l,d[C])}function Ve(l){var g=l.f;if((g&Fe)===0){K(l,z);var d=H,C=Te;H=l,Te=!0;try{(g&tt)!==0?Bi(l):yn(l),xn(l);var c=Mn(l);l.teardown=typeof c=="function"?c:null,l.wv=je;var e;Xt&&ti&&(l.f&re)!==0&&l.deps}finally{Te=C,H=d}}}async function Oi(){await Promise.resolve(),pi()}function ie(l){var g=l.f,d=(g&ee)!==0;if(O!==null&&!ue){var C=H!==null&&(H.f&Fe)!==0;if(!C&&!ve?.includes(l)){var c=O.deps;if((O.f&ft)!==0)l.rv<Ne&&(l.rv=Ne,J===null&&c!==null&&c[j]===l?j++:J===null?J=[l]:(!de||!J.includes(l))&&J.push(l));else{(O.deps??=[]).push(l);var e=l.reactions;e===null?l.reactions=[O]:e.includes(O)||e.push(O)}}}else if(d&&l.deps===null&&l.effects===null){var f=l,r=f.parent;r!==null&&(r.f&q)===0&&(f.f^=q)}if(Le){if(we.has(l))return we.get(l);if(d){f=l;var n=f.v;return((f.f&z)!==0||En(f))&&(n=Et(f)),we.set(f,n),n}}else if(d){if(f=l,ke?.has(f))return ke.get(f);it(f)&&on(f)}if((l.f&xe)!==0)throw l.v;return l.v}function En(l){if(l.v===$)return!0;if(l.deps===null)return!1;for(const g of l.deps)if(we.has(g)||(g.f&ee)!==0&&En(g))return!0;return!1}function At(l){var g=ue;try{return ue=!0,l()}finally{ue=g}}const Vi=-7169;function K(l,g){l.f=l.f&Vi|g}function Hi(l){if(!(typeof l!="object"||!l||l instanceof EventTarget)){if(Ae in l)pt(l);else if(!Array.isArray(l))for(let g in l){const d=l[g];typeof d=="object"&&d&&Ae in d&&pt(d)}}}function pt(l,g=new Set){if(typeof l=="object"&&l!==null&&!(l instanceof EventTarget)&&!g.has(l)){g.add(l),l instanceof Date&&l.getTime();for(let C in l)try{pt(l[C],g)}catch{}const d=qt(l);if(d!==Object.prototype&&d!==Array.prototype&&d!==Map.prototype&&d!==Set.prototype&&d!==Date.prototype){const C=On(d);for(let c in C){const e=C[c].get;if(e)try{e.call(l)}catch{}}}}}const Ni=["touchstart","touchmove"];function Ui(l){return Ni.includes(l)}const _i=new Set,Qt=new Set;function Ke(l){var g=this,d=g.ownerDocument,C=l.type,c=l.composedPath?.()||[],e=c[0]||l.target,f=0,r=l.__root;if(r){var n=c.indexOf(r);if(n!==-1&&(g===document||g===window)){l.__root=g;return}var u=c.indexOf(g);if(u===-1)return;n<=u&&(f=n)}if(e=c[f]||l.target,e!==g){lt(l,"currentTarget",{configurable:!0,get(){return e||d}});var i=O,v=H;ge(null),Re(null);try{for(var o,t=[];e!==null;){var a=e.assignedSlot||e.parentNode||e.host||null;try{var s=e["__"+C];if(s!=null&&(!e.disabled||l.target===e))if(jt(s)){var[h,...x]=s;h.apply(e,[l,...x])}else s.call(e,l)}catch(P){o?t.push(P):o=P}if(l.cancelBubble||a===g||a===null)break;e=a}if(o){for(let P of t)queueMicrotask(()=>{throw P});throw o}}finally{l.__root=g,delete l.currentTarget,ge(i),Re(v)}}}function Wi(l){var g=document.createElement("template");return g.innerHTML=l.replaceAll("<!>","<!---->"),g.content}function Gi(l,g){var d=H;d.nodes_start===null&&(d.nodes_start=l,d.nodes_end=g)}function Tt(l,g){var d=(g&qn)!==0,C,c=!l.startsWith("<!>");return()=>{C===void 0&&(C=Wi(c?l:"<!>"+l),C=hn(C));var e=d||un?document.importNode(C,!0):C.cloneNode(!0);return Gi(e,e),e}}function Bt(l,g){l!==null&&l.before(g)}function zi(l,g){return Qi(l,g)}const Me=new Map;function Qi(l,{target:g,anchor:d,props:C={},events:c,context:e,intro:f=!0}){mi();var r=new Set,n=v=>{for(var o=0;o<v.length;o++){var t=v[o];if(!r.has(t)){r.add(t);var a=Ui(t);g.addEventListener(t,Ke,{passive:a});var s=Me.get(t);s===void 0?(document.addEventListener(t,Ke,{passive:a}),Me.set(t,1)):Me.set(t,s+1)}}};n(bn(_i)),Qt.add(n);var u=void 0,i=Mi(()=>{var v=d??g.appendChild(xi());return Ti(()=>{if(e){St({});var o=U;o.c=e}c&&(C.$$events=c),u=l(v,C)||{},e&&Pt()}),()=>{for(var o of r){g.removeEventListener(o,Ke);var t=Me.get(o);--t===0?(document.removeEventListener(o,Ke),Me.delete(o)):Me.set(o,t)}Qt.delete(n),v!==d&&v.parentNode?.removeChild(v)}});return $i.set(u,i),u}let $i=new WeakMap;function In(l){var g,d,C="";if(typeof l=="string"||typeof l=="number")C+=l;else if(typeof l=="object")if(Array.isArray(l)){var c=l.length;for(g=0;g<c;g++)l[g]&&(d=In(l[g]))&&(C&&(C+=" "),C+=d)}else for(d in l)l[d]&&(C&&(C+=" "),C+=d);return C}function Ki(){for(var l,g,d=0,C="",c=arguments.length;d<c;d++)(l=arguments[d])&&(g=In(l))&&(C&&(C+=" "),C+=g);return C}function Zi(l){return typeof l=="object"?Ki(l):l??""}function Ji(l,g,d){var C=l==null?"":""+l;return C=C?C+" "+g:g,C===""?null:C}function $t(l,g=!1){var d=g?" !important;":";",C="";for(var c in l){var e=l[c];e!=null&&e!==""&&(C+=" "+c+": "+e+d)}return C}function Yi(l,g){if(g){var d="",C,c;return Array.isArray(g)?(C=g[0],c=g[1]):C=g,C&&(d+=$t(C)),c&&(d+=$t(c,!0)),d=d.trim(),d===""?null:d}return String(l)}function Xi(l,g,d,C,c,e){var f=l.__className;if(f!==d||f===void 0){var r=Ji(d,C);r==null?l.removeAttribute("class"):l.className=r,l.__className=d}return e}function ot(l,g={},d,C){for(var c in d){var e=d[c];g[c]!==e&&(d[c]==null?l.style.removeProperty(c):l.style.setProperty(c,e,C))}}function ji(l,g,d,C){var c=l.__style;if(c!==g){var e=Yi(g,C);e==null?l.removeAttribute("style"):l.style.cssText=e,l.__style=g}else C&&(Array.isArray(C)?(ot(l,d?.[0],C[0]),ot(l,d?.[1],C[1],"important")):ot(l,d,C));return C}function qi(l,g,d){var C=Ie(l,g);C&&C.set&&(l[g]=d,Pi(()=>{l[g]=null}))}function Kt(l,g){return l===g||l?.[Ae]===g}function An(l={},g,d,C){return Ei(()=>{var c,e;return Ai(()=>{c=e,e=[],At(()=>{l!==d(...e)&&(g(l,...e),c&&Kt(d(...c),l)&&g(null,...c))})}),()=>{si(()=>{e&&Kt(d(...e),l)&&g(null,...e)})}}),l}function er(l=!1){const g=U,d=g.l.u;if(!d)return;let C=()=>Hi(g.s);if(l){let c=0,e={};const f=Mt(()=>{let r=!1;const n=g.s;for(const u in n)n[u]!==e[u]&&(e[u]=n[u],r=!0);return r&&c++,c});C=()=>ie(f)}d.b.length&&Ci(()=>{Zt(g,C),Je(d.b)}),ht(()=>{const c=At(()=>d.m.map(Nn));return()=>{for(const e of c)typeof e=="function"&&e()}}),d.a.length&&ht(()=>{Zt(g,C),Je(d.a)})}function Zt(l,g){if(l.l.s)for(const d of l.l.s)ie(d);g()}function Tn(l){U===null&&zn(),Ue&&U.l!==null?tr(U).m.push(l):ht(()=>{const g=At(l);if(typeof g=="function")return g})}function tr(l){var g=l.l;return g.u??={a:[],b:[],m:[]}}const nr="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(nr);var ir=Tt(`<div class="scroll svelte-g04off"><div class="content svelte-g04off"><h1 class="svelte-g04off">Andrew Yurovchak</h1> <h1 class="svelte-g04off">Hoboken New Jersey || Nashua New Hampshire</h1> <h1 class="svelte-g04off"><a href="mailto:andy@yurovchak.net" class="svelte-g04off">andy@yurovchak.net</a></h1> <h1 class="svelte-g04off"><a href="https://docs.google.com/viewer?url=https%3A%2F%2Fgithub.com%2Fandrewyur%2Fresume%2Freleases%2Flatest%2Fdownload%2Fresume.pdf" class="svelte-g04off">view resume</a></h1> <p class="svelte-g04off">I am computer science student at Stevens Institute of Technology. I
            am a really quick learner, and a talented software engineer. I enjoy
            designing and building software.</p> <h2 class="svelte-g04off">work experience</h2> <h3 class="svelte-g04off">Software Engineering Internship - BAE Systems - Summer 2025</h3> <p class="svelte-g04off">I took ownership of a Fullstack Web UI for a Signals Intelligence
            platform, which was built with Vue and Node. During my time here, I
            rewrote the entire codebase from commonjs JavaScript to ES6
            Typescript, upgraded the frontend from Vue 2 to Vue 3, integrated a
            server framework into the backend, and added a build step with Vite
            that reduced uncached page load time from 10 seconds to 400
            milliseconds. I also added a user interface for the platform's file
            upload system, which involved designing a websocket protocol and
            common interface, making GRPC calls, and streaming files from the
            backend to the platform. I was also able to make a lot of container
            optimizations: The UI was running accross 4 pods in a kubernetes
            cluster, and I was able to condense them all into one pod and only 1
            exposed port, using Nginx as a reverse proxy. This reduced the
            combined image size for the UI by 1.1GB, and allowed the user to
            access the UI on their local browser with ssh port forwarding. I was
            also able to reduce the UI's image build time by 98% (6 mins to 5
            secs) by rewriting the dockerfile to take better advantage of layer
            caching. I had a blast working here, the work I was doing was
            similar to what I would have been doing for fun if I was unemployed,
            I often found myself pulling 11 hour days without meaning to.</p> <h3 class="svelte-g04off">Software Engineering Internship - Jacobs Technology - Summer 2024</h3> <p class="svelte-g04off">I worked on an agile software development team, and completed
            feature requests and bug fixes across a wide range of .NET based
            applications. The area I was in focused mostly on creating
            applications that compressed navigation data for military aircraft.
            Most of my time here was spent digging through confusing,
            undocumented code and traversing gigantic inheritance trees. I was
            also able to do some work on an internal load testing tool with some
            other interns, also written in .NET. I implemented error handling
            features which prevented the entire 4hr+ runtime from going forward
            if there was an error in the configuration.</p> <h3 class="svelte-g04off">Head of Risk and Development - Stevens Student Managed Investment
            Fund - Fall 2024</h3> <p class="svelte-g04off">I led a team of 4 developers in maintaining and developing new
            features for the fund's internal website, which provided portfolio
            information and analysis tools to the fund's equity analysts. The
            website was written in React, and used Python and Flask for the
            backend. While I was there, I made a page for the site that showed
            graphs depicting the fund's performance metrics, which involved
            pulling data from yfinance, calculating the fund performance metrics
            with pandas, and then caching the resulting data. I had a great time
            in this position, I learned a lot about managing people and leading
            a team of software engineers.</p> <h2 class="svelte-g04off">projects</h2> <h3 class="svelte-g04off">Reverse engineered photograpy portfolio - <a href="https://photos.baetylboy.biz" class="svelte-g04off">live link</a> - <a href="https://github.com/andrewyur/photography-portfolio" class="svelte-g04off">github</a></h3> <p class="svelte-g04off">I publish all of my photography onto a shared album on apple photos,
            and I wanted to find a way to display that album on a custom
            website, without having to worry about posting my photography in
            multiple places. I found out that apple photos provides a web viewer
            for the shared album, and so I decided to reverse engineer the front
            end code, and figure out how to call the private API that the apple
            photos website uses to fetch photos from the album, so that I could
            display the photos on my website without having to worry about
            storing them. I became very familiar with the devtools debugger with
            this project, there was about 4k lines of minified code to dig
            through. I built the website with Svelte, and made a special effort
            to create a site that looks good on mobile and desktop.</p> <h3 class="svelte-g04off">Collaborative text editor - <a href="https://collab-notepad.baetylboy.biz" class="svelte-g04off">live link</a> - <a href="https://github.com/andrewyur/collab_notepad" class="svelte-g04off">github</a></h3> <p class="svelte-g04off">I built a google-docs-style collaborative text editor, that allows
            multiple people to edit a text document in real time, without having
            to worry about edit conflicts. I ended up creating my own version of
            an operational transformation algorithm, which allowed for merging
            divergent document states of any length. This means that clients can
            push changes to the server without pulling them in first, or have a
            really slow connection to the server and still have the same
            document once the dust settles. I wrote this project in Elixir, a
            functional programming language that is a sibling of Erlang, famous
            for its fault tolerance features. It was a really unique experience,
            and it was also very interesting to tackle the challenges using a
            functional programming language presented.</p> <h3 class="svelte-g04off">QR code image encoder - <a href="https://github.com/andrewyur/qart" class="svelte-g04off">github</a> - <a href="https://crates.io/crates/qart" class="svelte-g04off">crates.io</a></h3> <p class="svelte-g04off">I wrote a Rust implementation of the process described in <a href="https://research.swtch.com/qart" class="svelte-g04off">this article</a>, which
            utilized multithreading and Rust's high performance to do it at
            least 100 times faster than other implementations. the process of
            encoding an image into a working QR code was really complex, and the
            article only gave vague instructions. I had to piece this together
            from bits of code across repositories, and without any prior
            understanding of linear algebra or of QR codes, it was a significant
            learning experience. Looking back on it, the code is pretty messy
            and not very idiomatic, I am certain I could write better Rust code
            these days...</p> <h2 class="svelte-g04off">other things</h2> <p class="svelte-g04off">I fence for my college (I got <a href="https://docs.google.com/viewer?url=https%3A%2F%2Fusfca.org%2Fwp-admin%2Fadmin-ajax.php%3Fjuwpfisadmin%3Dfalse%26action%3Dwpfd%26task%3Dfile.download%26wpfd_category_id%3D77%26wpfd_file_id%3D42521%26token%3D%26preview%3D1&amp;embedded=true" class="svelte-g04off">all american honorable mention</a> last season), I enjoy playing pool and video games, listening to music
            and fantasy/sci-fi audiobooks, and <a href="https://photos.baetylboy.biz" class="svelte-g04off">photography</a> in my free time</p></div></div>`);function rr(l,g){var d=ir();let C;mn(c=>C=ji(d,"",C,c),[()=>({"pointer-events":g.pointerEvents?"none":"auto"})]),Bt(l,d)}ni();var Jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ze={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ar=Ze.exports,Yt;function sr(){return Yt||(Yt=1,function(l,g){(function(C,c){l.exports=c()})(ar,function(){return function(d){var C={};function c(e){if(C[e])return C[e].exports;var f=C[e]={i:e,l:!1,exports:{}};return d[e].call(f.exports,f,f.exports,c),f.l=!0,f.exports}return c.m=d,c.c=C,c.d=function(e,f,r){c.o(e,f)||Object.defineProperty(e,f,{enumerable:!0,get:r})},c.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,f){if(f&1&&(e=c(e)),f&8||f&4&&typeof e=="object"&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),f&2&&typeof e!="string")for(var n in e)c.d(r,n,(function(u){return e[u]}).bind(null,n));return r},c.n=function(e){var f=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(f,"a",f),f},c.o=function(e,f){return Object.prototype.hasOwnProperty.call(e,f)},c.p="",c(c.s=20)}([function(d,C){var c={};d.exports=c,function(){c._baseDelta=1e3/60,c._nextId=0,c._seed=0,c._nowStartTime=+new Date,c._warnedOnce={},c._decomp=null,c.extend=function(f,r){var n,u;typeof r=="boolean"?(n=2,u=r):(n=1,u=!0);for(var i=n;i<arguments.length;i++){var v=arguments[i];if(v)for(var o in v)u&&v[o]&&v[o].constructor===Object&&(!f[o]||f[o].constructor===Object)?(f[o]=f[o]||{},c.extend(f[o],u,v[o])):f[o]=v[o]}return f},c.clone=function(f,r){return c.extend({},r,f)},c.keys=function(f){if(Object.keys)return Object.keys(f);var r=[];for(var n in f)r.push(n);return r},c.values=function(f){var r=[];if(Object.keys){for(var n=Object.keys(f),u=0;u<n.length;u++)r.push(f[n[u]]);return r}for(var i in f)r.push(f[i]);return r},c.get=function(f,r,n,u){r=r.split(".").slice(n,u);for(var i=0;i<r.length;i+=1)f=f[r[i]];return f},c.set=function(f,r,n,u,i){var v=r.split(".").slice(u,i);return c.get(f,r,0,-1)[v[v.length-1]]=n,n},c.shuffle=function(f){for(var r=f.length-1;r>0;r--){var n=Math.floor(c.random()*(r+1)),u=f[r];f[r]=f[n],f[n]=u}return f},c.choose=function(f){return f[Math.floor(c.random()*f.length)]},c.isElement=function(f){return typeof HTMLElement<"u"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},c.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},c.isFunction=function(f){return typeof f=="function"},c.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},c.isString=function(f){return toString.call(f)==="[object String]"},c.clamp=function(f,r,n){return f<r?r:f>n?n:f},c.sign=function(f){return f<0?-1:1},c.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-c._nowStartTime},c.random=function(f,r){return f=typeof f<"u"?f:0,r=typeof r<"u"?r:1,f+e()*(r-f)};var e=function(){return c._seed=(c._seed*9301+49297)%233280,c._seed/233280};c.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},c.logLevel=1,c.log=function(){console&&c.logLevel>0&&c.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.info=function(){console&&c.logLevel>0&&c.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.warn=function(){console&&c.logLevel>0&&c.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},c.warnOnce=function(){var f=Array.prototype.slice.call(arguments).join(" ");c._warnedOnce[f]||(c.warn(f),c._warnedOnce[f]=!0)},c.deprecated=function(f,r,n){f[r]=c.chain(function(){c.warnOnce("ðŸ”… deprecated ðŸ”…",n)},f[r])},c.nextId=function(){return c._nextId++},c.indexOf=function(f,r){if(f.indexOf)return f.indexOf(r);for(var n=0;n<f.length;n++)if(f[n]===r)return n;return-1},c.map=function(f,r){if(f.map)return f.map(r);for(var n=[],u=0;u<f.length;u+=1)n.push(r(f[u]));return n},c.topologicalSort=function(f){var r=[],n=[],u=[];for(var i in f)!n[i]&&!u[i]&&c._topologicalSort(i,n,u,f,r);return r},c._topologicalSort=function(f,r,n,u,i){var v=u[f]||[];n[f]=!0;for(var o=0;o<v.length;o+=1){var t=v[o];n[t]||r[t]||c._topologicalSort(t,r,n,u,i)}n[f]=!1,r[f]=!0,i.push(f)},c.chain=function(){for(var f=[],r=0;r<arguments.length;r+=1){var n=arguments[r];n._chained?f.push.apply(f,n._chained):f.push(n)}var u=function(){for(var i,v=new Array(arguments.length),o=0,t=arguments.length;o<t;o++)v[o]=arguments[o];for(o=0;o<f.length;o+=1){var a=f[o].apply(i,v);typeof a<"u"&&(i=a)}return i};return u._chained=f,u},c.chainPathBefore=function(f,r,n){return c.set(f,r,c.chain(n,c.get(f,r)))},c.chainPathAfter=function(f,r,n){return c.set(f,r,c.chain(c.get(f,r),n))},c.setDecomp=function(f){c._decomp=f},c.getDecomp=function(){var f=c._decomp;try{!f&&typeof window<"u"&&(f=window.decomp),!f&&typeof Jt<"u"&&(f=Jt.decomp)}catch{f=null}return f}}()},function(d,C){var c={};d.exports=c,function(){c.create=function(e){var f={min:{x:0,y:0},max:{x:0,y:0}};return e&&c.update(f,e),f},c.update=function(e,f,r){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var n=0;n<f.length;n++){var u=f[n];u.x>e.max.x&&(e.max.x=u.x),u.x<e.min.x&&(e.min.x=u.x),u.y>e.max.y&&(e.max.y=u.y),u.y<e.min.y&&(e.min.y=u.y)}r&&(r.x>0?e.max.x+=r.x:e.min.x+=r.x,r.y>0?e.max.y+=r.y:e.min.y+=r.y)},c.contains=function(e,f){return f.x>=e.min.x&&f.x<=e.max.x&&f.y>=e.min.y&&f.y<=e.max.y},c.overlaps=function(e,f){return e.min.x<=f.max.x&&e.max.x>=f.min.x&&e.max.y>=f.min.y&&e.min.y<=f.max.y},c.translate=function(e,f){e.min.x+=f.x,e.max.x+=f.x,e.min.y+=f.y,e.max.y+=f.y},c.shift=function(e,f){var r=e.max.x-e.min.x,n=e.max.y-e.min.y;e.min.x=f.x,e.max.x=f.x+r,e.min.y=f.y,e.max.y=f.y+n}}()},function(d,C){var c={};d.exports=c,function(){c.create=function(e,f){return{x:e||0,y:f||0}},c.clone=function(e){return{x:e.x,y:e.y}},c.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},c.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},c.rotate=function(e,f,r){var n=Math.cos(f),u=Math.sin(f);r||(r={});var i=e.x*n-e.y*u;return r.y=e.x*u+e.y*n,r.x=i,r},c.rotateAbout=function(e,f,r,n){var u=Math.cos(f),i=Math.sin(f);n||(n={});var v=r.x+((e.x-r.x)*u-(e.y-r.y)*i);return n.y=r.y+((e.x-r.x)*i+(e.y-r.y)*u),n.x=v,n},c.normalise=function(e){var f=c.magnitude(e);return f===0?{x:0,y:0}:{x:e.x/f,y:e.y/f}},c.dot=function(e,f){return e.x*f.x+e.y*f.y},c.cross=function(e,f){return e.x*f.y-e.y*f.x},c.cross3=function(e,f,r){return(f.x-e.x)*(r.y-e.y)-(f.y-e.y)*(r.x-e.x)},c.add=function(e,f,r){return r||(r={}),r.x=e.x+f.x,r.y=e.y+f.y,r},c.sub=function(e,f,r){return r||(r={}),r.x=e.x-f.x,r.y=e.y-f.y,r},c.mult=function(e,f){return{x:e.x*f,y:e.y*f}},c.div=function(e,f){return{x:e.x/f,y:e.y/f}},c.perp=function(e,f){return f=f===!0?-1:1,{x:f*-e.y,y:f*e.x}},c.neg=function(e){return{x:-e.x,y:-e.y}},c.angle=function(e,f){return Math.atan2(f.y-e.y,f.x-e.x)},c._temp=[c.create(),c.create(),c.create(),c.create(),c.create(),c.create()]}()},function(d,C,c){var e={};d.exports=e;var f=c(2),r=c(0);(function(){e.create=function(n,u){for(var i=[],v=0;v<n.length;v++){var o=n[v],t={x:o.x,y:o.y,index:v,body:u,isInternal:!1};i.push(t)}return i},e.fromPath=function(n,u){var i=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,v=[];return n.replace(i,function(o,t,a){v.push({x:parseFloat(t),y:parseFloat(a)})}),e.create(v,u)},e.centre=function(n){for(var u=e.area(n,!0),i={x:0,y:0},v,o,t,a=0;a<n.length;a++)t=(a+1)%n.length,v=f.cross(n[a],n[t]),o=f.mult(f.add(n[a],n[t]),v),i=f.add(i,o);return f.div(i,6*u)},e.mean=function(n){for(var u={x:0,y:0},i=0;i<n.length;i++)u.x+=n[i].x,u.y+=n[i].y;return f.div(u,n.length)},e.area=function(n,u){for(var i=0,v=n.length-1,o=0;o<n.length;o++)i+=(n[v].x-n[o].x)*(n[v].y+n[o].y),v=o;return u?i/2:Math.abs(i)/2},e.inertia=function(n,u){for(var i=0,v=0,o=n,t,a,s=0;s<o.length;s++)a=(s+1)%o.length,t=Math.abs(f.cross(o[a],o[s])),i+=t*(f.dot(o[a],o[a])+f.dot(o[a],o[s])+f.dot(o[s],o[s])),v+=t;return u/6*(i/v)},e.translate=function(n,u,i){i=typeof i<"u"?i:1;var v=n.length,o=u.x*i,t=u.y*i,a;for(a=0;a<v;a++)n[a].x+=o,n[a].y+=t;return n},e.rotate=function(n,u,i){if(u!==0){var v=Math.cos(u),o=Math.sin(u),t=i.x,a=i.y,s=n.length,h,x,P,E;for(E=0;E<s;E++)h=n[E],x=h.x-t,P=h.y-a,h.x=t+(x*v-P*o),h.y=a+(x*o+P*v);return n}},e.contains=function(n,u){for(var i=u.x,v=u.y,o=n.length,t=n[o-1],a,s=0;s<o;s++){if(a=n[s],(i-t.x)*(a.y-t.y)+(v-t.y)*(t.x-a.x)>0)return!1;t=a}return!0},e.scale=function(n,u,i,v){if(u===1&&i===1)return n;v=v||e.centre(n);for(var o,t,a=0;a<n.length;a++)o=n[a],t=f.sub(o,v),n[a].x=v.x+t.x*u,n[a].y=v.y+t.y*i;return n},e.chamfer=function(n,u,i,v,o){typeof u=="number"?u=[u]:u=u||[8],i=typeof i<"u"?i:-1,v=v||2,o=o||14;for(var t=[],a=0;a<n.length;a++){var s=n[a-1>=0?a-1:n.length-1],h=n[a],x=n[(a+1)%n.length],P=u[a<u.length?a:u.length-1];if(P===0){t.push(h);continue}var E=f.normalise({x:h.y-s.y,y:s.x-h.x}),T=f.normalise({x:x.y-h.y,y:h.x-x.x}),p=Math.sqrt(2*Math.pow(P,2)),y=f.mult(r.clone(E),P),w=f.normalise(f.mult(f.add(E,T),.5)),m=f.sub(h,f.mult(w,p)),M=i;i===-1&&(M=Math.pow(P,.32)*1.75),M=r.clamp(M,v,o),M%2===1&&(M+=1);for(var S=Math.acos(f.dot(E,T)),I=S/M,A=0;A<M;A++)t.push(f.add(f.rotate(y,I*A),m))}return t},e.clockwiseSort=function(n){var u=e.mean(n);return n.sort(function(i,v){return f.angle(u,i)-f.angle(u,v)}),n},e.isConvex=function(n){var u=0,i=n.length,v,o,t,a;if(i<3)return null;for(v=0;v<i;v++)if(o=(v+1)%i,t=(v+2)%i,a=(n[o].x-n[v].x)*(n[t].y-n[o].y),a-=(n[o].y-n[v].y)*(n[t].x-n[o].x),a<0?u|=1:a>0&&(u|=2),u===3)return!1;return u!==0?!0:null},e.hull=function(n){var u=[],i=[],v,o;for(n=n.slice(0),n.sort(function(t,a){var s=t.x-a.x;return s!==0?s:t.y-a.y}),o=0;o<n.length;o+=1){for(v=n[o];i.length>=2&&f.cross3(i[i.length-2],i[i.length-1],v)<=0;)i.pop();i.push(v)}for(o=n.length-1;o>=0;o-=1){for(v=n[o];u.length>=2&&f.cross3(u[u.length-2],u[u.length-1],v)<=0;)u.pop();u.push(v)}return u.pop(),i.pop(),u.concat(i)}})()},function(d,C,c){var e={};d.exports=e;var f=c(3),r=c(2),n=c(7),u=c(0),i=c(1),v=c(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var a={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:f.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},s=u.extend(a,t);return o(s,t),s},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var o=function(t,a){a=a||{},e.set(t,{bounds:t.bounds||i.create(t.vertices),positionPrev:t.positionPrev||r.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),f.rotate(t.vertices,t.angle,t.position),v.rotate(t.axes,t.angle),i.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:a.axes||t.axes,area:a.area||t.area,mass:a.mass||t.mass,inertia:a.inertia||t.inertia});var s=t.isStatic?"#14151f":u.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),h=t.isStatic?"#555":"#ccc",x=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||s,t.render.strokeStyle=t.render.strokeStyle||h,t.render.lineWidth=t.render.lineWidth||x,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,a,s){var h;typeof a=="string"&&(h=a,a={},a[h]=s);for(h in a)if(Object.prototype.hasOwnProperty.call(a,h))switch(s=a[h],h){case"isStatic":e.setStatic(t,s);break;case"isSleeping":n.set(t,s);break;case"mass":e.setMass(t,s);break;case"density":e.setDensity(t,s);break;case"inertia":e.setInertia(t,s);break;case"vertices":e.setVertices(t,s);break;case"position":e.setPosition(t,s);break;case"angle":e.setAngle(t,s);break;case"velocity":e.setVelocity(t,s);break;case"angularVelocity":e.setAngularVelocity(t,s);break;case"speed":e.setSpeed(t,s);break;case"angularSpeed":e.setAngularSpeed(t,s);break;case"parts":e.setParts(t,s);break;case"centre":e.setCentre(t,s);break;default:t[h]=s}},e.setStatic=function(t,a){for(var s=0;s<t.parts.length;s++){var h=t.parts[s];a?(h.isStatic||(h._original={restitution:h.restitution,friction:h.friction,mass:h.mass,inertia:h.inertia,density:h.density,inverseMass:h.inverseMass,inverseInertia:h.inverseInertia}),h.restitution=0,h.friction=1,h.mass=h.inertia=h.density=1/0,h.inverseMass=h.inverseInertia=0,h.positionPrev.x=h.position.x,h.positionPrev.y=h.position.y,h.anglePrev=h.angle,h.angularVelocity=0,h.speed=0,h.angularSpeed=0,h.motion=0):h._original&&(h.restitution=h._original.restitution,h.friction=h._original.friction,h.mass=h._original.mass,h.inertia=h._original.inertia,h.density=h._original.density,h.inverseMass=h._original.inverseMass,h.inverseInertia=h._original.inverseInertia,h._original=null),h.isStatic=a}},e.setMass=function(t,a){var s=t.inertia/(t.mass/6);t.inertia=s*(a/6),t.inverseInertia=1/t.inertia,t.mass=a,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,a){e.setMass(t,a*t.area),t.density=a},e.setInertia=function(t,a){t.inertia=a,t.inverseInertia=1/t.inertia},e.setVertices=function(t,a){a[0].body===t?t.vertices=a:t.vertices=f.create(a,t),t.axes=v.fromVertices(t.vertices),t.area=f.area(t.vertices),e.setMass(t,t.density*t.area);var s=f.centre(t.vertices);f.translate(t.vertices,s,-1),e.setInertia(t,e._inertiaScale*f.inertia(t.vertices,t.mass)),f.translate(t.vertices,t.position),i.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,a,s){var h;for(a=a.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,h=0;h<a.length;h++){var x=a[h];x!==t&&(x.parent=t,t.parts.push(x))}if(t.parts.length!==1){if(s=typeof s<"u"?s:!0,s){var P=[];for(h=0;h<a.length;h++)P=P.concat(a[h].vertices);f.clockwiseSort(P);var E=f.hull(P),T=f.centre(E);e.setVertices(t,E),f.translate(t.vertices,T)}var p=e._totalProperties(t);t.area=p.area,t.parent=t,t.position.x=p.centre.x,t.position.y=p.centre.y,t.positionPrev.x=p.centre.x,t.positionPrev.y=p.centre.y,e.setMass(t,p.mass),e.setInertia(t,p.inertia),e.setPosition(t,p.centre)}},e.setCentre=function(t,a,s){s?(t.positionPrev.x+=a.x,t.positionPrev.y+=a.y,t.position.x+=a.x,t.position.y+=a.y):(t.positionPrev.x=a.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=a.y-(t.position.y-t.positionPrev.y),t.position.x=a.x,t.position.y=a.y)},e.setPosition=function(t,a,s){var h=r.sub(a,t.position);s?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=h.x,t.velocity.y=h.y,t.speed=r.magnitude(h)):(t.positionPrev.x+=h.x,t.positionPrev.y+=h.y);for(var x=0;x<t.parts.length;x++){var P=t.parts[x];P.position.x+=h.x,P.position.y+=h.y,f.translate(P.vertices,h),i.update(P.bounds,P.vertices,t.velocity)}},e.setAngle=function(t,a,s){var h=a-t.angle;s?(t.anglePrev=t.angle,t.angularVelocity=h,t.angularSpeed=Math.abs(h)):t.anglePrev+=h;for(var x=0;x<t.parts.length;x++){var P=t.parts[x];P.angle+=h,f.rotate(P.vertices,h,t.position),v.rotate(P.axes,h),i.update(P.bounds,P.vertices,t.velocity),x>0&&r.rotateAbout(P.position,h,t.position,P.position)}},e.setVelocity=function(t,a){var s=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-a.x*s,t.positionPrev.y=t.position.y-a.y*s,t.velocity.x=(t.position.x-t.positionPrev.x)/s,t.velocity.y=(t.position.y-t.positionPrev.y)/s,t.speed=r.magnitude(t.velocity)},e.getVelocity=function(t){var a=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*a,y:(t.position.y-t.positionPrev.y)*a}},e.getSpeed=function(t){return r.magnitude(e.getVelocity(t))},e.setSpeed=function(t,a){e.setVelocity(t,r.mult(r.normalise(e.getVelocity(t)),a))},e.setAngularVelocity=function(t,a){var s=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-a*s,t.angularVelocity=(t.angle-t.anglePrev)/s,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,a){e.setAngularVelocity(t,u.sign(e.getAngularVelocity(t))*a)},e.translate=function(t,a,s){e.setPosition(t,r.add(t.position,a),s)},e.rotate=function(t,a,s,h){if(!s)e.setAngle(t,t.angle+a,h);else{var x=Math.cos(a),P=Math.sin(a),E=t.position.x-s.x,T=t.position.y-s.y;e.setPosition(t,{x:s.x+(E*x-T*P),y:s.y+(E*P+T*x)},h),e.setAngle(t,t.angle+a,h)}},e.scale=function(t,a,s,h){var x=0,P=0;h=h||t.position;for(var E=0;E<t.parts.length;E++){var T=t.parts[E];f.scale(T.vertices,a,s,h),T.axes=v.fromVertices(T.vertices),T.area=f.area(T.vertices),e.setMass(T,t.density*T.area),f.translate(T.vertices,{x:-T.position.x,y:-T.position.y}),e.setInertia(T,e._inertiaScale*f.inertia(T.vertices,T.mass)),f.translate(T.vertices,{x:T.position.x,y:T.position.y}),E>0&&(x+=T.area,P+=T.inertia),T.position.x=h.x+(T.position.x-h.x)*a,T.position.y=h.y+(T.position.y-h.y)*s,i.update(T.bounds,T.vertices,t.velocity)}t.parts.length>1&&(t.area=x,t.isStatic||(e.setMass(t,t.density*x),e.setInertia(t,P))),t.circleRadius&&(a===s?t.circleRadius*=a:t.circleRadius=null)},e.update=function(t,a){a=(typeof a<"u"?a:1e3/60)*t.timeScale;var s=a*a,h=e._timeCorrection?a/(t.deltaTime||a):1,x=1-t.frictionAir*(a/u._baseDelta),P=(t.position.x-t.positionPrev.x)*h,E=(t.position.y-t.positionPrev.y)*h;t.velocity.x=P*x+t.force.x/t.mass*s,t.velocity.y=E*x+t.force.y/t.mass*s,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=a,t.angularVelocity=(t.angle-t.anglePrev)*x*h+t.torque/t.inertia*s,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var T=0;T<t.parts.length;T++){var p=t.parts[T];f.translate(p.vertices,t.velocity),T>0&&(p.position.x+=t.velocity.x,p.position.y+=t.velocity.y),t.angularVelocity!==0&&(f.rotate(p.vertices,t.angularVelocity,t.position),v.rotate(p.axes,t.angularVelocity),T>0&&r.rotateAbout(p.position,t.angularVelocity,t.position,p.position)),i.update(p.bounds,p.vertices,t.velocity)}},e.updateVelocities=function(t){var a=e._baseDelta/t.deltaTime,s=t.velocity;s.x=(t.position.x-t.positionPrev.x)*a,s.y=(t.position.y-t.positionPrev.y)*a,t.speed=Math.sqrt(s.x*s.x+s.y*s.y),t.angularVelocity=(t.angle-t.anglePrev)*a,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,a,s){var h={x:a.x-t.position.x,y:a.y-t.position.y};t.force.x+=s.x,t.force.y+=s.y,t.torque+=h.x*s.y-h.y*s.x},e._totalProperties=function(t){for(var a={mass:0,area:0,inertia:0,centre:{x:0,y:0}},s=t.parts.length===1?0:1;s<t.parts.length;s++){var h=t.parts[s],x=h.mass!==1/0?h.mass:1;a.mass+=x,a.area+=h.area,a.inertia+=h.inertia,a.centre=r.add(a.centre,r.mult(h.position,x))}return a.centre=r.div(a.centre,a.mass),a}})()},function(d,C,c){var e={};d.exports=e;var f=c(0);(function(){e.on=function(r,n,u){for(var i=n.split(" "),v,o=0;o<i.length;o++)v=i[o],r.events=r.events||{},r.events[v]=r.events[v]||[],r.events[v].push(u);return u},e.off=function(r,n,u){if(!n){r.events={};return}typeof n=="function"&&(u=n,n=f.keys(r.events).join(" "));for(var i=n.split(" "),v=0;v<i.length;v++){var o=r.events[i[v]],t=[];if(u&&o)for(var a=0;a<o.length;a++)o[a]!==u&&t.push(o[a]);r.events[i[v]]=t}},e.trigger=function(r,n,u){var i,v,o,t,a=r.events;if(a&&f.keys(a).length>0){u||(u={}),i=n.split(" ");for(var s=0;s<i.length;s++)if(v=i[s],o=a[v],o){t=f.clone(u,!1),t.name=v,t.source=r;for(var h=0;h<o.length;h++)o[h].apply(r,[t])}}}})()},function(d,C,c){var e={};d.exports=e;var f=c(5),r=c(0),n=c(1),u=c(4);(function(){e.create=function(i){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},i)},e.setModified=function(i,v,o,t){if(i.isModified=v,v&&i.cache&&(i.cache.allBodies=null,i.cache.allConstraints=null,i.cache.allComposites=null),o&&i.parent&&e.setModified(i.parent,v,o,t),t)for(var a=0;a<i.composites.length;a++){var s=i.composites[a];e.setModified(s,v,o,t)}},e.add=function(i,v){var o=[].concat(v);f.trigger(i,"beforeAdd",{object:v});for(var t=0;t<o.length;t++){var a=o[t];switch(a.type){case"body":if(a.parent!==a){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(i,a);break;case"constraint":e.addConstraint(i,a);break;case"composite":e.addComposite(i,a);break;case"mouseConstraint":e.addConstraint(i,a.constraint);break}}return f.trigger(i,"afterAdd",{object:v}),i},e.remove=function(i,v,o){var t=[].concat(v);f.trigger(i,"beforeRemove",{object:v});for(var a=0;a<t.length;a++){var s=t[a];switch(s.type){case"body":e.removeBody(i,s,o);break;case"constraint":e.removeConstraint(i,s,o);break;case"composite":e.removeComposite(i,s,o);break;case"mouseConstraint":e.removeConstraint(i,s.constraint);break}}return f.trigger(i,"afterRemove",{object:v}),i},e.addComposite=function(i,v){return i.composites.push(v),v.parent=i,e.setModified(i,!0,!0,!1),i},e.removeComposite=function(i,v,o){var t=r.indexOf(i.composites,v);if(t!==-1){var a=e.allBodies(v);e.removeCompositeAt(i,t);for(var s=0;s<a.length;s++)a[s].sleepCounter=0}if(o)for(var s=0;s<i.composites.length;s++)e.removeComposite(i.composites[s],v,!0);return i},e.removeCompositeAt=function(i,v){return i.composites.splice(v,1),e.setModified(i,!0,!0,!1),i},e.addBody=function(i,v){return i.bodies.push(v),e.setModified(i,!0,!0,!1),i},e.removeBody=function(i,v,o){var t=r.indexOf(i.bodies,v);if(t!==-1&&(e.removeBodyAt(i,t),v.sleepCounter=0),o)for(var a=0;a<i.composites.length;a++)e.removeBody(i.composites[a],v,!0);return i},e.removeBodyAt=function(i,v){return i.bodies.splice(v,1),e.setModified(i,!0,!0,!1),i},e.addConstraint=function(i,v){return i.constraints.push(v),e.setModified(i,!0,!0,!1),i},e.removeConstraint=function(i,v,o){var t=r.indexOf(i.constraints,v);if(t!==-1&&e.removeConstraintAt(i,t),o)for(var a=0;a<i.composites.length;a++)e.removeConstraint(i.composites[a],v,!0);return i},e.removeConstraintAt=function(i,v){return i.constraints.splice(v,1),e.setModified(i,!0,!0,!1),i},e.clear=function(i,v,o){if(o)for(var t=0;t<i.composites.length;t++)e.clear(i.composites[t],v,!0);return v?i.bodies=i.bodies.filter(function(a){return a.isStatic}):i.bodies.length=0,i.constraints.length=0,i.composites.length=0,e.setModified(i,!0,!0,!1),i},e.allBodies=function(i){if(i.cache&&i.cache.allBodies)return i.cache.allBodies;for(var v=[].concat(i.bodies),o=0;o<i.composites.length;o++)v=v.concat(e.allBodies(i.composites[o]));return i.cache&&(i.cache.allBodies=v),v},e.allConstraints=function(i){if(i.cache&&i.cache.allConstraints)return i.cache.allConstraints;for(var v=[].concat(i.constraints),o=0;o<i.composites.length;o++)v=v.concat(e.allConstraints(i.composites[o]));return i.cache&&(i.cache.allConstraints=v),v},e.allComposites=function(i){if(i.cache&&i.cache.allComposites)return i.cache.allComposites;for(var v=[].concat(i.composites),o=0;o<i.composites.length;o++)v=v.concat(e.allComposites(i.composites[o]));return i.cache&&(i.cache.allComposites=v),v},e.get=function(i,v,o){var t,a;switch(o){case"body":t=e.allBodies(i);break;case"constraint":t=e.allConstraints(i);break;case"composite":t=e.allComposites(i).concat(i);break}return t?(a=t.filter(function(s){return s.id.toString()===v.toString()}),a.length===0?null:a[0]):null},e.move=function(i,v,o){return e.remove(i,v),e.add(o,v),i},e.rebase=function(i){for(var v=e.allBodies(i).concat(e.allConstraints(i)).concat(e.allComposites(i)),o=0;o<v.length;o++)v[o].id=r.nextId();return i},e.translate=function(i,v,o){for(var t=o?e.allBodies(i):i.bodies,a=0;a<t.length;a++)u.translate(t[a],v);return i},e.rotate=function(i,v,o,t){for(var a=Math.cos(v),s=Math.sin(v),h=t?e.allBodies(i):i.bodies,x=0;x<h.length;x++){var P=h[x],E=P.position.x-o.x,T=P.position.y-o.y;u.setPosition(P,{x:o.x+(E*a-T*s),y:o.y+(E*s+T*a)}),u.rotate(P,v)}return i},e.scale=function(i,v,o,t,a){for(var s=a?e.allBodies(i):i.bodies,h=0;h<s.length;h++){var x=s[h],P=x.position.x-t.x,E=x.position.y-t.y;u.setPosition(x,{x:t.x+P*v,y:t.y+E*o}),u.scale(x,v,o)}return i},e.bounds=function(i){for(var v=e.allBodies(i),o=[],t=0;t<v.length;t+=1){var a=v[t];o.push(a.bounds.min,a.bounds.max)}return n.create(o)}})()},function(d,C,c){var e={};d.exports=e;var f=c(4),r=c(5),n=c(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(u,i){for(var v=i/n._baseDelta,o=e._motionSleepThreshold,t=0;t<u.length;t++){var a=u[t],s=f.getSpeed(a),h=f.getAngularSpeed(a),x=s*s+h*h;if(a.force.x!==0||a.force.y!==0){e.set(a,!1);continue}var P=Math.min(a.motion,x),E=Math.max(a.motion,x);a.motion=e._minBias*P+(1-e._minBias)*E,a.sleepThreshold>0&&a.motion<o?(a.sleepCounter+=1,a.sleepCounter>=a.sleepThreshold/v&&e.set(a,!0)):a.sleepCounter>0&&(a.sleepCounter-=1)}},e.afterCollisions=function(u){for(var i=e._motionSleepThreshold,v=0;v<u.length;v++){var o=u[v];if(o.isActive){var t=o.collision,a=t.bodyA.parent,s=t.bodyB.parent;if(!(a.isSleeping&&s.isSleeping||a.isStatic||s.isStatic)&&(a.isSleeping||s.isSleeping)){var h=a.isSleeping&&!a.isStatic?a:s,x=h===a?s:a;!h.isStatic&&x.motion>i&&e.set(h,!1)}}}},e.set=function(u,i){var v=u.isSleeping;i?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,v||r.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,v&&r.trigger(u,"sleepEnd"))}})()},function(d,C,c){var e={};d.exports=e;var f=c(3),r=c(9);(function(){var n=[],u={overlap:0,axis:null},i={overlap:0,axis:null};e.create=function(v,o){return{pair:null,collided:!1,bodyA:v,bodyB:o,parentA:v.parent,parentB:o.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(v,o,t){if(e._overlapAxes(u,v.vertices,o.vertices,v.axes),u.overlap<=0||(e._overlapAxes(i,o.vertices,v.vertices,o.axes),i.overlap<=0))return null;var a=t&&t.table[r.id(v,o)],s;a?s=a.collision:(s=e.create(v,o),s.collided=!0,s.bodyA=v.id<o.id?v:o,s.bodyB=v.id<o.id?o:v,s.parentA=s.bodyA.parent,s.parentB=s.bodyB.parent),v=s.bodyA,o=s.bodyB;var h;u.overlap<i.overlap?h=u:h=i;var x=s.normal,P=s.tangent,E=s.penetration,T=s.supports,p=h.overlap,y=h.axis,w=y.x,m=y.y,M=o.position.x-v.position.x,S=o.position.y-v.position.y;w*M+m*S>=0&&(w=-w,m=-m),x.x=w,x.y=m,P.x=-m,P.y=w,E.x=w*p,E.y=m*p,s.depth=p;var I=e._findSupports(v,o,x,1),A=0;if(f.contains(v.vertices,I[0])&&(T[A++]=I[0]),f.contains(v.vertices,I[1])&&(T[A++]=I[1]),A<2){var B=e._findSupports(o,v,x,-1);f.contains(o.vertices,B[0])&&(T[A++]=B[0]),A<2&&f.contains(o.vertices,B[1])&&(T[A++]=B[1])}return A===0&&(T[A++]=I[0]),s.supportCount=A,s},e._overlapAxes=function(v,o,t,a){var s=o.length,h=t.length,x=o[0].x,P=o[0].y,E=t[0].x,T=t[0].y,p=a.length,y=Number.MAX_VALUE,w=0,m,M,S,I,A,B;for(A=0;A<p;A++){var R=a[A],k=R.x,F=R.y,D=x*k+P*F,L=E*k+T*F,V=D,N=L;for(B=1;B<s;B+=1)I=o[B].x*k+o[B].y*F,I>V?V=I:I<D&&(D=I);for(B=1;B<h;B+=1)I=t[B].x*k+t[B].y*F,I>N?N=I:I<L&&(L=I);if(M=V-L,S=N-D,m=M<S?M:S,m<y&&(y=m,w=A,m<=0))break}v.axis=a[w],v.overlap=y},e._findSupports=function(v,o,t,a){var s=o.vertices,h=s.length,x=v.position.x,P=v.position.y,E=t.x*a,T=t.y*a,p=s[0],y=p,w=E*(x-y.x)+T*(P-y.y),m,M,S;for(S=1;S<h;S+=1)y=s[S],M=E*(x-y.x)+T*(P-y.y),M<w&&(w=M,p=y);return m=s[(h+p.index-1)%h],w=E*(x-m.x)+T*(P-m.y),y=s[(p.index+1)%h],E*(x-y.x)+T*(P-y.y)<w?(n[0]=p,n[1]=y,n):(n[0]=p,n[1]=m,n)}})()},function(d,C,c){var e={};d.exports=e;var f=c(16);(function(){e.create=function(r,n){var u=r.bodyA,i=r.bodyB,v={id:e.id(u,i),bodyA:u,bodyB:i,collision:r,contacts:[f.create(),f.create()],contactCount:0,separation:0,isActive:!0,isSensor:u.isSensor||i.isSensor,timeCreated:n,timeUpdated:n,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(v,r,n),v},e.update=function(r,n,u){var i=n.supports,v=n.supportCount,o=r.contacts,t=n.parentA,a=n.parentB;r.isActive=!0,r.timeUpdated=u,r.collision=n,r.separation=n.depth,r.inverseMass=t.inverseMass+a.inverseMass,r.friction=t.friction<a.friction?t.friction:a.friction,r.frictionStatic=t.frictionStatic>a.frictionStatic?t.frictionStatic:a.frictionStatic,r.restitution=t.restitution>a.restitution?t.restitution:a.restitution,r.slop=t.slop>a.slop?t.slop:a.slop,r.contactCount=v,n.pair=r;var s=i[0],h=o[0],x=i[1],P=o[1];(P.vertex===s||h.vertex===x)&&(o[1]=h,o[0]=h=P,P=o[1]),h.vertex=s,P.vertex=x},e.setActive=function(r,n,u){n?(r.isActive=!0,r.timeUpdated=u):(r.isActive=!1,r.contactCount=0)},e.id=function(r,n){return r.id<n.id?r.id.toString(36)+":"+n.id.toString(36):n.id.toString(36)+":"+r.id.toString(36)}})()},function(d,C,c){var e={};d.exports=e;var f=c(3),r=c(2),n=c(7),u=c(1),i=c(11),v=c(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(o){var t=o;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var a=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,s=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,h=r.magnitude(r.sub(a,s));t.length=typeof t.length<"u"?t.length:h,t.id=t.id||v.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var x={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(x.type="pin",x.anchors=!1):t.stiffness<.9&&(x.type="spring"),t.render=v.extend(x,t.render),t},e.preSolveAll=function(o){for(var t=0;t<o.length;t+=1){var a=o[t],s=a.constraintImpulse;a.isStatic||s.x===0&&s.y===0&&s.angle===0||(a.position.x+=s.x,a.position.y+=s.y,a.angle+=s.angle)}},e.solveAll=function(o,t){for(var a=v.clamp(t/v._baseDelta,0,1),s=0;s<o.length;s+=1){var h=o[s],x=!h.bodyA||h.bodyA&&h.bodyA.isStatic,P=!h.bodyB||h.bodyB&&h.bodyB.isStatic;(x||P)&&e.solve(o[s],a)}for(s=0;s<o.length;s+=1)h=o[s],x=!h.bodyA||h.bodyA&&h.bodyA.isStatic,P=!h.bodyB||h.bodyB&&h.bodyB.isStatic,!x&&!P&&e.solve(o[s],a)},e.solve=function(o,t){var a=o.bodyA,s=o.bodyB,h=o.pointA,x=o.pointB;if(!(!a&&!s)){a&&!a.isStatic&&(r.rotate(h,a.angle-o.angleA,h),o.angleA=a.angle),s&&!s.isStatic&&(r.rotate(x,s.angle-o.angleB,x),o.angleB=s.angle);var P=h,E=x;if(a&&(P=r.add(a.position,h)),s&&(E=r.add(s.position,x)),!(!P||!E)){var T=r.sub(P,E),p=r.magnitude(T);p<e._minLength&&(p=e._minLength);var y=(p-o.length)/p,w=o.stiffness>=1||o.length===0,m=w?o.stiffness*t:o.stiffness*t*t,M=o.damping*t,S=r.mult(T,y*m),I=(a?a.inverseMass:0)+(s?s.inverseMass:0),A=(a?a.inverseInertia:0)+(s?s.inverseInertia:0),B=I+A,R,k,F,D,L;if(M>0){var V=r.create();F=r.div(T,p),L=r.sub(s&&r.sub(s.position,s.positionPrev)||V,a&&r.sub(a.position,a.positionPrev)||V),D=r.dot(F,L)}a&&!a.isStatic&&(k=a.inverseMass/I,a.constraintImpulse.x-=S.x*k,a.constraintImpulse.y-=S.y*k,a.position.x-=S.x*k,a.position.y-=S.y*k,M>0&&(a.positionPrev.x-=M*F.x*D*k,a.positionPrev.y-=M*F.y*D*k),R=r.cross(h,S)/B*e._torqueDampen*a.inverseInertia*(1-o.angularStiffness),a.constraintImpulse.angle-=R,a.angle-=R),s&&!s.isStatic&&(k=s.inverseMass/I,s.constraintImpulse.x+=S.x*k,s.constraintImpulse.y+=S.y*k,s.position.x+=S.x*k,s.position.y+=S.y*k,M>0&&(s.positionPrev.x+=M*F.x*D*k,s.positionPrev.y+=M*F.y*D*k),R=r.cross(x,S)/B*e._torqueDampen*s.inverseInertia*(1-o.angularStiffness),s.constraintImpulse.angle+=R,s.angle+=R)}}},e.postSolveAll=function(o){for(var t=0;t<o.length;t++){var a=o[t],s=a.constraintImpulse;if(!(a.isStatic||s.x===0&&s.y===0&&s.angle===0)){n.set(a,!1);for(var h=0;h<a.parts.length;h++){var x=a.parts[h];f.translate(x.vertices,s),h>0&&(x.position.x+=s.x,x.position.y+=s.y),s.angle!==0&&(f.rotate(x.vertices,s.angle,a.position),i.rotate(x.axes,s.angle),h>0&&r.rotateAbout(x.position,s.angle,a.position,x.position)),u.update(x.bounds,x.vertices,a.velocity)}s.angle*=e._warming,s.x*=e._warming,s.y*=e._warming}}},e.pointAWorld=function(o){return{x:(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),y:(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0)}},e.pointBWorld=function(o){return{x:(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),y:(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0)}},e.currentLength=function(o){var t=(o.bodyA?o.bodyA.position.x:0)+(o.pointA?o.pointA.x:0),a=(o.bodyA?o.bodyA.position.y:0)+(o.pointA?o.pointA.y:0),s=(o.bodyB?o.bodyB.position.x:0)+(o.pointB?o.pointB.x:0),h=(o.bodyB?o.bodyB.position.y:0)+(o.pointB?o.pointB.y:0),x=t-s,P=a-h;return Math.sqrt(x*x+P*P)}})()},function(d,C,c){var e={};d.exports=e;var f=c(2),r=c(0);(function(){e.fromVertices=function(n){for(var u={},i=0;i<n.length;i++){var v=(i+1)%n.length,o=f.normalise({x:n[v].y-n[i].y,y:n[i].x-n[v].x}),t=o.y===0?1/0:o.x/o.y;t=t.toFixed(3).toString(),u[t]=o}return r.values(u)},e.rotate=function(n,u){if(u!==0)for(var i=Math.cos(u),v=Math.sin(u),o=0;o<n.length;o++){var t=n[o],a;a=t.x*i-t.y*v,t.y=t.x*v+t.y*i,t.x=a}}})()},function(d,C,c){var e={};d.exports=e;var f=c(3),r=c(0),n=c(4),u=c(1),i=c(2);(function(){e.rectangle=function(v,o,t,a,s){s=s||{};var h={label:"Rectangle Body",position:{x:v,y:o},vertices:f.fromPath("L 0 0 L "+t+" 0 L "+t+" "+a+" L 0 "+a)};if(s.chamfer){var x=s.chamfer;h.vertices=f.chamfer(h.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete s.chamfer}return n.create(r.extend({},h,s))},e.trapezoid=function(v,o,t,a,s,h){h=h||{},s>=1&&r.warn("Bodies.trapezoid: slope parameter must be < 1."),s*=.5;var x=(1-s*2)*t,P=t*s,E=P+x,T=E+P,p;s<.5?p="L 0 0 L "+P+" "+-a+" L "+E+" "+-a+" L "+T+" 0":p="L 0 0 L "+E+" "+-a+" L "+T+" 0";var y={label:"Trapezoid Body",position:{x:v,y:o},vertices:f.fromPath(p)};if(h.chamfer){var w=h.chamfer;y.vertices=f.chamfer(y.vertices,w.radius,w.quality,w.qualityMin,w.qualityMax),delete h.chamfer}return n.create(r.extend({},y,h))},e.circle=function(v,o,t,a,s){a=a||{};var h={label:"Circle Body",circleRadius:t};s=s||25;var x=Math.ceil(Math.max(10,Math.min(s,t)));return x%2===1&&(x+=1),e.polygon(v,o,x,t,r.extend({},h,a))},e.polygon=function(v,o,t,a,s){if(s=s||{},t<3)return e.circle(v,o,a,s);for(var h=2*Math.PI/t,x="",P=h*.5,E=0;E<t;E+=1){var T=P+E*h,p=Math.cos(T)*a,y=Math.sin(T)*a;x+="L "+p.toFixed(3)+" "+y.toFixed(3)+" "}var w={label:"Polygon Body",position:{x:v,y:o},vertices:f.fromPath(x)};if(s.chamfer){var m=s.chamfer;w.vertices=f.chamfer(w.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete s.chamfer}return n.create(r.extend({},w,s))},e.fromVertices=function(v,o,t,a,s,h,x,P){var E=r.getDecomp(),T,p,y,w,m,M,S,I,A,B,R;for(T=!!(E&&E.quickDecomp),a=a||{},y=[],s=typeof s<"u"?s:!1,h=typeof h<"u"?h:.01,x=typeof x<"u"?x:10,P=typeof P<"u"?P:.01,r.isArray(t[0])||(t=[t]),B=0;B<t.length;B+=1)if(M=t[B],w=f.isConvex(M),m=!w,m&&!T&&r.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),w||!T)w?M=f.clockwiseSort(M):M=f.hull(M),y.push({position:{x:v,y:o},vertices:M});else{var k=M.map(function(b){return[b.x,b.y]});E.makeCCW(k),h!==!1&&E.removeCollinearPoints(k,h),P!==!1&&E.removeDuplicatePoints&&E.removeDuplicatePoints(k,P);var F=E.quickDecomp(k);for(S=0;S<F.length;S++){var D=F[S],L=D.map(function(b){return{x:b[0],y:b[1]}});x>0&&f.area(L)<x||y.push({position:f.centre(L),vertices:L})}}for(S=0;S<y.length;S++)y[S]=n.create(r.extend(y[S],a));if(s){var V=5;for(S=0;S<y.length;S++){var N=y[S];for(I=S+1;I<y.length;I++){var _=y[I];if(u.overlaps(N.bounds,_.bounds)){var W=N.vertices,Z=_.vertices;for(A=0;A<N.vertices.length;A++)for(R=0;R<_.vertices.length;R++){var pe=i.magnitudeSquared(i.sub(W[(A+1)%W.length],Z[R])),ae=i.magnitudeSquared(i.sub(W[A],Z[(R+1)%Z.length]));pe<V&&ae<V&&(W[A].isInternal=!0,Z[R].isInternal=!0)}}}}}return y.length>1?(p=n.create(r.extend({parts:y.slice(0)},a)),n.setPosition(p,{x:v,y:o}),p):y[0]}})()},function(d,C,c){var e={};d.exports=e;var f=c(0),r=c(8);(function(){e.create=function(n){var u={bodies:[],collisions:[],pairs:null};return f.extend(u,n)},e.setBodies=function(n,u){n.bodies=u.slice(0)},e.clear=function(n){n.bodies=[],n.collisions=[]},e.collisions=function(n){var u=n.pairs,i=n.bodies,v=i.length,o=e.canCollide,t=r.collides,a=n.collisions,s=0,h,x;for(i.sort(e._compareBoundsX),h=0;h<v;h++){var P=i[h],E=P.bounds,T=P.bounds.max.x,p=P.bounds.max.y,y=P.bounds.min.y,w=P.isStatic||P.isSleeping,m=P.parts.length,M=m===1;for(x=h+1;x<v;x++){var S=i[x],I=S.bounds;if(I.min.x>T)break;if(!(p<I.min.y||y>I.max.y)&&!(w&&(S.isStatic||S.isSleeping))&&o(P.collisionFilter,S.collisionFilter)){var A=S.parts.length;if(M&&A===1){var B=t(P,S,u);B&&(a[s++]=B)}else for(var R=m>1?1:0,k=A>1?1:0,F=R;F<m;F++)for(var D=P.parts[F],E=D.bounds,L=k;L<A;L++){var V=S.parts[L],I=V.bounds;if(!(E.min.x>I.max.x||E.max.x<I.min.x||E.max.y<I.min.y||E.min.y>I.max.y)){var B=t(D,V,u);B&&(a[s++]=B)}}}}}return a.length!==s&&(a.length=s),a},e.canCollide=function(n,u){return n.group===u.group&&n.group!==0?n.group>0:(n.mask&u.category)!==0&&(u.mask&n.category)!==0},e._compareBoundsX=function(n,u){return n.bounds.min.x-u.bounds.min.x}})()},function(d,C,c){var e={};d.exports=e;var f=c(0);(function(){e.create=function(r){var n={};return r||f.log("Mouse.create: element was undefined, defaulting to document.body","warn"),n.element=r||document.body,n.absolute={x:0,y:0},n.position={x:0,y:0},n.mousedownPosition={x:0,y:0},n.mouseupPosition={x:0,y:0},n.offset={x:0,y:0},n.scale={x:1,y:1},n.wheelDelta=0,n.button=-1,n.pixelRatio=parseInt(n.element.getAttribute("data-pixel-ratio"),10)||1,n.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},n.mousemove=function(u){var i=e._getRelativeMousePosition(u,n.element,n.pixelRatio),v=u.changedTouches;v&&(n.button=0,u.preventDefault()),n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.sourceEvents.mousemove=u},n.mousedown=function(u){var i=e._getRelativeMousePosition(u,n.element,n.pixelRatio),v=u.changedTouches;v?(n.button=0,u.preventDefault()):n.button=u.button,n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mousedownPosition.x=n.position.x,n.mousedownPosition.y=n.position.y,n.sourceEvents.mousedown=u},n.mouseup=function(u){var i=e._getRelativeMousePosition(u,n.element,n.pixelRatio),v=u.changedTouches;v&&u.preventDefault(),n.button=-1,n.absolute.x=i.x,n.absolute.y=i.y,n.position.x=n.absolute.x*n.scale.x+n.offset.x,n.position.y=n.absolute.y*n.scale.y+n.offset.y,n.mouseupPosition.x=n.position.x,n.mouseupPosition.y=n.position.y,n.sourceEvents.mouseup=u},n.mousewheel=function(u){n.wheelDelta=Math.max(-1,Math.min(1,u.wheelDelta||-u.detail)),u.preventDefault(),n.sourceEvents.mousewheel=u},e.setElement(n,n.element),n},e.setElement=function(r,n){r.element=n,n.addEventListener("mousemove",r.mousemove,{passive:!0}),n.addEventListener("mousedown",r.mousedown,{passive:!0}),n.addEventListener("mouseup",r.mouseup,{passive:!0}),n.addEventListener("wheel",r.mousewheel,{passive:!1}),n.addEventListener("touchmove",r.mousemove,{passive:!1}),n.addEventListener("touchstart",r.mousedown,{passive:!1}),n.addEventListener("touchend",r.mouseup,{passive:!1})},e.clearSourceEvents=function(r){r.sourceEvents.mousemove=null,r.sourceEvents.mousedown=null,r.sourceEvents.mouseup=null,r.sourceEvents.mousewheel=null,r.wheelDelta=0},e.setOffset=function(r,n){r.offset.x=n.x,r.offset.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e.setScale=function(r,n){r.scale.x=n.x,r.scale.y=n.y,r.position.x=r.absolute.x*r.scale.x+r.offset.x,r.position.y=r.absolute.y*r.scale.y+r.offset.y},e._getRelativeMousePosition=function(r,n,u){var i=n.getBoundingClientRect(),v=document.documentElement||document.body.parentNode||document.body,o=window.pageXOffset!==void 0?window.pageXOffset:v.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:v.scrollTop,a=r.changedTouches,s,h;return a?(s=a[0].pageX-i.left-o,h=a[0].pageY-i.top-t):(s=r.pageX-i.left-o,h=r.pageY-i.top-t),{x:s/(n.clientWidth/(n.width||n.clientWidth)*u),y:h/(n.clientHeight/(n.height||n.clientHeight)*u)}}})()},function(d,C,c){var e={};d.exports=e;var f=c(0);(function(){e._registry={},e.register=function(r){if(e.isPlugin(r)||f.warn("Plugin.register:",e.toString(r),"does not implement all required fields."),r.name in e._registry){var n=e._registry[r.name],u=e.versionParse(r.version).number,i=e.versionParse(n.version).number;u>i?(f.warn("Plugin.register:",e.toString(n),"was upgraded to",e.toString(r)),e._registry[r.name]=r):u<i?f.warn("Plugin.register:",e.toString(n),"can not be downgraded to",e.toString(r)):r!==n&&f.warn("Plugin.register:",e.toString(r),"is already registered to different plugin object")}else e._registry[r.name]=r;return r},e.resolve=function(r){return e._registry[e.dependencyParse(r).name]},e.toString=function(r){return typeof r=="string"?r:(r.name||"anonymous")+"@"+(r.version||r.range||"0.0.0")},e.isPlugin=function(r){return r&&r.name&&r.version&&r.install},e.isUsed=function(r,n){return r.used.indexOf(n)>-1},e.isFor=function(r,n){var u=r.for&&e.dependencyParse(r.for);return!r.for||n.name===u.name&&e.versionSatisfies(n.version,u.range)},e.use=function(r,n){if(r.uses=(r.uses||[]).concat(n||[]),r.uses.length===0){f.warn("Plugin.use:",e.toString(r),"does not specify any dependencies to install.");return}for(var u=e.dependencies(r),i=f.topologicalSort(u),v=[],o=0;o<i.length;o+=1)if(i[o]!==r.name){var t=e.resolve(i[o]);if(!t){v.push("âŒ "+i[o]);continue}e.isUsed(r,t.name)||(e.isFor(t,r)||(f.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(r)+"."),t._warned=!0),t.install?t.install(r):(f.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(v.push("ðŸ”¶ "+e.toString(t)),delete t._warned):v.push("âœ… "+e.toString(t)),r.used.push(t.name))}v.length>0&&f.info(v.join("  "))},e.dependencies=function(r,n){var u=e.dependencyParse(r),i=u.name;if(n=n||{},!(i in n)){r=e.resolve(r)||r,n[i]=f.map(r.uses||[],function(o){e.isPlugin(o)&&e.register(o);var t=e.dependencyParse(o),a=e.resolve(o);return a&&!e.versionSatisfies(a.version,t.range)?(f.warn("Plugin.dependencies:",e.toString(a),"does not satisfy",e.toString(t),"used by",e.toString(u)+"."),a._warned=!0,r._warned=!0):a||(f.warn("Plugin.dependencies:",e.toString(o),"used by",e.toString(u),"could not be resolved."),r._warned=!0),t.name});for(var v=0;v<n[i].length;v+=1)e.dependencies(n[i][v],n);return n}},e.dependencyParse=function(r){if(f.isString(r)){var n=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return n.test(r)||f.warn("Plugin.dependencyParse:",r,"is not a valid dependency string."),{name:r.split("@")[0],range:r.split("@")[1]||"*"}}return{name:r.name,range:r.range||r.version}},e.versionParse=function(r){var n=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;n.test(r)||f.warn("Plugin.versionParse:",r,"is not a valid version or range.");var u=n.exec(r),i=Number(u[4]),v=Number(u[5]),o=Number(u[6]);return{isRange:!!(u[1]||u[2]),version:u[3],range:r,operator:u[1]||u[2]||"",major:i,minor:v,patch:o,parts:[i,v,o],prerelease:u[7],number:i*1e8+v*1e4+o}},e.versionSatisfies=function(r,n){n=n||"*";var u=e.versionParse(n),i=e.versionParse(r);if(u.isRange){if(u.operator==="*"||r==="*")return!0;if(u.operator===">")return i.number>u.number;if(u.operator===">=")return i.number>=u.number;if(u.operator==="~")return i.major===u.major&&i.minor===u.minor&&i.patch>=u.patch;if(u.operator==="^")return u.major>0?i.major===u.major&&i.number>=u.number:u.minor>0?i.minor===u.minor&&i.patch>=u.patch:i.patch===u.patch}return r===n||r==="*"}})()},function(d,C){var c={};d.exports=c,function(){c.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(d,C,c){var e={};d.exports=e;var f=c(7),r=c(18),n=c(13),u=c(19),i=c(5),v=c(6),o=c(10),t=c(0),a=c(4);(function(){e._deltaMax=1e3/60,e.create=function(s){s=s||{};var h={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},x=t.extend(h,s);return x.world=s.world||v.create({label:"World"}),x.pairs=s.pairs||u.create(),x.detector=s.detector||n.create(),x.detector.pairs=x.pairs,x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},e.update=function(s,h){var x=t.now(),P=s.world,E=s.detector,T=s.pairs,p=s.timing,y=p.timestamp,w;h>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),h=typeof h<"u"?h:t._baseDelta,h*=p.timeScale,p.timestamp+=h,p.lastDelta=h;var m={timestamp:p.timestamp,delta:h};i.trigger(s,"beforeUpdate",m);var M=v.allBodies(P),S=v.allConstraints(P);for(P.isModified&&(n.setBodies(E,M),v.setModified(P,!1,!1,!0)),s.enableSleeping&&f.update(M,h),e._bodiesApplyGravity(M,s.gravity),h>0&&e._bodiesUpdate(M,h),i.trigger(s,"beforeSolve",m),o.preSolveAll(M),w=0;w<s.constraintIterations;w++)o.solveAll(S,h);o.postSolveAll(M);var I=n.collisions(E);u.update(T,I,y),s.enableSleeping&&f.afterCollisions(T.list),T.collisionStart.length>0&&i.trigger(s,"collisionStart",{pairs:T.collisionStart,timestamp:p.timestamp,delta:h});var A=t.clamp(20/s.positionIterations,0,1);for(r.preSolvePosition(T.list),w=0;w<s.positionIterations;w++)r.solvePosition(T.list,h,A);for(r.postSolvePosition(M),o.preSolveAll(M),w=0;w<s.constraintIterations;w++)o.solveAll(S,h);for(o.postSolveAll(M),r.preSolveVelocity(T.list),w=0;w<s.velocityIterations;w++)r.solveVelocity(T.list,h);return e._bodiesUpdateVelocities(M),T.collisionActive.length>0&&i.trigger(s,"collisionActive",{pairs:T.collisionActive,timestamp:p.timestamp,delta:h}),T.collisionEnd.length>0&&i.trigger(s,"collisionEnd",{pairs:T.collisionEnd,timestamp:p.timestamp,delta:h}),e._bodiesClearForces(M),i.trigger(s,"afterUpdate",m),s.timing.lastElapsed=t.now()-x,s},e.merge=function(s,h){if(t.extend(s,h),h.world){s.world=h.world,e.clear(s);for(var x=v.allBodies(s.world),P=0;P<x.length;P++){var E=x[P];f.set(E,!1),E.id=t.nextId()}}},e.clear=function(s){u.clear(s.pairs),n.clear(s.detector)},e._bodiesClearForces=function(s){for(var h=s.length,x=0;x<h;x++){var P=s[x];P.force.x=0,P.force.y=0,P.torque=0}},e._bodiesApplyGravity=function(s,h){var x=typeof h.scale<"u"?h.scale:.001,P=s.length;if(!(h.x===0&&h.y===0||x===0))for(var E=0;E<P;E++){var T=s[E];T.isStatic||T.isSleeping||(T.force.y+=T.mass*h.y*x,T.force.x+=T.mass*h.x*x)}},e._bodiesUpdate=function(s,h){for(var x=s.length,P=0;P<x;P++){var E=s[P];E.isStatic||E.isSleeping||a.update(E,h)}},e._bodiesUpdateVelocities=function(s){for(var h=s.length,x=0;x<h;x++)a.updateVelocities(s[x])}})()},function(d,C,c){var e={};d.exports=e;var f=c(3),r=c(0),n=c(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(u){var i,v,o,t=u.length;for(i=0;i<t;i++)v=u[i],v.isActive&&(o=v.contactCount,v.collision.parentA.totalContacts+=o,v.collision.parentB.totalContacts+=o)},e.solvePosition=function(u,i,v){var o,t,a,s,h,x,P,E,T=e._positionDampen*(v||1),p=r.clamp(i/r._baseDelta,0,1),y=u.length;for(o=0;o<y;o++)t=u[o],!(!t.isActive||t.isSensor)&&(a=t.collision,s=a.parentA,h=a.parentB,x=a.normal,t.separation=a.depth+x.x*(h.positionImpulse.x-s.positionImpulse.x)+x.y*(h.positionImpulse.y-s.positionImpulse.y));for(o=0;o<y;o++)t=u[o],!(!t.isActive||t.isSensor)&&(a=t.collision,s=a.parentA,h=a.parentB,x=a.normal,E=t.separation-t.slop*p,(s.isStatic||h.isStatic)&&(E*=2),s.isStatic||s.isSleeping||(P=T/s.totalContacts,s.positionImpulse.x+=x.x*E*P,s.positionImpulse.y+=x.y*E*P),h.isStatic||h.isSleeping||(P=T/h.totalContacts,h.positionImpulse.x-=x.x*E*P,h.positionImpulse.y-=x.y*E*P))},e.postSolvePosition=function(u){for(var i=e._positionWarming,v=u.length,o=f.translate,t=n.update,a=0;a<v;a++){var s=u[a],h=s.positionImpulse,x=h.x,P=h.y,E=s.velocity;if(s.totalContacts=0,x!==0||P!==0){for(var T=0;T<s.parts.length;T++){var p=s.parts[T];o(p.vertices,h),t(p.bounds,p.vertices,E),p.position.x+=x,p.position.y+=P}s.positionPrev.x+=x,s.positionPrev.y+=P,x*E.x+P*E.y<0?(h.x=0,h.y=0):(h.x*=i,h.y*=i)}}},e.preSolveVelocity=function(u){var i=u.length,v,o;for(v=0;v<i;v++){var t=u[v];if(!(!t.isActive||t.isSensor)){var a=t.contacts,s=t.contactCount,h=t.collision,x=h.parentA,P=h.parentB,E=h.normal,T=h.tangent;for(o=0;o<s;o++){var p=a[o],y=p.vertex,w=p.normalImpulse,m=p.tangentImpulse;if(w!==0||m!==0){var M=E.x*w+T.x*m,S=E.y*w+T.y*m;x.isStatic||x.isSleeping||(x.positionPrev.x+=M*x.inverseMass,x.positionPrev.y+=S*x.inverseMass,x.anglePrev+=x.inverseInertia*((y.x-x.position.x)*S-(y.y-x.position.y)*M)),P.isStatic||P.isSleeping||(P.positionPrev.x-=M*P.inverseMass,P.positionPrev.y-=S*P.inverseMass,P.anglePrev-=P.inverseInertia*((y.x-P.position.x)*S-(y.y-P.position.y)*M))}}}}},e.solveVelocity=function(u,i){var v=i/r._baseDelta,o=v*v,t=o*v,a=-e._restingThresh*v,s=e._restingThreshTangent,h=e._frictionNormalMultiplier*v,x=e._frictionMaxStatic,P=u.length,E,T,p,y;for(p=0;p<P;p++){var w=u[p];if(!(!w.isActive||w.isSensor)){var m=w.collision,M=m.parentA,S=m.parentB,I=m.normal.x,A=m.normal.y,B=m.tangent.x,R=m.tangent.y,k=w.inverseMass,F=w.friction*w.frictionStatic*h,D=w.contacts,L=w.contactCount,V=1/L,N=M.position.x-M.positionPrev.x,_=M.position.y-M.positionPrev.y,W=M.angle-M.anglePrev,Z=S.position.x-S.positionPrev.x,pe=S.position.y-S.positionPrev.y,ae=S.angle-S.anglePrev;for(y=0;y<L;y++){var b=D[y],se=b.vertex,Q=se.x-M.position.x,be=se.y-M.position.y,oe=se.x-S.position.x,le=se.y-S.position.y,X=N-be*W,Bn=_+Q*W,kn=Z-le*ae,Rn=pe+oe*ae,kt=X-kn,Rt=Bn-Rn,rt=I*kt+A*Rt,ce=B*kt+R*Rt,Dt=w.separation+rt,at=Math.min(Dt,1);at=Dt<0?0:at;var Ft=at*F;ce<-Ft||ce>Ft?(T=ce>0?ce:-ce,E=w.friction*(ce>0?1:-1)*t,E<-T?E=-T:E>T&&(E=T)):(E=ce,T=x);var Lt=Q*A-be*I,bt=oe*A-le*I,Ot=V/(k+M.inverseInertia*Lt*Lt+S.inverseInertia*bt*bt),Ge=(1+w.restitution)*rt*Ot;if(E*=Ot,rt<a)b.normalImpulse=0;else{var Dn=b.normalImpulse;b.normalImpulse+=Ge,b.normalImpulse>0&&(b.normalImpulse=0),Ge=b.normalImpulse-Dn}if(ce<-s||ce>s)b.tangentImpulse=0;else{var Fn=b.tangentImpulse;b.tangentImpulse+=E,b.tangentImpulse<-T&&(b.tangentImpulse=-T),b.tangentImpulse>T&&(b.tangentImpulse=T),E=b.tangentImpulse-Fn}var ze=I*Ge+B*E,Qe=A*Ge+R*E;M.isStatic||M.isSleeping||(M.positionPrev.x+=ze*M.inverseMass,M.positionPrev.y+=Qe*M.inverseMass,M.anglePrev+=(Q*Qe-be*ze)*M.inverseInertia),S.isStatic||S.isSleeping||(S.positionPrev.x-=ze*S.inverseMass,S.positionPrev.y-=Qe*S.inverseMass,S.anglePrev-=(oe*Qe-le*ze)*S.inverseInertia)}}}}})()},function(d,C,c){var e={};d.exports=e;var f=c(9),r=c(0);(function(){e.create=function(n){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},n)},e.update=function(n,u,i){var v=f.update,o=f.create,t=f.setActive,a=n.table,s=n.list,h=s.length,x=h,P=n.collisionStart,E=n.collisionEnd,T=n.collisionActive,p=u.length,y=0,w=0,m=0,M,S,I;for(I=0;I<p;I++)M=u[I],S=M.pair,S?(S.isActive&&(T[m++]=S),v(S,M,i)):(S=o(M,i),a[S.id]=S,P[y++]=S,s[x++]=S);for(x=0,h=s.length,I=0;I<h;I++)S=s[I],S.timeUpdated>=i?s[x++]=S:(t(S,!1,i),S.collision.bodyA.sleepCounter>0&&S.collision.bodyB.sleepCounter>0?s[x++]=S:(E[w++]=S,delete a[S.id]));s.length!==x&&(s.length=x),P.length!==y&&(P.length=y),E.length!==w&&(E.length=w),T.length!==m&&(T.length=m)},e.clear=function(n){return n.table={},n.list.length=0,n.collisionStart.length=0,n.collisionActive.length=0,n.collisionEnd.length=0,n}})()},function(d,C,c){var e=d.exports=c(21);e.Axes=c(11),e.Bodies=c(12),e.Body=c(4),e.Bounds=c(1),e.Collision=c(8),e.Common=c(0),e.Composite=c(6),e.Composites=c(22),e.Constraint=c(10),e.Contact=c(16),e.Detector=c(13),e.Engine=c(17),e.Events=c(5),e.Grid=c(23),e.Mouse=c(14),e.MouseConstraint=c(24),e.Pair=c(9),e.Pairs=c(19),e.Plugin=c(15),e.Query=c(25),e.Render=c(26),e.Resolver=c(18),e.Runner=c(27),e.SAT=c(28),e.Sleeping=c(7),e.Svg=c(29),e.Vector=c(2),e.Vertices=c(3),e.World=c(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run âž¤ use Matter.Runner.run(engine) instead")},function(d,C,c){var e={};d.exports=e;var f=c(15),r=c(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){f.use(e,Array.prototype.slice.call(arguments))},e.before=function(n,u){return n=n.replace(/^Matter./,""),r.chainPathBefore(e,n,u)},e.after=function(n,u){return n=n.replace(/^Matter./,""),r.chainPathAfter(e,n,u)}})()},function(d,C,c){var e={};d.exports=e;var f=c(6),r=c(10),n=c(0),u=c(4),i=c(12),v=n.deprecated;(function(){e.stack=function(o,t,a,s,h,x,P){for(var E=f.create({label:"Stack"}),T=o,p=t,y,w=0,m=0;m<s;m++){for(var M=0,S=0;S<a;S++){var I=P(T,p,S,m,y,w);if(I){var A=I.bounds.max.y-I.bounds.min.y,B=I.bounds.max.x-I.bounds.min.x;A>M&&(M=A),u.translate(I,{x:B*.5,y:A*.5}),T=I.bounds.max.x+h,f.addBody(E,I),y=I,w+=1}else T+=h}p+=M+x,T=o}return E},e.chain=function(o,t,a,s,h,x){for(var P=o.bodies,E=1;E<P.length;E++){var T=P[E-1],p=P[E],y=T.bounds.max.y-T.bounds.min.y,w=T.bounds.max.x-T.bounds.min.x,m=p.bounds.max.y-p.bounds.min.y,M=p.bounds.max.x-p.bounds.min.x,S={bodyA:T,pointA:{x:w*t,y:y*a},bodyB:p,pointB:{x:M*s,y:m*h}},I=n.extend(S,x);f.addConstraint(o,r.create(I))}return o.label+=" Chain",o},e.mesh=function(o,t,a,s,h){var x=o.bodies,P,E,T,p,y;for(P=0;P<a;P++){for(E=1;E<t;E++)T=x[E-1+P*t],p=x[E+P*t],f.addConstraint(o,r.create(n.extend({bodyA:T,bodyB:p},h)));if(P>0)for(E=0;E<t;E++)T=x[E+(P-1)*t],p=x[E+P*t],f.addConstraint(o,r.create(n.extend({bodyA:T,bodyB:p},h))),s&&E>0&&(y=x[E-1+(P-1)*t],f.addConstraint(o,r.create(n.extend({bodyA:y,bodyB:p},h)))),s&&E<t-1&&(y=x[E+1+(P-1)*t],f.addConstraint(o,r.create(n.extend({bodyA:y,bodyB:p},h))))}return o.label+=" Mesh",o},e.pyramid=function(o,t,a,s,h,x,P){return e.stack(o,t,a,s,h,x,function(E,T,p,y,w,m){var M=Math.min(s,Math.ceil(a/2)),S=w?w.bounds.max.x-w.bounds.min.x:0;if(!(y>M)){y=M-y;var I=y,A=a-1-y;if(!(p<I||p>A)){m===1&&u.translate(w,{x:(p+(a%2===1?1:-1))*S,y:0});var B=w?p*S:0;return P(o+B+p*h,T,p,y,w,m)}}})},e.newtonsCradle=function(o,t,a,s,h){for(var x=f.create({label:"Newtons Cradle"}),P=0;P<a;P++){var E=1.9,T=i.circle(o+P*(s*E),t+h,s,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),p=r.create({pointA:{x:o+P*(s*E),y:t},bodyB:T});f.addBody(x,T),f.addConstraint(x,p)}return x},v(e,"newtonsCradle","Composites.newtonsCradle âž¤ moved to newtonsCradle example"),e.car=function(o,t,a,s,h){var x=u.nextGroup(!0),P=20,E=-a*.5+P,T=a*.5-P,p=0,y=f.create({label:"Car"}),w=i.rectangle(o,t,a,s,{collisionFilter:{group:x},chamfer:{radius:s*.5},density:2e-4}),m=i.circle(o+E,t+p,h,{collisionFilter:{group:x},friction:.8}),M=i.circle(o+T,t+p,h,{collisionFilter:{group:x},friction:.8}),S=r.create({bodyB:w,pointB:{x:E,y:p},bodyA:m,stiffness:1,length:0}),I=r.create({bodyB:w,pointB:{x:T,y:p},bodyA:M,stiffness:1,length:0});return f.addBody(y,w),f.addBody(y,m),f.addBody(y,M),f.addConstraint(y,S),f.addConstraint(y,I),y},v(e,"car","Composites.car âž¤ moved to car example"),e.softBody=function(o,t,a,s,h,x,P,E,T,p){T=n.extend({inertia:1/0},T),p=n.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var y=e.stack(o,t,a,s,h,x,function(w,m){return i.circle(w,m,E,T)});return e.mesh(y,a,s,P,p),y.label="Soft Body",y},v(e,"softBody","Composites.softBody âž¤ moved to softBody and cloth examples")})()},function(d,C,c){var e={};d.exports=e;var f=c(9),r=c(0),n=r.deprecated;(function(){e.create=function(u){var i={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return r.extend(i,u)},e.update=function(u,i,v,o){var t,a,s,h=v.world,x=u.buckets,P,E,T=!1;for(t=0;t<i.length;t++){var p=i[t];if(!(p.isSleeping&&!o)&&!(h.bounds&&(p.bounds.max.x<h.bounds.min.x||p.bounds.min.x>h.bounds.max.x||p.bounds.max.y<h.bounds.min.y||p.bounds.min.y>h.bounds.max.y))){var y=e._getRegion(u,p);if(!p.region||y.id!==p.region.id||o){(!p.region||o)&&(p.region=y);var w=e._regionUnion(y,p.region);for(a=w.startCol;a<=w.endCol;a++)for(s=w.startRow;s<=w.endRow;s++){E=e._getBucketId(a,s),P=x[E];var m=a>=y.startCol&&a<=y.endCol&&s>=y.startRow&&s<=y.endRow,M=a>=p.region.startCol&&a<=p.region.endCol&&s>=p.region.startRow&&s<=p.region.endRow;!m&&M&&M&&P&&e._bucketRemoveBody(u,P,p),(p.region===y||m&&!M||o)&&(P||(P=e._createBucket(x,E)),e._bucketAddBody(u,P,p))}p.region=y,T=!0}}}T&&(u.pairsList=e._createActivePairsList(u))},n(e,"update","Grid.update âž¤ replaced by Matter.Detector"),e.clear=function(u){u.buckets={},u.pairs={},u.pairsList=[]},n(e,"clear","Grid.clear âž¤ replaced by Matter.Detector"),e._regionUnion=function(u,i){var v=Math.min(u.startCol,i.startCol),o=Math.max(u.endCol,i.endCol),t=Math.min(u.startRow,i.startRow),a=Math.max(u.endRow,i.endRow);return e._createRegion(v,o,t,a)},e._getRegion=function(u,i){var v=i.bounds,o=Math.floor(v.min.x/u.bucketWidth),t=Math.floor(v.max.x/u.bucketWidth),a=Math.floor(v.min.y/u.bucketHeight),s=Math.floor(v.max.y/u.bucketHeight);return e._createRegion(o,t,a,s)},e._createRegion=function(u,i,v,o){return{id:u+","+i+","+v+","+o,startCol:u,endCol:i,startRow:v,endRow:o}},e._getBucketId=function(u,i){return"C"+u+"R"+i},e._createBucket=function(u,i){var v=u[i]=[];return v},e._bucketAddBody=function(u,i,v){var o=u.pairs,t=f.id,a=i.length,s;for(s=0;s<a;s++){var h=i[s];if(!(v.id===h.id||v.isStatic&&h.isStatic)){var x=t(v,h),P=o[x];P?P[2]+=1:o[x]=[v,h,1]}}i.push(v)},e._bucketRemoveBody=function(u,i,v){var o=u.pairs,t=f.id,a;i.splice(r.indexOf(i,v),1);var s=i.length;for(a=0;a<s;a++){var h=o[t(v,i[a])];h&&(h[2]-=1)}},e._createActivePairsList=function(u){var i,v=u.pairs,o=r.keys(v),t=o.length,a=[],s;for(s=0;s<t;s++)i=v[o[s]],i[2]>0?a.push(i):delete v[o[s]];return a}})()},function(d,C,c){var e={};d.exports=e;var f=c(3),r=c(7),n=c(14),u=c(5),i=c(13),v=c(10),o=c(6),t=c(0),a=c(1);(function(){e.create=function(s,h){var x=(s?s.mouse:null)||(h?h.mouse:null);x||(s&&s.render&&s.render.canvas?x=n.create(s.render.canvas):h&&h.element?x=n.create(h.element):(x=n.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var P=v.create({label:"Mouse Constraint",pointA:x.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),E={type:"mouseConstraint",mouse:x,element:null,body:null,constraint:P,collisionFilter:{category:1,mask:4294967295,group:0}},T=t.extend(E,h);return u.on(s,"beforeUpdate",function(){var p=o.allBodies(s.world);e.update(T,p),e._triggerEvents(T)}),T},e.update=function(s,h){var x=s.mouse,P=s.constraint,E=s.body;if(x.button===0){if(P.bodyB)r.set(P.bodyB,!1),P.pointA=x.position;else for(var T=0;T<h.length;T++)if(E=h[T],a.contains(E.bounds,x.position)&&i.canCollide(E.collisionFilter,s.collisionFilter))for(var p=E.parts.length>1?1:0;p<E.parts.length;p++){var y=E.parts[p];if(f.contains(y.vertices,x.position)){P.pointA=x.position,P.bodyB=s.body=E,P.pointB={x:x.position.x-E.position.x,y:x.position.y-E.position.y},P.angleB=E.angle,r.set(E,!1),u.trigger(s,"startdrag",{mouse:x,body:E});break}}}else P.bodyB=s.body=null,P.pointB=null,E&&u.trigger(s,"enddrag",{mouse:x,body:E})},e._triggerEvents=function(s){var h=s.mouse,x=h.sourceEvents;x.mousemove&&u.trigger(s,"mousemove",{mouse:h}),x.mousedown&&u.trigger(s,"mousedown",{mouse:h}),x.mouseup&&u.trigger(s,"mouseup",{mouse:h}),n.clearSourceEvents(h)}})()},function(d,C,c){var e={};d.exports=e;var f=c(2),r=c(8),n=c(1),u=c(12),i=c(3);(function(){e.collides=function(v,o){for(var t=[],a=o.length,s=v.bounds,h=r.collides,x=n.overlaps,P=0;P<a;P++){var E=o[P],T=E.parts.length,p=T===1?0:1;if(x(E.bounds,s))for(var y=p;y<T;y++){var w=E.parts[y];if(x(w.bounds,s)){var m=h(w,v);if(m){t.push(m);break}}}}return t},e.ray=function(v,o,t,a){a=a||1e-100;for(var s=f.angle(o,t),h=f.magnitude(f.sub(o,t)),x=(t.x+o.x)*.5,P=(t.y+o.y)*.5,E=u.rectangle(x,P,h,a,{angle:s}),T=e.collides(E,v),p=0;p<T.length;p+=1){var y=T[p];y.body=y.bodyB=y.bodyA}return T},e.region=function(v,o,t){for(var a=[],s=0;s<v.length;s++){var h=v[s],x=n.overlaps(h.bounds,o);(x&&!t||!x&&t)&&a.push(h)}return a},e.point=function(v,o){for(var t=[],a=0;a<v.length;a++){var s=v[a];if(n.contains(s.bounds,o))for(var h=s.parts.length===1?0:1;h<s.parts.length;h++){var x=s.parts[h];if(n.contains(x.bounds,o)&&i.contains(x.vertices,o)){t.push(s);break}}}return t}})()},function(d,C,c){var e={};d.exports=e;var f=c(4),r=c(0),n=c(6),u=c(1),i=c(5),v=c(2),o=c(14);(function(){var t,a;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(function(){p(r.now())},1e3/60)},a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(p){var y={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!p.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},w=r.extend(y,p);return w.canvas&&(w.canvas.width=w.options.width||w.canvas.width,w.canvas.height=w.options.height||w.canvas.height),w.mouse=p.mouse,w.engine=p.engine,w.canvas=w.canvas||x(w.options.width,w.options.height),w.context=w.canvas.getContext("2d"),w.textures={},w.bounds=w.bounds||{min:{x:0,y:0},max:{x:w.canvas.width,y:w.canvas.height}},w.controller=e,w.options.showBroadphase=!1,w.options.pixelRatio!==1&&e.setPixelRatio(w,w.options.pixelRatio),r.isElement(w.element)&&w.element.appendChild(w.canvas),w},e.run=function(p){(function y(w){p.frameRequestId=t(y),s(p,w),e.world(p,w),p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0),(p.options.showStats||p.options.showDebug)&&e.stats(p,p.context,w),(p.options.showPerformance||p.options.showDebug)&&e.performance(p,p.context,w),p.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(p){a(p.frameRequestId)},e.setPixelRatio=function(p,y){var w=p.options,m=p.canvas;y==="auto"&&(y=P(m)),w.pixelRatio=y,m.setAttribute("data-pixel-ratio",y),m.width=w.width*y,m.height=w.height*y,m.style.width=w.width+"px",m.style.height=w.height+"px"},e.setSize=function(p,y,w){p.options.width=y,p.options.height=w,p.bounds.max.x=p.bounds.min.x+y,p.bounds.max.y=p.bounds.min.y+w,p.options.pixelRatio!==1?e.setPixelRatio(p,p.options.pixelRatio):(p.canvas.width=y,p.canvas.height=w)},e.lookAt=function(p,y,w,m){m=typeof m<"u"?m:!0,y=r.isArray(y)?y:[y],w=w||{x:0,y:0};for(var M={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},S=0;S<y.length;S+=1){var I=y[S],A=I.bounds?I.bounds.min:I.min||I.position||I,B=I.bounds?I.bounds.max:I.max||I.position||I;A&&B&&(A.x<M.min.x&&(M.min.x=A.x),B.x>M.max.x&&(M.max.x=B.x),A.y<M.min.y&&(M.min.y=A.y),B.y>M.max.y&&(M.max.y=B.y))}var R=M.max.x-M.min.x+2*w.x,k=M.max.y-M.min.y+2*w.y,F=p.canvas.height,D=p.canvas.width,L=D/F,V=R/k,N=1,_=1;V>L?_=V/L:N=L/V,p.options.hasBounds=!0,p.bounds.min.x=M.min.x,p.bounds.max.x=M.min.x+R*N,p.bounds.min.y=M.min.y,p.bounds.max.y=M.min.y+k*_,m&&(p.bounds.min.x+=R*.5-R*N*.5,p.bounds.max.x+=R*.5-R*N*.5,p.bounds.min.y+=k*.5-k*_*.5,p.bounds.max.y+=k*.5-k*_*.5),p.bounds.min.x-=w.x,p.bounds.max.x-=w.x,p.bounds.min.y-=w.y,p.bounds.max.y-=w.y,p.mouse&&(o.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.canvas.width,y:(p.bounds.max.y-p.bounds.min.y)/p.canvas.height}),o.setOffset(p.mouse,p.bounds.min))},e.startViewTransform=function(p){var y=p.bounds.max.x-p.bounds.min.x,w=p.bounds.max.y-p.bounds.min.y,m=y/p.options.width,M=w/p.options.height;p.context.setTransform(p.options.pixelRatio/m,0,0,p.options.pixelRatio/M,0,0),p.context.translate(-p.bounds.min.x,-p.bounds.min.y)},e.endViewTransform=function(p){p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0)},e.world=function(p,y){var w=r.now(),m=p.engine,M=m.world,S=p.canvas,I=p.context,A=p.options,B=p.timing,R=n.allBodies(M),k=n.allConstraints(M),F=A.wireframes?A.wireframeBackground:A.background,D=[],L=[],V,N={timestamp:m.timing.timestamp};if(i.trigger(p,"beforeRender",N),p.currentBackground!==F&&T(p,F),I.globalCompositeOperation="source-in",I.fillStyle="transparent",I.fillRect(0,0,S.width,S.height),I.globalCompositeOperation="source-over",A.hasBounds){for(V=0;V<R.length;V++){var _=R[V];u.overlaps(_.bounds,p.bounds)&&D.push(_)}for(V=0;V<k.length;V++){var W=k[V],Z=W.bodyA,pe=W.bodyB,ae=W.pointA,b=W.pointB;Z&&(ae=v.add(Z.position,W.pointA)),pe&&(b=v.add(pe.position,W.pointB)),!(!ae||!b)&&(u.contains(p.bounds,ae)||u.contains(p.bounds,b))&&L.push(W)}e.startViewTransform(p),p.mouse&&(o.setScale(p.mouse,{x:(p.bounds.max.x-p.bounds.min.x)/p.options.width,y:(p.bounds.max.y-p.bounds.min.y)/p.options.height}),o.setOffset(p.mouse,p.bounds.min))}else L=k,D=R,p.options.pixelRatio!==1&&p.context.setTransform(p.options.pixelRatio,0,0,p.options.pixelRatio,0,0);!A.wireframes||m.enableSleeping&&A.showSleeping?e.bodies(p,D,I):(A.showConvexHulls&&e.bodyConvexHulls(p,D,I),e.bodyWireframes(p,D,I)),A.showBounds&&e.bodyBounds(p,D,I),(A.showAxes||A.showAngleIndicator)&&e.bodyAxes(p,D,I),A.showPositions&&e.bodyPositions(p,D,I),A.showVelocity&&e.bodyVelocity(p,D,I),A.showIds&&e.bodyIds(p,D,I),A.showSeparations&&e.separations(p,m.pairs.list,I),A.showCollisions&&e.collisions(p,m.pairs.list,I),A.showVertexNumbers&&e.vertexNumbers(p,D,I),A.showMousePosition&&e.mousePosition(p,p.mouse,I),e.constraints(L,I),A.hasBounds&&e.endViewTransform(p),i.trigger(p,"afterRender",N),B.lastElapsed=r.now()-w},e.stats=function(p,y,w){for(var m=p.engine,M=m.world,S=n.allBodies(M),I=0,A=55,B=44,R=0,k=0,F=0;F<S.length;F+=1)I+=S[F].parts.length;var D={Part:I,Body:S.length,Cons:n.allConstraints(M).length,Comp:n.allComposites(M).length,Pair:m.pairs.list.length};y.fillStyle="#0e0f19",y.fillRect(R,k,A*5.5,B),y.font="12px Arial",y.textBaseline="top",y.textAlign="right";for(var L in D){var V=D[L];y.fillStyle="#aaa",y.fillText(L,R+A,k+8),y.fillStyle="#eee",y.fillText(V,R+A,k+26),R+=A}},e.performance=function(p,y){var w=p.engine,m=p.timing,M=m.deltaHistory,S=m.elapsedHistory,I=m.timestampElapsedHistory,A=m.engineDeltaHistory,B=m.engineUpdatesHistory,R=m.engineElapsedHistory,k=w.timing.lastUpdatesPerFrame,F=w.timing.lastDelta,D=h(M),L=h(S),V=h(A),N=h(B),_=h(R),W=h(I),Z=W/D||0,pe=Math.round(D/F),ae=1e3/D||0,b=4,se=12,Q=60,be=34,oe=10,le=69;y.fillStyle="#0e0f19",y.fillRect(0,50,se*5+Q*6+22,be),e.status(y,oe,le,Q,b,M.length,Math.round(ae)+" fps",ae/e._goodFps,function(X){return M[X]/D-1}),e.status(y,oe+se+Q,le,Q,b,A.length,F.toFixed(2)+" dt",e._goodDelta/F,function(X){return A[X]/V-1}),e.status(y,oe+(se+Q)*2,le,Q,b,B.length,k+" upf",Math.pow(r.clamp(N/pe||1,0,1),4),function(X){return B[X]/N-1}),e.status(y,oe+(se+Q)*3,le,Q,b,R.length,_.toFixed(2)+" ut",1-k*_/e._goodFps,function(X){return R[X]/_-1}),e.status(y,oe+(se+Q)*4,le,Q,b,S.length,L.toFixed(2)+" rt",1-L/e._goodFps,function(X){return S[X]/L-1}),e.status(y,oe+(se+Q)*5,le,Q,b,I.length,Z.toFixed(2)+" x",Z*Z*Z,function(X){return(I[X]/M[X]/Z||0)-1})},e.status=function(p,y,w,m,M,S,I,A,B){p.strokeStyle="#888",p.fillStyle="#444",p.lineWidth=1,p.fillRect(y,w+7,m,1),p.beginPath(),p.moveTo(y,w+7-M*r.clamp(.4*B(0),-2,2));for(var R=0;R<m;R+=1)p.lineTo(y+R,w+7-(R<S?M*r.clamp(.4*B(R),-2,2):0));p.stroke(),p.fillStyle="hsl("+r.clamp(25+95*A,0,120)+",100%,60%)",p.fillRect(y,w-7,4,4),p.font="12px Arial",p.textBaseline="middle",p.textAlign="right",p.fillStyle="#eee",p.fillText(I,y+m,w-5)},e.constraints=function(p,y){for(var w=y,m=0;m<p.length;m++){var M=p[m];if(!(!M.render.visible||!M.pointA||!M.pointB)){var S=M.bodyA,I=M.bodyB,A,B;if(S?A=v.add(S.position,M.pointA):A=M.pointA,M.render.type==="pin")w.beginPath(),w.arc(A.x,A.y,3,0,2*Math.PI),w.closePath();else{if(I?B=v.add(I.position,M.pointB):B=M.pointB,w.beginPath(),w.moveTo(A.x,A.y),M.render.type==="spring")for(var R=v.sub(B,A),k=v.perp(v.normalise(R)),F=Math.ceil(r.clamp(M.length/5,12,20)),D,L=1;L<F;L+=1)D=L%2===0?1:-1,w.lineTo(A.x+R.x*(L/F)+k.x*D*4,A.y+R.y*(L/F)+k.y*D*4);w.lineTo(B.x,B.y)}M.render.lineWidth&&(w.lineWidth=M.render.lineWidth,w.strokeStyle=M.render.strokeStyle,w.stroke()),M.render.anchors&&(w.fillStyle=M.render.strokeStyle,w.beginPath(),w.arc(A.x,A.y,3,0,2*Math.PI),w.arc(B.x,B.y,3,0,2*Math.PI),w.closePath(),w.fill())}}},e.bodies=function(p,y,w){var m=w;p.engine;var M=p.options,S=M.showInternalEdges||!M.wireframes,I,A,B,R;for(B=0;B<y.length;B++)if(I=y[B],!!I.render.visible){for(R=I.parts.length>1?1:0;R<I.parts.length;R++)if(A=I.parts[R],!!A.render.visible){if(M.showSleeping&&I.isSleeping?m.globalAlpha=.5*A.render.opacity:A.render.opacity!==1&&(m.globalAlpha=A.render.opacity),A.render.sprite&&A.render.sprite.texture&&!M.wireframes){var k=A.render.sprite,F=E(p,k.texture);m.translate(A.position.x,A.position.y),m.rotate(A.angle),m.drawImage(F,F.width*-k.xOffset*k.xScale,F.height*-k.yOffset*k.yScale,F.width*k.xScale,F.height*k.yScale),m.rotate(-A.angle),m.translate(-A.position.x,-A.position.y)}else{if(A.circleRadius)m.beginPath(),m.arc(A.position.x,A.position.y,A.circleRadius,0,2*Math.PI);else{m.beginPath(),m.moveTo(A.vertices[0].x,A.vertices[0].y);for(var D=1;D<A.vertices.length;D++)!A.vertices[D-1].isInternal||S?m.lineTo(A.vertices[D].x,A.vertices[D].y):m.moveTo(A.vertices[D].x,A.vertices[D].y),A.vertices[D].isInternal&&!S&&m.moveTo(A.vertices[(D+1)%A.vertices.length].x,A.vertices[(D+1)%A.vertices.length].y);m.lineTo(A.vertices[0].x,A.vertices[0].y),m.closePath()}M.wireframes?(m.lineWidth=1,m.strokeStyle=p.options.wireframeStrokeStyle,m.stroke()):(m.fillStyle=A.render.fillStyle,A.render.lineWidth&&(m.lineWidth=A.render.lineWidth,m.strokeStyle=A.render.strokeStyle,m.stroke()),m.fill())}m.globalAlpha=1}}},e.bodyWireframes=function(p,y,w){var m=w,M=p.options.showInternalEdges,S,I,A,B,R;for(m.beginPath(),A=0;A<y.length;A++)if(S=y[A],!!S.render.visible)for(R=S.parts.length>1?1:0;R<S.parts.length;R++){for(I=S.parts[R],m.moveTo(I.vertices[0].x,I.vertices[0].y),B=1;B<I.vertices.length;B++)!I.vertices[B-1].isInternal||M?m.lineTo(I.vertices[B].x,I.vertices[B].y):m.moveTo(I.vertices[B].x,I.vertices[B].y),I.vertices[B].isInternal&&!M&&m.moveTo(I.vertices[(B+1)%I.vertices.length].x,I.vertices[(B+1)%I.vertices.length].y);m.lineTo(I.vertices[0].x,I.vertices[0].y)}m.lineWidth=1,m.strokeStyle=p.options.wireframeStrokeStyle,m.stroke()},e.bodyConvexHulls=function(p,y,w){var m=w,M,S,I;for(m.beginPath(),S=0;S<y.length;S++)if(M=y[S],!(!M.render.visible||M.parts.length===1)){for(m.moveTo(M.vertices[0].x,M.vertices[0].y),I=1;I<M.vertices.length;I++)m.lineTo(M.vertices[I].x,M.vertices[I].y);m.lineTo(M.vertices[0].x,M.vertices[0].y)}m.lineWidth=1,m.strokeStyle="rgba(255,255,255,0.2)",m.stroke()},e.vertexNumbers=function(p,y,w){var m=w,M,S,I;for(M=0;M<y.length;M++){var A=y[M].parts;for(I=A.length>1?1:0;I<A.length;I++){var B=A[I];for(S=0;S<B.vertices.length;S++)m.fillStyle="rgba(255,255,255,0.2)",m.fillText(M+"_"+S,B.position.x+(B.vertices[S].x-B.position.x)*.8,B.position.y+(B.vertices[S].y-B.position.y)*.8)}}},e.mousePosition=function(p,y,w){var m=w;m.fillStyle="rgba(255,255,255,0.8)",m.fillText(y.position.x+"  "+y.position.y,y.position.x+5,y.position.y-5)},e.bodyBounds=function(p,y,w){var m=w;p.engine;var M=p.options;m.beginPath();for(var S=0;S<y.length;S++){var I=y[S];if(I.render.visible)for(var A=y[S].parts,B=A.length>1?1:0;B<A.length;B++){var R=A[B];m.rect(R.bounds.min.x,R.bounds.min.y,R.bounds.max.x-R.bounds.min.x,R.bounds.max.y-R.bounds.min.y)}}M.wireframes?m.strokeStyle="rgba(255,255,255,0.08)":m.strokeStyle="rgba(0,0,0,0.1)",m.lineWidth=1,m.stroke()},e.bodyAxes=function(p,y,w){var m=w;p.engine;var M=p.options,S,I,A,B;for(m.beginPath(),I=0;I<y.length;I++){var R=y[I],k=R.parts;if(R.render.visible)if(M.showAxes)for(A=k.length>1?1:0;A<k.length;A++)for(S=k[A],B=0;B<S.axes.length;B++){var F=S.axes[B];m.moveTo(S.position.x,S.position.y),m.lineTo(S.position.x+F.x*20,S.position.y+F.y*20)}else for(A=k.length>1?1:0;A<k.length;A++)for(S=k[A],B=0;B<S.axes.length;B++)m.moveTo(S.position.x,S.position.y),m.lineTo((S.vertices[0].x+S.vertices[S.vertices.length-1].x)/2,(S.vertices[0].y+S.vertices[S.vertices.length-1].y)/2)}M.wireframes?(m.strokeStyle="indianred",m.lineWidth=1):(m.strokeStyle="rgba(255, 255, 255, 0.4)",m.globalCompositeOperation="overlay",m.lineWidth=2),m.stroke(),m.globalCompositeOperation="source-over"},e.bodyPositions=function(p,y,w){var m=w;p.engine;var M=p.options,S,I,A,B;for(m.beginPath(),A=0;A<y.length;A++)if(S=y[A],!!S.render.visible)for(B=0;B<S.parts.length;B++)I=S.parts[B],m.arc(I.position.x,I.position.y,3,0,2*Math.PI,!1),m.closePath();for(M.wireframes?m.fillStyle="indianred":m.fillStyle="rgba(0,0,0,0.5)",m.fill(),m.beginPath(),A=0;A<y.length;A++)S=y[A],S.render.visible&&(m.arc(S.positionPrev.x,S.positionPrev.y,2,0,2*Math.PI,!1),m.closePath());m.fillStyle="rgba(255,165,0,0.8)",m.fill()},e.bodyVelocity=function(p,y,w){var m=w;m.beginPath();for(var M=0;M<y.length;M++){var S=y[M];if(S.render.visible){var I=f.getVelocity(S);m.moveTo(S.position.x,S.position.y),m.lineTo(S.position.x+I.x,S.position.y+I.y)}}m.lineWidth=3,m.strokeStyle="cornflowerblue",m.stroke()},e.bodyIds=function(p,y,w){var m=w,M,S;for(M=0;M<y.length;M++)if(y[M].render.visible){var I=y[M].parts;for(S=I.length>1?1:0;S<I.length;S++){var A=I[S];m.font="12px Arial",m.fillStyle="rgba(255,255,255,0.5)",m.fillText(A.id,A.position.x+10,A.position.y-10)}}},e.collisions=function(p,y,w){var m=w,M=p.options,S,I,A,B;for(m.beginPath(),A=0;A<y.length;A++)if(S=y[A],!!S.isActive)for(I=S.collision,B=0;B<S.contactCount;B++){var R=S.contacts[B],k=R.vertex;m.rect(k.x-1.5,k.y-1.5,3.5,3.5)}for(M.wireframes?m.fillStyle="rgba(255,255,255,0.7)":m.fillStyle="orange",m.fill(),m.beginPath(),A=0;A<y.length;A++)if(S=y[A],!!S.isActive&&(I=S.collision,S.contactCount>0)){var F=S.contacts[0].vertex.x,D=S.contacts[0].vertex.y;S.contactCount===2&&(F=(S.contacts[0].vertex.x+S.contacts[1].vertex.x)/2,D=(S.contacts[0].vertex.y+S.contacts[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic===!0?m.moveTo(F-I.normal.x*8,D-I.normal.y*8):m.moveTo(F+I.normal.x*8,D+I.normal.y*8),m.lineTo(F,D)}M.wireframes?m.strokeStyle="rgba(255,165,0,0.7)":m.strokeStyle="orange",m.lineWidth=1,m.stroke()},e.separations=function(p,y,w){var m=w,M=p.options,S,I,A,B,R;for(m.beginPath(),R=0;R<y.length;R++)if(S=y[R],!!S.isActive){I=S.collision,A=I.bodyA,B=I.bodyB;var k=1;!B.isStatic&&!A.isStatic&&(k=.5),B.isStatic&&(k=0),m.moveTo(B.position.x,B.position.y),m.lineTo(B.position.x-I.penetration.x*k,B.position.y-I.penetration.y*k),k=1,!B.isStatic&&!A.isStatic&&(k=.5),A.isStatic&&(k=0),m.moveTo(A.position.x,A.position.y),m.lineTo(A.position.x+I.penetration.x*k,A.position.y+I.penetration.y*k)}M.wireframes?m.strokeStyle="rgba(255,165,0,0.5)":m.strokeStyle="orange",m.stroke()},e.inspector=function(p,y){p.engine;var w=p.selected,m=p.render,M=m.options,S;if(M.hasBounds){var I=m.bounds.max.x-m.bounds.min.x,A=m.bounds.max.y-m.bounds.min.y,B=I/m.options.width,R=A/m.options.height;y.scale(1/B,1/R),y.translate(-m.bounds.min.x,-m.bounds.min.y)}for(var k=0;k<w.length;k++){var F=w[k].data;switch(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.9)",y.setLineDash([1,2]),F.type){case"body":S=F.bounds,y.beginPath(),y.rect(Math.floor(S.min.x-3),Math.floor(S.min.y-3),Math.floor(S.max.x-S.min.x+6),Math.floor(S.max.y-S.min.y+6)),y.closePath(),y.stroke();break;case"constraint":var D=F.pointA;F.bodyA&&(D=F.pointB),y.beginPath(),y.arc(D.x,D.y,10,0,2*Math.PI),y.closePath(),y.stroke();break}y.setLineDash([]),y.translate(-.5,-.5)}p.selectStart!==null&&(y.translate(.5,.5),y.lineWidth=1,y.strokeStyle="rgba(255,165,0,0.6)",y.fillStyle="rgba(255,165,0,0.1)",S=p.selectBounds,y.beginPath(),y.rect(Math.floor(S.min.x),Math.floor(S.min.y),Math.floor(S.max.x-S.min.x),Math.floor(S.max.y-S.min.y)),y.closePath(),y.stroke(),y.fill(),y.translate(-.5,-.5)),M.hasBounds&&y.setTransform(1,0,0,1,0,0)};var s=function(p,y){var w=p.engine,m=p.timing,M=m.historySize,S=w.timing.timestamp;m.delta=y-m.lastTime||e._goodDelta,m.lastTime=y,m.timestampElapsed=S-m.lastTimestamp||0,m.lastTimestamp=S,m.deltaHistory.unshift(m.delta),m.deltaHistory.length=Math.min(m.deltaHistory.length,M),m.engineDeltaHistory.unshift(w.timing.lastDelta),m.engineDeltaHistory.length=Math.min(m.engineDeltaHistory.length,M),m.timestampElapsedHistory.unshift(m.timestampElapsed),m.timestampElapsedHistory.length=Math.min(m.timestampElapsedHistory.length,M),m.engineUpdatesHistory.unshift(w.timing.lastUpdatesPerFrame),m.engineUpdatesHistory.length=Math.min(m.engineUpdatesHistory.length,M),m.engineElapsedHistory.unshift(w.timing.lastElapsed),m.engineElapsedHistory.length=Math.min(m.engineElapsedHistory.length,M),m.elapsedHistory.unshift(m.lastElapsed),m.elapsedHistory.length=Math.min(m.elapsedHistory.length,M)},h=function(p){for(var y=0,w=0;w<p.length;w+=1)y+=p[w];return y/p.length||0},x=function(p,y){var w=document.createElement("canvas");return w.width=p,w.height=y,w.oncontextmenu=function(){return!1},w.onselectstart=function(){return!1},w},P=function(p){var y=p.getContext("2d"),w=window.devicePixelRatio||1,m=y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1;return w/m},E=function(p,y){var w=p.textures[y];return w||(w=p.textures[y]=new Image,w.src=y,w)},T=function(p,y){var w=y;/(jpg|gif|png)$/.test(y)&&(w="url("+y+")"),p.canvas.style.background=w,p.canvas.style.backgroundSize="contain",p.currentBackground=y}})()},function(d,C,c){var e={};d.exports=e;var f=c(5),r=c(17),n=c(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(i){var v={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},o=n.extend(v,i);return o.fps=0,o},e.run=function(i,v){return i.timeBuffer=e._frameDeltaFallback,function o(t){i.frameRequestId=e._onNextFrame(i,o),t&&i.enabled&&e.tick(i,v,t)}(),i},e.tick=function(i,v,o){var t=n.now(),a=i.delta,s=0,h=o-i.timeLastTick;if((!h||!i.timeLastTick||h>Math.max(e._maxFrameDelta,i.maxFrameTime))&&(h=i.frameDelta||e._frameDeltaFallback),i.frameDeltaSmoothing){i.frameDeltaHistory.push(h),i.frameDeltaHistory=i.frameDeltaHistory.slice(-i.frameDeltaHistorySize);var x=i.frameDeltaHistory.slice(0).sort(),P=i.frameDeltaHistory.slice(x.length*e._smoothingLowerBound,x.length*e._smoothingUpperBound),E=u(P);h=E||h}i.frameDeltaSnapping&&(h=1e3/Math.round(1e3/h)),i.frameDelta=h,i.timeLastTick=o,i.timeBuffer+=i.frameDelta,i.timeBuffer=n.clamp(i.timeBuffer,0,i.frameDelta+a*e._timeBufferMargin),i.lastUpdatesDeferred=0;var T=i.maxUpdates||Math.ceil(i.maxFrameTime/a),p={timestamp:v.timing.timestamp};f.trigger(i,"beforeTick",p),f.trigger(i,"tick",p);for(var y=n.now();a>0&&i.timeBuffer>=a*e._timeBufferMargin;){f.trigger(i,"beforeUpdate",p),r.update(v,a),f.trigger(i,"afterUpdate",p),i.timeBuffer-=a,s+=1;var w=n.now()-t,m=n.now()-y,M=w+e._elapsedNextEstimate*m/s;if(s>=T||M>i.maxFrameTime){i.lastUpdatesDeferred=Math.round(Math.max(0,i.timeBuffer/a-e._timeBufferMargin));break}}v.timing.lastUpdatesPerFrame=s,f.trigger(i,"afterTick",p),i.frameDeltaHistory.length>=100&&(i.lastUpdatesDeferred&&Math.round(i.frameDelta/a)>T?n.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):i.lastUpdatesDeferred&&n.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof i.isFixed<"u"&&n.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(i.deltaMin||i.deltaMax)&&n.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),i.fps!==0&&n.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(i){e._cancelNextFrame(i)},e._onNextFrame=function(i,v){if(typeof window<"u"&&window.requestAnimationFrame)i.frameRequestId=window.requestAnimationFrame(v);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return i.frameRequestId},e._cancelNextFrame=function(i){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(i.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var u=function(i){for(var v=0,o=i.length,t=0;t<o;t+=1)v+=i[t];return v/o||0}})()},function(d,C,c){var e={};d.exports=e;var f=c(8),r=c(0),n=r.deprecated;(function(){e.collides=function(u,i){return f.collides(u,i)},n(e,"collides","SAT.collides âž¤ replaced by Collision.collides")})()},function(d,C,c){var e={};d.exports=e,c(1);var f=c(0);(function(){e.pathToVertices=function(r,n){typeof window<"u"&&!("SVGPathSeg"in window)&&f.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var u,i,v,o,t,a,s,h,x,P,E=[],T,p,y=0,w=0,m=0;n=n||15;var M=function(I,A,B){var R=B%2===1&&B>1;if(!x||I!=x.x||A!=x.y){x&&R?(T=x.x,p=x.y):(T=0,p=0);var k={x:T+I,y:p+A};(R||!x)&&(x=k),E.push(k),w=T+I,m=p+A}},S=function(I){var A=I.pathSegTypeAsLetter.toUpperCase();if(A!=="Z"){switch(A){case"M":case"L":case"T":case"C":case"S":case"Q":w=I.x,m=I.y;break;case"H":w=I.x;break;case"V":m=I.y;break}M(w,m,I.pathSegType)}};for(e._svgPathToAbsolute(r),v=r.getTotalLength(),a=[],u=0;u<r.pathSegList.numberOfItems;u+=1)a.push(r.pathSegList.getItem(u));for(s=a.concat();y<v;){if(P=r.getPathSegAtLength(y),t=a[P],t!=h){for(;s.length&&s[0]!=t;)S(s.shift());h=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":o=r.getPointAtLength(y),M(o.x,o.y,0);break}y+=n}for(u=0,i=s.length;u<i;++u)S(s[u]);return E},e._svgPathToAbsolute=function(r){for(var n,u,i,v,o,t,a=r.pathSegList,s=0,h=0,x=a.numberOfItems,P=0;P<x;++P){var E=a.getItem(P),T=E.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(T))"x"in E&&(s=E.x),"y"in E&&(h=E.y);else switch("x1"in E&&(i=s+E.x1),"x2"in E&&(o=s+E.x2),"y1"in E&&(v=h+E.y1),"y2"in E&&(t=h+E.y2),"x"in E&&(s+=E.x),"y"in E&&(h+=E.y),T){case"m":a.replaceItem(r.createSVGPathSegMovetoAbs(s,h),P);break;case"l":a.replaceItem(r.createSVGPathSegLinetoAbs(s,h),P);break;case"h":a.replaceItem(r.createSVGPathSegLinetoHorizontalAbs(s),P);break;case"v":a.replaceItem(r.createSVGPathSegLinetoVerticalAbs(h),P);break;case"c":a.replaceItem(r.createSVGPathSegCurvetoCubicAbs(s,h,i,v,o,t),P);break;case"s":a.replaceItem(r.createSVGPathSegCurvetoCubicSmoothAbs(s,h,o,t),P);break;case"q":a.replaceItem(r.createSVGPathSegCurvetoQuadraticAbs(s,h,i,v),P);break;case"t":a.replaceItem(r.createSVGPathSegCurvetoQuadraticSmoothAbs(s,h),P);break;case"a":a.replaceItem(r.createSVGPathSegArcAbs(s,h,E.r1,E.r2,E.angle,E.largeArcFlag,E.sweepFlag),P);break;case"z":case"Z":s=n,h=u;break}(T=="M"||T=="m")&&(n=s,u=h)}}})()},function(d,C,c){var e={};d.exports=e;var f=c(6);c(0),function(){e.create=f.create,e.add=f.add,e.remove=f.remove,e.clear=f.clear,e.addComposite=f.addComposite,e.addBody=f.addBody,e.addConstraint=f.addConstraint}()}])})}(Ze)),Ze.exports}var G=sr(),or=Tt('<div class="svelte-r65jqg"></div>');function lr(l,g){St(g,!1);let d=null,C=null;window.addEventListener("resize",r=>{console.log("resize")});function c(r){switch(r.type){case"mousemove":case"touchmove":d?.body&&C?.mousemove(r);break;case"mousedown":case"touchstart":C?.mousedown(r);break;case"mouseup":case"touchend":C?.mouseup(r);break}return!!d?.body}let e=gi();Tn(async()=>{await Oi();const r=window.visualViewport?.width??window.innerWidth,n=ie(e).offsetHeight,u=r*.75,i=n/2,v={fillStyle:"#fff5da"};let o=[G.Bodies.rectangle(r/2,n+151,r,300,{isStatic:!0}),G.Bodies.rectangle(r/2,-151,r,300,{isStatic:!0}),G.Bodies.rectangle(-151,n/2,300,n,{isStatic:!0}),G.Bodies.rectangle(r+151,n/2,300,n,{isStatic:!0})],t=[G.Bodies.rectangle(u,i+30,40,40,{render:v,angle:30}),G.Bodies.rectangle(u-30,i,50,60,{render:v}),G.Bodies.rectangle(u+15,i,50,30,{render:v,angle:120}),G.Bodies.rectangle(u,i-10,50,70,{render:v})];const a=G.Engine.create();for(let x=0;x<60;x++)G.Engine.update(a,1e3/60);const s=G.Render.create({element:ie(e),engine:a,options:{width:r,height:n,background:"transparent",wireframeBackground:"transparent",wireframes:!1}});C=G.Mouse.create(s.canvas),d=G.MouseConstraint.create(a,{mouse:C,constraint:{stiffness:.2,render:{visible:!1}}}),G.Composite.add(a.world,[...o,...t,d]),s.mouse=C,G.Render.run(s);const h=G.Runner.create({});G.Runner.run(h,a)}),er();var f=or();return An(f,r=>Y(e,r),()=>ie(e)),Bt(l,f),qi(g,"fireEvent",c),Pt({fireEvent:c})}var fr=Tt("<main><!> <!></main>");function ur(l,g){St(g,!0);let d,C=fe(!1),c=fe(!1);Tn(()=>{document.body.addEventListener("mousemove",n=>Y(C,d.fireEvent(n),!0),{passive:!0}),document.body.addEventListener("mousedown",n=>Y(C,d.fireEvent(n),!0),{passive:!0}),document.body.addEventListener("mouseup",n=>Y(C,d.fireEvent(n),!0),{passive:!0}),document.body.addEventListener("touchmove",n=>Y(C,d.fireEvent(n),!0),{passive:!1}),document.body.addEventListener("touchstart",n=>Y(C,d.fireEvent(n),!0),{passive:!0}),document.body.addEventListener("touchend",n=>Y(C,d.fireEvent(n),!0),{passive:!0}),setTimeout(()=>Y(c,!0),200)});var e=fr(),f=yi(e);rr(f,{get pointerEvents(){return ie(C)}});var r=wi(f,2);An(lr(r,{}),n=>d=n,()=>d),mn(()=>Xi(e,1,Zi(ie(c)?"visible":null),"svelte-ov99jb")),Bt(l,e),Pt()}zi(ur,{target:document.getElementById("app")});
